(self.webpackChunk_loomhq_web_client=self.webpackChunk_loomhq_web_client||[]).push([[9324,3891],{61709:function(e,t,n){"use strict";n.d(t,{CT:function(){return C},Nm:function(){return h},Or:function(){return f},Pj:function(){return b},Wx:function(){return E},cL:function(){return y},kA:function(){return w},tl:function(){return S},wu:function(){return v},xJ:function(){return p},zZ:function(){return g}});var a,i,o,r,l,s,c,d,m,u,g=((a=g||{}).TEAM_VIDEOS_CONSUMED="TEAM_VIDEOS_CONSUMED",a.TEAM_VIDEOS_POSTED="TEAM_VIDEOS_POSTED",a.USER_LIBRARY="USER_LIBRARY",a.ADMIN_LOOMS_WATCHED_TIME="ADMIN_LOOMS_WATCHED_TIME",a.ADMIN_INTERACTIONS="ADMIN_INTERACTIONS",a.ADMIN_MEETINGS_SAVED="ADMIN_MEETINGS_SAVED",a.ADMIN_LOOMS_RECORDED="ADMIN_LOOMS_RECORDED",a),p=((i=p||{}).USER="USER",i.TEAM="TEAM",i.ADMIN="ADMIN",i),v=((o=v||{}).PLAIN="PLAIN",o.EMPHASIZED="EMPHASIZED",o),f=((r=f||{}).LAST_NINETY_DAYS="LAST_NINETY_DAYS",r.LAST_YEAR="LAST_YEAR",r.ALL_TIME="ALL_TIME",r),h=((l=h||{}).WEEK="WEEK",l.MONTH="MONTH",l.NINETY_DAYS="NINETY_DAYS",l),E=((s=E||{}).OLD_GEM="OLD_GEM",s.INFLUENTIAL="INFLUENTIAL",s.SINGLE_VIDEO="SINGLE_VIDEO",s.ONE_ON_ONE_LOOP="ONE_ON_ONE_LOOP",s),_=((c=_||{}).HOUR="hour",c.MINUTE="min",c),y=((d=y||{}).ASYNC_BEHAVIOR="ASYNC_BEHAVIOR",d),b=((m=b||{}).SPEECH_CLARITY="SPEECH_CLARITY",m),k=((u=k||{}).NUMBER_OF_WORDS="numberOfWords",u.NUMBER_OF_FILLER_WORDS="numberOfFillerWords",u.VIDEO_VIEW="videoView",u.VIDEO_REACTION="videoReaction",u.VIDEO_COMMENT="videoComment",u.VIEW_DURATION="viewDuration",u);let w=3,C=50,S={aiWizard:{background:"#B3359B",highlight:"#F7C7E1",body:"#ffffff",title:"AI Wizard",description:"Your productivity levels are absolutely magical. Your AI wizarding ways help you and your team save time and focus on what counts.",image:"https://cdn.loom.com/assets/marketing/email/badges/ai-wizard.png"},allStar:{background:"#565ADD",highlight:"#D1D1F7",body:"#ffffff",title:"All Star",description:"Do you have space for a trophy? You’ll need some. You’re a top user of Loom, and it shows. You use Loom to do your best work.",image:"https://cdn.loom.com/assets/marketing/email/badges/all-star.png"},eliteEditor:{background:"#41764D",highlight:"#E8F5E3",body:"#ffffff",title:"Elite Editor",description:"You have an editor’s eye. You dive into the details and make sure every edit enhances the quality of your video.",image:"https://cdn.loom.com/assets/marketing/email/badges/elite-editor.png"},sculptor:{background:"#41764D",highlight:"#E8F5E3",body:"#ffffff",title:"Elite Editor",description:"You have an editor’s eye. You dive into the details and make sure every edit enhances the quality of your video.",image:"https://cdn.loom.com/assets/marketing/email/badges/elite-editor.png"},partyStarter:{background:"#D46211",highlight:"#FDF3CD",body:"#ffffff",title:"Party Starter",description:"The party doesn’t start by itself — you’re the one that starts it. From emojis, to video replies, to stellar comments, you bring the hype.",image:"https://cdn.loom.com/assets/marketing/email/badges/party-starter.png"},scholar:{background:"#0C66E4",highlight:"#CCE9FF",body:"#ffffff",title:"Scholar",description:"Where there’s a question, you have a sage answer. Constantly taking in information from your team’s Looms, you’re always in the know.",image:"https://cdn.loom.com/assets/marketing/email/badges/scholar.png"},timeSaver:{background:"#565ADD",highlight:"#D1D1F7",body:"#ffffff",title:"Time Saver",description:"You’re the person that gets the job done. You cross those t’s, dot those i’s and save everyone time, while making their work better. Great job.",image:"https://cdn.loom.com/assets/marketing/email/badges/time-saver.png"}}},63240:function(e,t,n){"use strict";n.d(t,{$m:function(){return i},cD:function(){return a},mN:function(){return o}});let a="highlightComment",i="highlightReply",o="highlightTask"},11893:function(e,t,n){"use strict";n.d(t,{$n:function(){return A},CN:function(){return E},HO:function(){return C},NOTIFICATION_URL_PARAMS:function(){return x},Q0:function(){return f},T5:function(){return W},Vq:function(){return F},Wf:function(){return v},Wy:function(){return V},XY:function(){return h},YU:function(){return y},_u:function(){return k},_x:function(){return T},bU:function(){return b},eX:function(){return S},fQ:function(){return O},k$:function(){return I},kh:function(){return B},n2:function(){return $},oo:function(){return w},qZ:function(){return _},tI:function(){return m},vy:function(){return z}});var a,i,o,r,l,s,c,d=n(58461),m=((a=m||{}).Mail="mail",a.Mobile="mobile",a.Web="web",a.Slack="slack",a.AtlassianNotifications="atlassianNotifications",a),u=((i=u||{}).CREATED="created",i.SENT="sent",i.DELIVERED="delivered",i.SEEN="seen",i.READ="read",i),g=((o=g||{}).SUCCESS="success",o.FAILURE="failure",o.NOOP="noop",o);let p="mail",v=(Object.values(m),"shared"),f="comments",h="all",E="InvalidStateError",_="granted",y="denied",b="prompt",k="device_unsupported",w="created",C="delivered",S="seen",T="read",x={reactor:"user_id_of_reactor",startAndPause:"start_and_pause"};var I=((r=I||{}).RetranscriptionSuccess="retranscription_success_notification",r.RetranscriptionFailure="retranscription_failure_notification",r.VideoTaskResponse="video_task_response_notification",r.VideoTaskMention="video_task_mention_notification",r.CalendarEfficiency="calendar_efficiency_notification",r.BusinessAiTrialWelcome="business_ai_trial_welcome",r.InsightsTimeSaved="insights_time_saved_notification",r.InsightsViewMilestone="insights_view_milestone_notification",r.VideoUsedAsWeaveClip="video_used_as_weave_clip",r.CommentReply="comment_reply_notification",r.FirstVideoView="first_video_view_notification",r.HighVideoViews="high_video_views_notification",r.WeaveFirstVideoView="weave_video_first_view",r.AddWatchLater="added_to_watch_later_notification",r.VideoComment="video_comment_notification",r.VideoReaction="video_reaction_notification",r.ContentLimitApproaching="content_limit_approaching_notification",r.ContentLimitReached="content_limit_reached_notification",r.CreatorLiteLimitApproaching="creator_lite_limit_approaching_notification",r.CreatorLiteLimitReached="creator_lite_limit_reached_notification",r.MembershipRoleChanged="membership_role_change_notification",r.WorkspaceInvitation="workspace_invitation_notification",r.ShareVideo="share_video_notification",r.ReshareVideo="reshare_video_notification",r.VideoPrivacyChange="video_privacy_change_notification",r.ExternalVideoIngestionProcessing="external_ingestion_processing_notification",r.ExternalVideoIngestionCompleted="external_ingestion_completed_notification",r.IngestionIntegrationEnabled="ingestion_integration_enabled_notification",r.SpaceInvitation="space_invitation_notification",r.SpaceContent="space_content_notification",r.SpaceAllHandsContent="space_all_hands_content_notification",r.SpaceAdminAction="space_admin_action_notification",r.SpaceStateChange="space_state_change_notification",r.SpaceVideoMoved="space_item_moved_notification",r.CommentMention="comment_mention_notification",r.PostCommentMention="post_comment_mention_notification",r.ReplyCommentMention="reply_comment_mention_notification",r.VideoReactionBundle="videoReactionBundle",r.RecordingNudgeAfterXViewsGiven="recording_nudge_after_x_views_given_notification",r.ReminderToRecord="reminder_to_record_notification",r.NewFollower="new_follower_notification",r.InsightsDigest="insights_digest_notification",r.WatchLaterReminder="watch_later_reminder_notification",r.SendWatchLaterReminderWeekdaysOnly="send_watch_later_reminder_weekdays_only_setting",r.OrgInviteAcceptedWithIncentives="org_invite_accepted_with_incentives",r),A=((l=A||{}).Reply="reply",l.Comment="comment",l.Reaction="reaction",l.FirstVideoView="vfv",l.WatchLater="watchList",l.ContentLimitApproaching="contentLimitApproaching",l.ContentLimitReached="contentLimitReached",l.CreatorLiteLimitApproaching="creatorLiteLimitApproaching",l.CreatorLiteLimitReached="creatorLiteLimitReached",l.MembershipRoleChange="membershipRoleChange",l.ShareVideo="shareVideo",l.ReshareVideo="reshareVideo",l.VideoPrivacyChange="videoPrivacyChange",l.PostCommentMention="postCommentMention",l.ReplyCommentMention="replyCommentMention",l.ExternalIngestionProcessing="externalIngestionProcessing",l.ExternalIngestionCompleted="externalIngestionCompleted",l.CommentMention="commentMention",l.WorkspaceInvitation="workspaceInvitation",l.NewFollower="newfollower",l.InsightsDigest="insightsDigest",l);let N="Video Reaction Push Notification Sent",L="Video Reaction Push Notif Click";var P=((s=P||{}).INSTANT="instant",s.NEXT_DAY="next_day",s.NEXT_DAY_SKIP_WEEKENDS="next_day_skip_weekends",s);let D={retranscription_success_notification:{type:"retranscription_success_notification",clientName:"retranscription_success_notification",sentEvent:"Retranscription success Push Notification Sent",webPushEvent:"Retranscription success Push Notification Clicked",canToggle:!0,deliveryMethods:[p,"web"],feature:d.L0.TranscriptExtraction},retranscription_failure_notification:{type:"retranscription_failure_notification",clientName:"retranscription_failure_notification",sentEvent:"Retranscription failure Push Notification Sent",webPushEvent:"Retranscription failure Push Notification Clicked",canToggle:!0,deliveryMethods:[p,"web"],feature:d.L0.TranscriptExtraction},video_task_response_notification:{type:"video_task_response_notification",clientName:"video_task_response_notification",sentEvent:"Video task response Push Notification Sent",webPushEvent:"Video task response Push Notification Clicked",canToggle:!0,deliveryMethods:[p,"web"],feature:d.L0.VideoTasks},video_task_mention_notification:{type:"video_task_mention_notification",clientName:"video_task_mention_notification",sentEvent:"Video task mention Push Notification Sent",webPushEvent:"Video task mention Push Notification Clicked",canToggle:!0,deliveryMethods:[p,"web"],feature:d.L0.VideoTasks},calendar_efficiency_notification:{type:"calendar_efficiency_notification",clientName:"calendar_efficiency_notification",sentEvent:"Calendar_efficiency Push Notification Sent",webPushEvent:"Calendar_efficiency Push Notification Clicked",canToggle:!1,deliveryMethods:[p,"web"],deliveryMethodOverrides:{},feature:d.L0.GrowthNotifications},business_ai_trial_welcome:{type:"business_ai_trial_welcome",clientName:"business_ai_trial_welcome",sentEvent:"Business_Ai_trial_welcome Push Notification Sent",webPushEvent:"Business_Ai_trial_welcome Push Notification Clicked",canToggle:!1,deliveryMethods:[p,"web"],deliveryMethodOverrides:{},feature:d.L0.BusinessTrial},insights_time_saved_notification:{type:"insights_time_saved_notification",clientName:"insights_time_saved_notification",sentEvent:"Insights_time_saved Push Notification Sent",webPushEvent:"Insights_time_saved Push Notification Clicked",canToggle:!1,deliveryMethods:["web"],deliveryMethodOverrides:{},feature:d.L0.InsightsHub},insights_view_milestone_notification:{type:"insights_view_milestone_notification",clientName:"insights_view_milestone_notification",sentEvent:"Insights_view_milestone Push Notification Sent",webPushEvent:"Insights_view_milestone Push Notification Clicked",canToggle:!0,deliveryMethods:["web"],deliveryMethodOverrides:{},feature:d.L0.InsightsHub},recording_nudge_after_x_views_given_notification:{type:"recording_nudge_after_x_views_given_notification",clientName:"recording_nudge_after_x_views_given_notification",sentEvent:"Recording_nudge_after_x_views_given Push Notification Sent",webPushEvent:"Recording_nudge_after_x_views_given Push Notification Clicked",canToggle:!1,deliveryMethods:[p,"web"],feature:d.L0.GrowthNotifications},video_used_as_weave_clip:{type:"video_used_as_weave_clip",clientName:"video_used_as_weave_clip",sentEvent:"Video Used as Weave Clip Notification",webPushEvent:"Video Used As Weave Clip Click",canToggle:!0,feature:d.L0.VideoEditing},comment_reply_notification:{type:"comment_reply_notification",clientName:"reply",sentEvent:"Comment Reply Push Notification Sent",webPushEvent:"Comment Reply Push Notif Click",canToggle:!0,feature:d.L0.Comments},content_limit_reached_notification:{type:"content_limit_reached_notification",clientName:"contentLimitReached",sentEvent:"Content Limit Reached Notification Sent",webPushEvent:"Reached Content Limit Notif Click",feature:d.L0.MemberLimits},creator_lite_limit_approaching_notification:{type:"creator_lite_limit_approaching_notification",clientName:"creatorLiteLimitApproaching",sentEvent:"Creator Lite Limit Approaching Notification Sent",webPushEvent:"Approaching Creator Lite Limit Notif Click",feature:d.L0.WorkspaceLimits},creator_lite_limit_reached_notification:{type:"creator_lite_limit_reached_notification",clientName:"creatorLiteLimitReached",sentEvent:"Creator Lite Limit Reached Notification Sent",webPushEvent:"Reached Creator Lite Limit Notif Click",feature:d.L0.WorkspaceLimits},first_video_view_notification:{type:"first_video_view_notification",clientName:"vfv",webPushEvent:"First Video View Push Notif Click",canToggle:!0,feature:d.L0.WorkspaceManagement},high_video_views_notification:{type:"high_video_views_notification",clientName:"high_video_views_notification",sentEvent:"High Video Views Notification Sent",webPushEvent:"High Video Views Notif Click",canToggle:!0},weave_video_first_view:{type:"weave_video_first_view",clientName:"weave_video_first_view",sentEvent:"Weave First Video View Push Notification Sent",webPushEvent:"Weave First Video View Push Notif Click",canToggle:!0,feature:d.L0.VideoEditing},video_comment_notification:{type:"video_comment_notification",clientName:"comment",webPushEvent:"Video Comment Push Notif Click",canToggle:!0,feature:d.L0.Comments},workspace_invitation_notification:{type:"workspace_invitation_notification",clientName:"workspaceInvitation",sentEvent:"Workspace Invitation Notification Sent",deliveryMethods:["mail"]},video_reaction_notification:{type:"video_reaction_notification",clientName:"reaction",sentEvent:N,webPushEvent:L,canToggle:!0,deliveryMethodOverrides:{[p]:!1},feature:d.L0.VideoReactions},membership_role_change_notification:{type:"membership_role_change_notification",clientName:"membershipRoleChange",sentEvent:"Membership Role Change Notification Sent",feature:d.L0.WorkspaceManagement},added_to_watch_later_notification:{type:"added_to_watch_later_notification",clientName:"watchList",sentEvent:"Added to Watch Later Push Notification Sent",webPushEvent:"Watch Later Push Notification Click",canToggle:!0,feature:d.L0.WatchLater},share_video_notification:{type:"share_video_notification",clientName:"shareVideo",sentEvent:"Video Share Push Notification Sent",webPushEvent:"Video Share Push Notif Click",canToggle:!0,iOSCategory:"watch-later"},reshare_video_notification:{type:"reshare_video_notification",clientName:"reshareVideo",sentEvent:"Video Re-share Push Notification Sent",webPushEvent:"Video Re-share Push Notif Click",canToggle:!0,deliveryMethodOverrides:{[p]:!1}},video_privacy_change_notification:{type:"video_privacy_change_notification",clientName:"videoPrivacyChange",sentEvent:"Video Privacy Change Push Notification Sent",webPushEvent:"Video Privacy Change Push Notif Click",canToggle:!0,deliveryMethodOverrides:{[p]:!1},feature:d.L0.VideoSettings},post_comment_mention_notification:{type:"post_comment_mention_notification",clientName:"postCommentMention",sentEvent:"Post Comment Mention Notification Sent",webPushEvent:"Comment Mention Push Notif Click",feature:d.L0.Comments},reply_comment_mention_notification:{type:"reply_comment_mention_notification",clientName:"replyCommentMention",sentEvent:"Reply Comment Mention Notification Sent",webPushEvent:"Reply Comment Mention Push Notif Click",feature:d.L0.Comments},external_ingestion_processing_notification:{type:"external_ingestion_processing_notification",clientName:"externalIngestionProcessing",sentEvent:"External Video Ingestion Processing Notification Sent",webPushEvent:"External Ingestion Processing Notif Click",canToggle:!0,feature:d.L0.VideoUpload},external_ingestion_completed_notification:{type:"external_ingestion_completed_notification",clientName:"externalIngestionCompleted",sentEvent:"External Video Ingestion Completed Notification Sent",webPushEvent:"External Ingestion Completed Notif Click",canToggle:!0,feature:d.L0.VideoUpload},ingestion_integration_enabled_notification:{type:"ingestion_integration_enabled_notification",clientName:"ingestion_integration_enabled_notification",sentEvent:"Ingestion Integration Enabled Notification Sent",webPushEvent:"Ingestion Integration Enabled Notif Click",feature:d.L0.WorkspaceManagement},space_invitation_notification:{type:"space_invitation_notification",clientName:"space_invitation_notification",sentEvent:"Space Invitation Notification Sent",webPushEvent:"Space Invitation Notification Click",canToggle:!0,feature:d.L0.Spaces},space_content_notification:{type:"space_content_notification",clientName:"space_content_notification",sentEvent:"New Space Content Notification Sent",webPushEvent:"New Space Content Notification Click",canToggle:!0,feature:d.L0.Spaces},space_all_hands_content_notification:{type:"space_all_hands_content_notification",clientName:"space_all_hands_content_notification",sentEvent:"New All Hands Space Content Notification Sent",webPushEvent:"New All Hands Space Content Notification Click",canToggle:!0,feature:d.L0.Spaces},space_admin_action_notification:{type:"space_admin_action_notification",clientName:"space_admin_action_notification",sentEvent:"New Space Admin Action Notification Sent",webPushEvent:"New Space Admin Action Notification Click",canToggle:!0,feature:d.L0.Spaces},space_state_change_notification:{type:"space_state_change_notification",clientName:"space_state_change_notification",sentEvent:"New Space State Change Notification Sent",webPushEvent:"New Space State Change Notification Click",canToggle:!0,feature:d.L0.Spaces},space_item_moved_notification:{type:"space_item_moved_notification",clientName:"space_item_moved_notification",sentEvent:"Space Video Moved Notification Sent",webPushEvent:"Space Video Moved Notification Click",feature:d.L0.Spaces},content_limit_approaching_notification:{type:"content_limit_approaching_notification",clientName:"contentLimitApproaching",sentEvent:"Content Limit Approaching Notification Sent",webPushEvent:"Approaching Content Limit Notif Click",feature:d.L0.MemberLimits},reminder_to_record_notification:{type:"reminder_to_record_notification",clientName:"reminder_to_record_notification",webPushEvent:"Reminder To Record Notif Click",canToggle:!0,feature:d.L0.RemindersToRecord},comment_mention_notification:{type:"comment_mention_notification",clientName:"commentMention",sentEvent:"Comment Mention Notification Sent",canToggle:!0,feature:d.L0.Comments},videoReactionBundle:{type:"videoReactionBundle",clientName:"reaction",sentEvent:N,webPushEvent:L,feature:d.L0.VideoReactions},new_follower_notification:{type:"new_follower_notification",clientName:"newfollower",sentEvent:"New follower Notification Sent",canToggle:!0,webPushEvent:"New follower Notification Click",feature:d.L0.Followers},insights_digest_notification:{type:"insights_digest_notification",clientName:"insightsDigest",sentEvent:"New Insights Digest Notification Sent",deliveryMethods:[p],canToggle:!0,webPushEvent:"New Insights Digest Notification Click",feature:d.L0.InsightsDigest},watch_later_reminder_notification:{type:"watch_later_reminder_notification",clientName:"watch_later_reminder_notification",sentEvent:"New Watch Later List Reminder Sent",canToggle:!0,feature:d.L0.WatchLater},send_watch_later_reminder_weekdays_only_setting:{type:"send_watch_later_reminder_weekdays_only_setting",clientName:"send_watch_later_reminder_weekdays_only_setting",canToggle:!0,feature:d.L0.WatchLater},org_invite_accepted_with_incentives:{type:"org_invite_accepted_with_incentives",clientName:"org_invite_accepted_with_incentives",canToggle:!1,feature:d.L0.IncentivesPage}};Object.values(I).filter(e=>!["videoReactionBundle","workspace_invitation_notification","comment_mention_notification","watch_later_reminder_notification","send_watch_later_reminder_weekdays_only_setting"].includes(e));var R=((c=R||{}).VideoReactionBundle="videoReactionBundle",c.SendWatchLaterReminderWeekdaysOnly="send_watch_later_reminder_weekdays_only_setting",c.PostCommentMention="post_comment_mention_notification",c.ReplyCommentMention="reply_comment_mention_notification",c.SpaceVideoMoved="space_item_moved_notification",c.ContentLimitApproaching="content_limit_approaching_notification",c.ContentLimitReached="content_limit_reached_notification",c.CreatorLiteLimitApproaching="creator_lite_limit_approaching_notification",c.CreatorLiteLimitReached="creator_lite_limit_reached_notification",c.MembershipRoleChanged="membership_role_change_notification",c.WorkspaceInvitation="workspace_invitation_notification",c.IngestionIntegrationEnabled="ingestion_integration_enabled_notification",c);Object.values(D).filter(({canToggle:e})=>e).map(({type:e})=>e),Object.values(D).map(({clientName:e})=>e);let V="comment_reply_notification",W="first_video_view_notification",O="video_comment_notification",F="video_reaction_notification",B="share_video_notification",z="reshare_video_notification",$="video_privacy_change_notification"},31727:function(e,t,n){"use strict";n.d(t,{T:function(){return i}});var a,i=((a=i||{}).name="name",a.companyName="company_name",a.variable="variable",a)},43386:function(e,t,n){"use strict";n.d(t,{getSlug:function(){return o}});var a=n(54513),i=n.n(a);let o=e=>{var t;return e?.id?[encodeURIComponent(i()(null!=(t=e?.name)?t:"",{strict:!0})||"folder"),e.id].join("-"):null}},20389:function(e,t,n){"use strict";n.d(t,{L:function(){return o},Z:function(){return i}});var a=n(58038);let i=a.ZN,o=a.fv},34043:function(e,t,n){"use strict";n.d(t,{Y:function(){return eK}});var a=n(72931),i=n(23555),o=n(66420),r=n(61824),l=n(89895),s=n(3820),c=n(61435),d=n(2677),m=n(26998),u=n(58524),g=n(92551),p=n(14728),v=n(86336),f=n(22562),h=n(67121),E=n(72197),_=n(94705),y=n(50068),b=n(80851),k=n(80962),w=n(89536),C=n(84435),S=n(54086),T=n(56977),x=n(81654),I=n.n(x),A=n(62259),N=n(80512),L=n(34698),P=n(21440),D=n(2071),R=n(14374),V=n(9193),W=n(56145),O=n(27961),F=n(30016),B=n(6621),z=n(96367),$=n(58461),M=n(80686),U=n(54136),Z=n(18807),j=n(93563),H=n(65559),G=n(52069),Y=n(28944),K=n(69926),q=n(63878),J=n(70243),X=n(11467),Q=n(62189);let ee=h.Z.div`
  display: flex;
  gap: var(--lns-space-medium);
`,et=h.Z.div`
  padding: var(--lns-space-medium) 0;
  margin-right: var(--lns-space-xsmall);

  flex-grow: 1;
`,en=h.Z.span`
  margin: auto 0;
`,ea=h.Z.span`
  display: flex;
  align-items: flex-start;
  gap: 6px;
`,ei=({text:e})=>{let t=(0,T.hP)().memberRole===Q.N,n=(0,l.I0)();return o.createElement(X.A,null,({showModal:i})=>o.createElement(p.xvT,{size:"body-sm",color:"grey5"},o.createElement(p.rUS,{variant:"neutral",onClick:()=>{t?n((0,J.O)("business",{analyticEvent:a.Lam})):("customize player"===e&&d.track(a.zvP),i())}},"Upgrade"),o.createElement("span",null,` to ${e}`)))},eo=({children:e,settingName:t,subtext:n,useUpgradeLink:a,upgradeText:i,isBeta:r})=>o.createElement(et,null,o.createElement(p.ggW,{gap:"medium",alignItems:"start",columns:["1fr","auto"]},o.createElement(ea,null,o.createElement(p.xvT,{fontWeight:"bold"},t),r?o.createElement(p.DRh,{backgroundColor:"highlight"},"Beta"):null),e),a?o.createElement(ei,{text:i}):o.createElement(p.xvT,{size:"body-sm",color:"grey5"},n)),er=({Icon:e,children:t,settingName:n,subtext:a,useUpgradeLink:i,upgradeText:r,isBeta:l})=>o.createElement(ee,null,o.createElement(en,null,e),o.createElement(eo,{settingName:n,subtext:a,useUpgradeLink:i,upgradeText:r,isBeta:l},t));var el=n(49003),es=n(29086);let ec="email_gate_video_type",ed=`
  @keyframes fade-in-out {
    0% {
      box-shadow: none;
    }
    25% {
      box-shadow: 0 2px 0 var(--lns-color-focusRing), 0 -2px 0 var(--lns-color-focusRing);

    }
    75% {
      box-shadow: 0 2px 0 var(--lns-color-focusRing), 0 -2px 0 var(--lns-color-focusRing);

    }
    100% {
      box-shadow: none;
    }
  }

  animation: fade-in-out 2000ms ease-in-out;
`,em=h.Z.div`
  & button {
    padding: 0 var(--lns-space-small);
    height: var(--lns-lineHeight-medium);
  }
`,eu=h.Z.div`
  position: relative;

  ${e=>e.shouldAnimate?ed:""}
`,eg=[{value:v.q.None,name:"No"},{value:v.q.Soft,name:"Ask for email"},{value:v.q.Hard,name:"Require email"}].map(({value:e,name:t})=>({value:e,title:o.createElement(p.xvT,{fontWeight:"bold"},t)})),ep=({children:e,shouldAnimate:t,setShouldAnimate:n})=>{let a=(0,o.useCallback)(e=>{e&&e.addEventListener("animationend",()=>{n(!1)})},[n]);return o.createElement(eu,{shouldAnimate:t,ref:a},e)},ev=({options:e,onOptionSelect:t,shouldAnimate:n,setShouldAnimate:a})=>o.createElement(o.Fragment,null,o.createElement(ep,{shouldAnimate:n,setShouldAnimate:a},o.createElement(eo,{key:ec,settingName:"Request email to view",subtext:"Viewers that aren’t logged-in will need to provide an email to be able to access the video"},o.createElement(p.PhF,{trigger:(e,t)=>o.createElement(em,null,o.createElement(p.Avr,{size:"medium",iconPosition:"right",icon:o.createElement(O.w,null),...t},o.createElement(p.xvT,{fontWeight:"bold"},e.title))),selectedOptionValue:e[ec],menuMaxHeight:44,menuMaxWidth:30,menuMinWidth:25,menuPosition:"right",options:eg,onChange:e=>t(ec,e.value)}))));var ef=n(67159),eh=n(16741),eE=n(22334),e_=n(49326);let ey="Contact an admin to enable Salesforce for your workspace",eb=h.Z.span`
  & div + div {
    border-top: 0;
  }
`,ek=({emailGateSetting:e,handleRelatedSettingsEditClick:t})=>{let n,a;return e===v.q.None?(n="Anonymous viewers are not asked for an email.",a=o.createElement(p.JO$,{icon:o.createElement(ef._,null)})):(n=e===v.q.Soft?"Anonymous viewers are asked for their email.":"Anonymous viewers are required to provide their email. (recommended)",a=o.createElement(p.JO$,{icon:o.createElement(eh.y,null),color:"success"})),o.createElement(eb,null,o.createElement(p.W20,{backgroundColor:"backgroundSecondary",padding:2.5,radius:"large",htmlTag:"section"},o.createElement(p.xvT,{fontWeight:"bold"},"Related settings for Salesforce"),o.createElement(p.LZC,{top:2}),o.createElement(p.ggW,{alignItems:"start",gap:1},a,o.createElement(p.ggW,{autoFlow:"row",gap:1},o.createElement(p.xvT,null,n),o.createElement(p.xvT,{isDimmed:!0},"Anonymous viewers that don't provide their email are not trackable in Salesforce."),o.createElement(p.rUS,{onClick:t},"Edit setting")))))},ew=({isFromDefaultSettings:e,options:t,toggleProp:n,handleRelatedSettingsEditClick:a})=>{let{loading:i,data:r}=(0,e_.D3)({variables:{integrationType:"SFDC"}});if(i)return null;let l=!1;r?.getIntegrationActive?.__typename==="GetIntegrationActivePayload"?l=r.getIntegrationActive.isActive:ey="Salesforce integration status currently unavailable";let s=!e&&l&&t.salesforce_engagement_tracking;return o.createElement(o.Fragment,null,o.createElement(er,{key:"salesforce_engagement_tracking",settingName:"Salesforce tracking",subtext:l?"Track your views and engagement metrics directly in Salesforce":ey,Icon:o.createElement(p.JO$,{icon:o.createElement(eE.K,null),size:5})},o.createElement(p.rsf,{isActive:t.salesforce_engagement_tracking,onChange:()=>{n("salesforce_engagement_tracking")},isDisabled:!l,ariaLabel:"Engagement tracking"})),s?o.createElement(ek,{emailGateSetting:t.email_gate_video_type,handleRelatedSettingsEditClick:a}):null)},eC=h.Z.div`
  & div + div {
    border-top: solid var(--lns-color-border) 1px;
  }
`,eS=h.Z.div`
  & button {
    padding: 0 var(--lns-space-small);
    height: var(--lns-lineHeight-medium);
  }
`,eT="Audience",ex="Enhancements",eI="Integrations",eA="Loom AI",eN=({options:e,hasAIAccess:t,suggestedPlaybackOptions:n,setOptions:i,setToggleComments:r,videoId:s})=>{let[c,m]=(0,o.useState)(t?eA:ex),u=(0,l.v9)(e=>(0,L.MU)(e,M.$5)),{type:g}=(0,T.hP)(),v=g===Z.zF,f=!(0,es.I)()&&g===Z.q1,h=v||f,E=(0,w.Mr)({flag:B.EE7,activationValues:["filler_words","filler_words_and_silences"]}),_=(0,w.Mr)({flag:B.EE7,activationValues:["filler_words_and_silences"]}),y=e=>{m(e),d.track(a.sX1,{tab:e})},b=t=>i({...e,[t]:!e[t]}),k=()=>{let{comments_enabled:t,record_reply_enabled:n}=e;(t||n)&&b("record_reply_enabled")},C=()=>{let{comments_enabled:t,comments_email_enabled:n}=e;(t||n)&&b("comments_email_enabled")},x=(t,n)=>{i({...e,[t]:n})},I=[E&&{settingName:"Auto filler word removal",subtext:"Automatically remove filler words from your videos",key:"auto_filler_word_removal",onChange:()=>b("auto_filler_word_removal"),isActive:!0},_&&{settingName:"Auto silence removal",subtext:"Automatically remove silences from your videos",key:"auto_silence_removal",onChange:()=>b("auto_silence_removal"),isActive:!0},{settingName:"Auto title",subtext:"AI generated titles for your videos",key:"auto_title",onChange:()=>b("auto_title"),isActive:!0},{settingName:"Auto summary",subtext:"AI generated summaries for your videos",key:"auto_summary",onChange:()=>b("auto_summary"),isActive:!0},{settingName:"Auto chapters",subtext:"AI generated chapters for your videos",key:"auto_chapters",onChange:()=>b("auto_chapters"),isActive:!0},{settingName:"Auto tasks",subtext:"AI generated tasks for your videos",key:"auto_tasks",onChange:()=>b("auto_tasks"),isActive:!0},{settingName:"Auto CTA",subtext:"Automatically detect the link you are sharing",key:"auto_cta",onChange:()=>b("auto_cta"),isActive:!0}].filter(e=>!!e),A=[{settingName:"Comments",subtext:"Allow viewers to add comments",key:"comments_enabled",onChange:()=>{b("comments_enabled"),r(!0)},isActive:!0},{settingName:"Comment notification",subtext:e.comments_enabled?"Get an email when someone comments":"Inactive when comments are turned off",key:"comments_email_enabled",onChange:()=>C(),isActive:e.comments_enabled},{settingName:"Record a reply",subtext:e.comments_enabled?"Allow viewers to comment with a Loom":"Inactive when comments are turned off",key:"record_reply_enabled",onChange:()=>k(),isActive:e.comments_enabled},{settingName:"Emoji reactions",subtext:"Allow viewers to add reactions",key:"use_emojis",onChange:()=>b("use_emojis"),isActive:!0},"download_enabled"in e&&{settingName:"Download",subtext:"Allow viewers to download your video",key:"download_enabled",onChange:()=>b("download_enabled"),isActive:!0},{settingName:"Stitch",subtext:"Allow viewers to stitch this video",key:"viewers_can_weave",onChange:()=>b("viewers_can_weave"),isActive:!0},{settingName:"Analytics",subtext:"Allow viewers to see video analytics",key:"show_analytics_to_viewer",onChange:()=>b("show_analytics_to_viewer"),isActive:!0},{settingName:"Transcript",subtext:"Allow viewers to access the transcript",key:"show_transcript_to_viewer",onChange:()=>b("show_transcript_to_viewer"),isActive:!0}],N=(0,w.W9)(B.dvA)===B.c7r,P=(0,S.gH)(M.il),D=!!(N&&P);return o.createElement(o.Fragment,null,o.createElement(p.mQc,{hasFullTabs:!0},t&&o.createElement(p.OK9,{isActive:eA===c,onClick:()=>y(eA)},eA),o.createElement(p.OK9,{isActive:ex===c,onClick:()=>y(ex)},ex),o.createElement(p.OK9,{isActive:eT===c,onClick:()=>y(eT)},eT),v?o.createElement(p.OK9,{isActive:eI===c,onClick:()=>y(eI)},eI):null),o.createElement("div",{className:"overflow:hidden;"},c===eA&&o.createElement(eC,null,o.createElement(p.LZC,{y:"medium"},o.createElement(p.xvT,null,"Modify the default Loom AI settings for this video and future videos. Learn more about ",o.createElement(p.rUS,{href:el.GS},"Loom AI")," ","or ",o.createElement(p.rUS,{href:el.kb},"give feedback"),".")),I.map(t=>o.createElement(eo,{key:t.key,settingName:t.settingName,subtext:t.subtext},o.createElement(p.rsf,{isActive:e[t.key],onChange:t.onChange,isDisabled:!t.isActive,ariaLabel:t.settingName})))),c===ex&&o.createElement(eC,null,[{settingName:"Background noise filter",subtext:"Filter out unwanted noise",key:"noise_suppression",onChange:()=>b("noise_suppression"),isActive:!0},{settingName:"Loom branded player",subtext:"Prompt viewers to log in or sign-up",key:"loom_branded_player",onChange:()=>b("loom_branded_player"),isActive:u,useUpgradeLink:!u,upgradeText:"customize player"},{settingName:"Animated thumbnail",subtext:"Automatic gif thumbnail when you share",key:"use_gif",onChange:()=>b("use_gif"),isActive:!0}].map(t=>o.createElement(eo,{key:t.key,settingName:t.settingName,subtext:t.subtext,useUpgradeLink:t.useUpgradeLink,upgradeText:t.upgradeText},o.createElement(p.rsf,{isActive:e[t.key],onChange:t.onChange,isDisabled:!t.isActive,ariaLabel:t.settingName})))),c===eT&&o.createElement(eC,null,D?o.createElement(o.Fragment,null,o.createElement(eo,{key:"viewer_captions_on",settingName:"Turn on captions",subtext:"Turn on closed captions for viewers"},o.createElement(p.rsf,{isActive:e.viewer_captions_on,onChange:()=>(d.track(a.VOB,{source:"DEFAULT-SETTINGS",enabled:!e.viewer_captions_on,video_id:s}),b("viewer_captions_on")),isDisabled:!1,ariaLabel:"Turn on captions"})),o.createElement(eo,{key:"stylized_captions",settingName:"Add stylized captions",subtext:"Apply designed styling to your captions"},o.createElement(p.rsf,{isActive:e.stylized_captions,onChange:()=>(d.track(a.y00,{source:"DEFAULT-SETTINGS",enabled:!e.stylized_captions,video_id:s}),b("stylized_captions")),isDisabled:!1,ariaLabel:"Add stylized captions"}))):null,o.createElement(eo,{key:"suggested_playback_rate",settingName:"Recommend a playback speed",subtext:"Suggest a viewing speed for your audience"},o.createElement(p.PhF,{trigger:(e,t)=>o.createElement(eS,null,o.createElement(p.Avr,{size:"medium",iconPosition:"right",icon:o.createElement(O.w,null),...t},o.createElement(p.xvT,{fontWeight:"bold"},e.title))),selectedOptionValue:e.suggested_playback_rate,menuMaxHeight:44,menuMaxWidth:30,menuMinWidth:25,menuPosition:"right",options:n,onChange:e=>x("suggested_playback_rate",e.value)})),h?o.createElement(ev,{options:e,onOptionSelect:x}):null,A.filter(e=>e).map(t=>t?o.createElement(eo,{key:t.key,settingName:t.settingName,subtext:t.subtext},o.createElement(p.rsf,{isActive:e[t.key],onChange:t.onChange,isDisabled:!t.isActive,ariaLabel:t.settingName})):null)),c===eI&&o.createElement(eC,null,o.createElement(ew,{isFromDefaultSettings:!0,options:e,toggleProp:b}))))},eL="Enhancements",eP="Audience",eD="Integrations",eR=h.Z.div`
  border-top-left-radius: var(--lns-radius-xlarge);
  margin-bottom: calc(var(--lns-space-small) + var(--lns-space-medium));
`,eV=h.Z.div`
  overflow: auto;
  max-height: 100%;
`,eW=h.Z.div`
  & div + div {
    border-top: solid var(--lns-color-border) 1px;
  }
`,eO=h.Z.div`
  overflow: hidden;
`,eF=h.Z.div`
  & button {
    padding: 0 var(--lns-space-small);
    height: var(--lns-lineHeight-medium);
  }
`,eB=h.Z.div`
  height: calc(var(--lns-space-xxlarge) + var(--lns-space-small));
  min-height: calc(var(--lns-space-xxlarge) + var(--lns-space-small));

  background-color: var(--lns-color-overlay);
  & > div {
    height: 100%;
    padding: 0 var(--lns-space-xlarge);
    & > div {
      height: 100%;
    }
  }
`,ez=h.Z.div`
  background-color: var(--lns-color-backgroundSecondary);
`,e$=h.Z.div`
  ${e=>!e.isInVideoSetting&&!e.settingsIsInEditTab&&`padding-left: var(--lns-space-medium);
   padding-right: var(--lns-space-medium);`}
`,eM=e=>e&&e!==s.to?`${(0,V.v)(e).toString()}x`:"None",eU=()=>s.wn.map(e=>{let t=eM(e);return{value:e,title:o.createElement(p.xvT,{fontWeight:"bold"},t)}}),eZ=(e,t,n)=>n?e?t?"Transcript processing":"Allow viewers to access the transcript":"Transcript unavailable for this video":"Allow viewers to access the transcript",ej=({videoId:e,options:t,setOptions:n,originalOptions:r,onOpenDefaultsModal:c,isInVideoSetting:m,onCloseVideoSettingsDrawer:v=()=>{},onCloseDefaultsModal:h=()=>{},currentSettings:x,updateCurrentSettings:V,pageTitle:J,settingsIsInEditTab:X=!1})=>{let Q=(0,l.I0)(),{setShowConfirmationToast:ee}=(0,E.x)(),{video:{thumbnails:et},setVideo:en}=(0,i.dPl)(),{captionsActive:ea,onToggle:ei}=(0,i.Yj_)(e),{password:er}=(0,_.u)(),{updateVideoPlayerSourceHook:el}=(0,y.Z)(),[es]=(0,D.K)(),ec=(0,o.useRef)(null),ed=(0,o.useRef)(null),[em,eu]=(0,o.useState)(!1),eg=(0,w.Mr)({flag:B.CC9,activationValues:[z.zY,z.oS]}),ep=(0,w.Mr)({flag:B.Hjs,activationValues:[z.zY,z.oS]}),ef=(0,u.I)(),eh=(0,g.x)(),eE=(0,w.W9)(B.SMQ),{type:e_}=(0,T.hP)(),ey=e_===Z.zF,eb=ey||e_===Z.q1,ek=(0,G.bM)(f.K1),eC=(0,C.q)(),eS=(0,l.v9)(H.ub),eT=(0,l.v9)(H.Dl),ex=[U.Hw,U.on,U.Bj,U.rT].includes(eT),[eI,eA]=(0,o.useState)(eL),[eM,ej]=(0,o.useState)(!1),[eH,eG]=(0,o.useState)(!1),eY=(et||{})[s.EK],{removeVideoThumbnail:eK}=(0,q.r)(),eq=(0,l.v9)(e=>(0,L.MU)(e,M.po)),eJ=(0,l.v9)(e=>(0,L.MU)(e,M.$5)),eX=!m||eS;(0,o.useEffect)(()=>{if(m){let e=document.getElementById("video-settings-close-btn");e&&e.focus()}},[m]),(0,o.useEffect)(()=>{if(!eM)return;let{comments_enabled:e}=t;eG(!0);let a=window.setTimeout(()=>{n({...t,comments_email_enabled:e,record_reply_enabled:e}),ej(!1),eG(!1)},200);return()=>{window.clearTimeout(a)}},[t,n,eM]);let eQ=(0,o.useCallback)(e=>{eA(e),d.track(m?a.ca7:a.sX1,{tab:e})},[m]);(0,o.useEffect)(()=>{ek&&(eQ(eD),ed?.current&&ed.current.scrollIntoView({behavior:"instant",block:"start"})),(0,G.gz)(f.K1)},[ek,eQ]);let e0=(0,o.useCallback)(n=>{n&&d.track(a.Sm6,{video_id:e,noise_suppression:t.noise_suppression})},[t.noise_suppression,e]),e1=(0,o.useCallback)(n=>{let i={...t,noise_cancellation_type:t.noise_suppression},o={comments_email_enabled:i.comments_email_enabled,comments_enabled:i.comments_enabled,download_enabled:i.download_enabled,email_gate_video_type:i.email_gate_video_type,loom_branded_player:i.loom_branded_player,noise_cancellation_type:i.noise_cancellation_type,record_reply_enabled:i.record_reply_enabled,show_analytics_to_viewer:i.show_analytics_to_viewer,show_transcript_to_viewer:i.show_transcript_to_viewer,stylizedCaptions:i.stylized_captions,suggested_playback_rate:i.suggested_playback_rate,use_emojis:i.use_emojis,use_gif:i.use_gif,viewerCaptionsOn:i.viewer_captions_on,viewers_can_weave:i.viewers_can_weave};es({variables:{videoId:e,settings:o,password:er},onError:t=>{R.error(t,{message:"Failed to update video settings",videoId:e,newSettings:o,isDefault:!1},{feature:$.L0.VideoSettings}),ee("Please reload and try again")},onCompleted:t=>{if(t.updateVideoSettings?.__typename!=="UpdateVideoSettingsPayload"){R.warning("Failed to update video settings",{videoId:e,newSettings:o},{feature:$.L0.VideoSettings}),ee("Please reload and try again");return}el({videoId:e});let i=t?.updateVideoSettings?.video?.stylizedCaptions,l=t?.updateVideoSettings?.video?.viewerCaptionsOn;null!=i&&en({stylizedCaptions:i}),null!=l&&en({viewerCaptionsOn:l}),ea!==l&&ei(),d.track(a.HvM,{video_id:e,old_state:x||r,new_state:o,is_default:!1}),n||(ee("Video settings saved"),v())}})},[t,es,e,er,ee,el,ea,x,r,en,ei,v]),[e2]=(0,P.r)(),e3=(0,o.useCallback)(n=>{if(!n)return;d.track(a.C6A,{isEnabled:t.auto_title}),d.track(a.sIR,{isEnabled:t.auto_summary}),ef&&d.track(a.gz4,{isEnabled:t.auto_chapters});let i={...t,viewers_can_weave_default:t.viewers_can_weave,stylizedCaptions:t.stylized_captions,viewerCaptionsOn:t.viewer_captions_on};delete i.viewers_can_weave,delete i.stylized_captions,delete i.viewer_captions_on,e2({variables:{videoSettings:i},onError:e=>{R.error(e,{message:"error in handleSaveDefaultSettings",isDefault:!0},{feature:$.L0.VideoSettings}),ee("Please reload and try again")},onCompleted:n=>{if(n.updateUserVideoSettings?.__typename!=="UpdateUserVideoSettingsPayload"){R.error(Error("Error in handleSaveDefaultSettings"),{message:"error in handleSaveDefaultSettings",isDefault:!0},{feature:$.L0.VideoSettings}),ee("Please reload and try again");return}d.track(a.HvM,{video_id:e,old_state:r,new_state:i,is_default:!0}),V(eS?t:{...t,show_transcript_to_viewer:x.show_transcript_to_viewer}),ee("Default video settings saved"),h()}})},[e,x,h,ee,t,r,V,eS,ef,e2]),e5=e=>{if(eH||I()(t))return;let n=t.noise_suppression!==r.noise_suppression;e0(n),e1(e),e3(e)},e4=(0,o.useCallback)(e=>n({...t,[e]:!t[e]}),[t,n]),e6=(0,o.useCallback)(()=>{let{comments_enabled:e,comments_email_enabled:n}=t;(e||n)&&e4("comments_email_enabled")},[t,e4]),e7=(0,o.useCallback)(()=>{let{comments_enabled:e,record_reply_enabled:n}=t;(e||n)&&e4("record_reply_enabled")},[t,e4]),e8=(0,o.useCallback)((e,a)=>{n({...t,[e]:a})},[t,n]),e9=(0,o.useMemo)(()=>[!m&&ef&&{settingName:"Auto chapters",subtext:"AI generated chapters for your videos",key:"auto_chapters",onChange:()=>e4("auto_chapters"),isActive:!0},{settingName:"Background noise filter",subtext:"Filter out unwanted noise",key:"noise_suppression",onChange:()=>e4("noise_suppression"),isActive:!0},!m&&eg&&{settingName:"Auto title",subtext:"AI generated titles for your videos",key:"auto_title",onChange:()=>e4("auto_title"),isActive:!0},!m&&ep&&{settingName:"Auto summary",subtext:"AI generated summaries for your videos",key:"auto_summary",onChange:()=>e4("auto_summary"),isActive:!0},!m&&eh&&{settingName:"Auto tasks",subtext:"AI generated tasks for your videos",key:"auto_tasks",onChange:()=>e4("auto_tasks"),isActive:!0},{settingName:"Loom branded player",subtext:eJ?"Prompt viewers to log in or sign-up":"",key:"loom_branded_player",onChange:()=>e4("loom_branded_player"),isActive:eJ,useUpgradeLink:!eJ,upgradeText:"customize player"},{settingName:"Animated thumbnail",subtext:"Automatic gif thumbnail when you share",key:"use_gif",onChange:()=>e4("use_gif"),isActive:!0}].filter(Boolean),[m,ef,eg,ep,eh,eJ,e4]),te=(0,o.useMemo)(()=>[{settingName:"Comments",subtext:"Allow viewers to add comments",key:"comments_enabled",onChange:()=>{e4("comments_enabled"),ej(!0)},isActive:!0},{settingName:"Comment notification",subtext:t.comments_enabled?"Get an email when someone comments":"Inactive when comments are turned off",key:"comments_email_enabled",onChange:()=>e6(),isActive:t.comments_enabled},{settingName:"Record a reply",subtext:t.comments_enabled?"Allow viewers to comment with a Loom":"Inactive when comments are turned off",key:"record_reply_enabled",onChange:()=>e7(),isActive:t.comments_enabled},{settingName:"Emoji reactions",subtext:"Allow viewers to add reactions",key:"use_emojis",onChange:()=>e4("use_emojis"),isActive:!0},"download_enabled"in r&&{settingName:"Download",subtext:"Allow viewers to download your video",key:"download_enabled",onChange:()=>e4("download_enabled"),isActive:!0},{settingName:"Stitch",subtext:"Allow viewers to stitch this video",key:"viewers_can_weave",onChange:()=>e4("viewers_can_weave"),isActive:!0},{settingName:"Analytics",subtext:"Allow viewers to see video analytics",key:"show_analytics_to_viewer",onChange:()=>e4("show_analytics_to_viewer"),isActive:!0},{settingName:"Transcript",subtext:eZ(eS,ex,m),key:"show_transcript_to_viewer",onChange:()=>e4("show_transcript_to_viewer"),isActive:eX}],[m,eX,ex,t.comments_enabled,r,e6,e4,e7,eS]),tt=(0,w.W9)(B.dvA)===B.c7r,tn=(0,S.gH)(M.il),ta=!!(tt&&tn),ti=m&&!X?J:null;return(0,l.v9)(j.DD)?o.createElement(K.T,{currentPage:k.L.Thumbnail,onClose:v,pageTitle:"Change Thumbnail"}):o.createElement(b.O,{footer:o.createElement(()=>m?o.createElement(Y.$,null,o.createElement(p.zxk,{variant:"neutral",onClick:c,hasFullWidth:!0},"Set defaults…"),o.createElement(p.zxk,{variant:"primary",onClick:()=>e5(!1),hasFullWidth:!0},"Save")):o.createElement(eB,null,o.createElement(ez,null,o.createElement(p.ggW,{columns:["1fr"]},o.createElement(p.zxk,{variant:"primary",onClick:()=>e5(!0),hasFullWidth:!0},"Save defaults")))),null),title:ti??void 0,goBackToEditPage:v,backupTitleComponent:m?void 0:o.createElement(()=>o.createElement(eR,null,o.createElement(p.LZC,{left:"xlarge",right:"xlarge"},o.createElement(p.LZC,{top:"xlarge",bottom:"medium"},o.createElement(p.xvT,{size:"body-lg",fontWeight:"bold"},"Default video settings")),o.createElement(p.xvT,null,"Modify default settings for this video and future videos"))),null),settingsIsInEditTab:X},o.createElement(e$,{isInVideoSetting:m,settingsIsInEditTab:X},o.createElement(eV,null,!m&&eE?o.createElement(eN,{options:t,hasAIAccess:eC,suggestedPlaybackOptions:eU(),setOptions:n,setToggleComments:ej,videoId:e}):o.createElement(o.Fragment,null,o.createElement(p.mQc,{isPilledDesign:m,hasFullTabs:!m},o.createElement(p.OK9,{isActive:eL===eI,onClick:()=>eQ(eL)},eL),o.createElement(p.OK9,{isActive:eP===eI,onClick:()=>eQ(eP)},eP),ey?o.createElement(p.OK9,{isActive:eD===eI,onClick:()=>eQ(eD)},eD):null),o.createElement(eO,null,eI===eL&&o.createElement(eW,null,m?o.createElement(eo,{key:"thumbnail",settingName:"Video thumbnail",subtext:"Add a custom video thumbnail for your audience",useUpgradeLink:!eq,upgradeText:"add video thumbnail"},eq?eY?o.createElement(p.Avr,{icon:o.createElement(F.z,null),iconPosition:"right",onClick:()=>{eK(),Q((0,A.c_)(null))}},"Remove"):o.createElement(p.Avr,{icon:o.createElement(W.z,null),iconPosition:"right",onClick:()=>{Q((0,N.h7)({modalType:"VIDEO_THUMBNAIL_MODAL"})),Q((0,A.lf)())}},"Add"):null):null,e9.map(e=>e?o.createElement(eo,{key:e.key,settingName:e.settingName,subtext:e.subtext,useUpgradeLink:e.useUpgradeLink,upgradeText:e.upgradeText},o.createElement(p.rsf,{isActive:t[e.key],onChange:e.onChange,isDisabled:!e.isActive,ariaLabel:e.settingName})):null)),eI===eP&&o.createElement(eW,null,ta?o.createElement(o.Fragment,null,o.createElement(eo,{key:"viewer_captions_on",settingName:"Turn on captions",subtext:"Turn on closed captions for viewers"},o.createElement(p.rsf,{isActive:t.viewer_captions_on,onChange:()=>(d.track(a.VOB,{source:"SETTINGS",enabled:!t.viewer_captions_on,video_id:e}),e4("viewer_captions_on")),isDisabled:!1,ariaLabel:"Turn on captions"})),o.createElement(eo,{key:"stylized_captions",settingName:"Add stylized captions",subtext:"Apply designed styling to your captions"},o.createElement(p.rsf,{isActive:t.stylized_captions,onChange:()=>(d.track(a.y00,{source:"SETTINGS",enabled:!t.stylized_captions,video_id:e}),e4("stylized_captions")),isDisabled:!1,ariaLabel:"Add stylized captions"}))):null,o.createElement(eo,{key:"suggested_playback_rate",settingName:"Recommend a playback speed",subtext:"Suggest a viewing speed for your audience"},o.createElement(p.PhF,{trigger:(e,t)=>o.createElement(eF,null,o.createElement(p.Avr,{size:"medium",iconPosition:"right",icon:o.createElement(O.w,null),...t},o.createElement(p.xvT,{fontWeight:"bold"},e.title))),selectedOptionValue:t.suggested_playback_rate,menuMaxHeight:44,menuMaxWidth:30,menuMinWidth:25,menuPosition:"right",options:eU(),onChange:e=>e8("suggested_playback_rate",e.value)})),eb?o.createElement("div",{ref:ec},o.createElement(ev,{options:t,onOptionSelect:e8,shouldAnimate:em,setShouldAnimate:eu})):null,te.filter(e=>e).map(e=>e?o.createElement(eo,{key:e.key,settingName:e.settingName,subtext:e.subtext},o.createElement(p.rsf,{isActive:t[e.key],onChange:e.onChange,isDisabled:!e.isActive,ariaLabel:e.settingName})):null)),eI===eD&&o.createElement(eW,null,o.createElement("div",{ref:ed},o.createElement(ew,{isFromDefaultSettings:!1,options:t,toggleProp:e4,handleRelatedSettingsEditClick:()=>{eQ(eP),ec?.current&&ec.current.scrollIntoView({behavior:"instant",block:"start"}),eu(!0)}}))))))))},eH={auto_cta:!0,auto_filler_word_removal:!0,auto_silence_removal:!0,auto_summary:!0,auto_title:!0,comments_email_enabled:!0,comments_enabled:!0,download_enabled:!0,email_gate_video_type:v.q.None,loom_branded_player:!0,noise_suppression:!1,record_reply_enabled:!0,salesforce_engagement_tracking:!1,show_analytics_to_viewer:!0,show_transcript_to_viewer:!0,stylized_captions:!1,suggested_playback_rate:s.to,use_emojis:!0,use_gif:!0,viewer_captions_on:!1,viewers_can_weave:!0},eG=(e,t)=>{let n=[...new Set([...Object.keys(eH),...Object.keys(e)])].reduce((t,n)=>(t[n]=e[n]??eH[n],t),{});return t?.downloadableBy===s.JC.NO_ONE&&delete n.download_enabled,n.viewers_can_weave=e.viewers_can_weave_default??eH.viewers_can_weave,delete n.viewers_can_weave_default,n.stylized_captions=e.stylizedCaptions?e.stylizedCaptions:eH.stylized_captions,delete n.stylizedCaptions,n.viewer_captions_on=e.viewerCaptionsOn?e.viewerCaptionsOn:eH.viewer_captions_on,delete n.viewerCaptionsOn,n},eY=({video:e,currentSettings:t,updateCurrentSettings:n,onCloseDefaultsModal:a})=>{let i=(0,m.useCurrentUserSelector)(e=>{if(e.videoSettings){let{__typename:t,...n}=e.videoSettings;return n}return{}},{}),r=(0,u.I)(),l=(0,g.x)();r&&(eH.auto_chapters=!0),l&&(eH.auto_tasks=!0);let s=eG(i,e),[c,d]=(0,o.useState)(s);return o.createElement(p.YMn,{isOpen:!0,onClick:a},o.createElement(p.pUH,{isOpen:!0,noPadding:!0,onCloseClick:a,ariaLabel:"Default video settings",maxWidth:68},o.createElement(ej,{videoId:e.id,options:c,setOptions:d,originalOptions:s,onCloseDefaultsModal:a,currentSettings:t,updateCurrentSettings:n})))},eK=({goBackToEditPage:e,pageTitle:t,settingsIsInEditTab:n=!1})=>{let{showDefaultSettings:m}=(0,l.v9)(c.z8),{video:u}=(0,i.dPl)(),g=(()=>{let{commentsEmailEnabled:e,commentsEnabled:t,downloadEnabled:n,emailGateVideoType:a,loomBrandedPlayer:i,processingInformation:o,recordReplyEnabled:r,salesforceEngagementTracking:l,showAnalytics:c,showTranscriptToViewer:d,suggestedPlaybackRate:m,useEmojis:g,useGif:p,viewersCanWeave:v,viewerCaptionsOn:f,stylizedCaptions:h}=u,E={comments_email_enabled:e,comments_enabled:t,email_gate_video_type:a,loom_branded_player:i,noise_suppression:o?.noiseSuppression,record_reply_enabled:r,salesforce_engagement_tracking:l,show_analytics_to_viewer:c,show_transcript_to_viewer:d,stylized_captions:h,suggested_playback_rate:m,use_emojis:g,use_gif:p,viewer_captions_on:f,viewers_can_weave:v};return u.downloadableBy!==s.JC.NO_ONE&&(E.download_enabled=n),E})(),[p,v]=(0,o.useState)(g),[f,h]=(0,o.useState)(!1);(0,o.useEffect)(()=>{m&&h(!0)},[m]),(0,o.useEffect)(()=>{u?.stylizedCaptions!==void 0&&u?.stylizedCaptions!==null&&v(e=>({...e,stylized_captions:u.stylizedCaptions}))},[u.stylizedCaptions]),(0,o.useEffect)(()=>{u?.viewerCaptionsOn!==void 0&&u?.viewerCaptionsOn!==null&&v(e=>({...e,viewer_captions_on:u.viewerCaptionsOn}))},[u.viewerCaptionsOn]);let{layerProps:E,triggerProps:_,renderLayer:y}=(0,r.sJ)({isOpen:f});return o.createElement(o.Fragment,null,o.createElement(ej,{videoId:u.id,options:p,setOptions:v,originalOptions:g,onOpenDefaultsModal:()=>{let e=document.body.style;e.top=`-${window.scrollY}px`,e.position="fixed",h(!0),d.track(a.jKy)},onCloseVideoSettingsDrawer:e,isInVideoSetting:!0,pageTitle:t,settingsIsInEditTab:n}),f&&o.createElement("div",{style:{position:"absolute",..._.style},..._},y(o.createElement("div",{...E,style:{zIndex:"1"}},o.createElement(eY,{video:u,currentSettings:p,updateCurrentSettings:v,onCloseDefaultsModal:()=>{let e=document.body.style,t=e.top;e.position="",e.top="",window.scrollTo(0,-1*parseInt(t||"0")),h(!1)}})))))}},46434:function(e,t,n){"use strict";n.d(t,{WB:function(){return E},wK:function(){return k}});var a=n(22947),i=n(72931),o=n(22562),r=n(9061),l=n(77848),s=n.n(l),c=n(26998),d=n(20600),m=n(23555),u=n(71846),g=n(66420),p=n(89895),v=n(14728),f=n(2677),h=n(52069);let E={color:"white",background_color:"orange",location:"Top right",border_radius:24,only_show_at_end_of_video:!1},_={"Top left":"top-left","Top right":"top-right","Bottom left":"bottom-left","Bottom right":"bottom-right"},y="Link text";function b(e){return e?_[e]:"top-right"}function k(e){if(e?.border_radius!==void 0&&e?.border_radius!==null)return e.border_radius;let t=(0,h.bM)(o.s8);return null!=t&&"number"==typeof(t=Number(t))?t:E.border_radius}function w(e){let t=e?.color||(0,h.bM)(o.aE)||(0,v.RvU)(E.color),n=e?.background_color||(0,h.bM)(o.w0)||(0,v.RvU)(E.background_color),a=k(e),i=e?.location||(0,h.bM)(o.x1)||E.location;return{color:t,background_color:n,border_radius:a,location:i}}let C=e=>{let{ctaMods:t,ctaUrl:n,ctaText:a,onClickHandler:i,forceTopRight:o=!1}=e,{color:r,background_color:l,border_radius:c,location:d}=w(t),m=o?"top-right":b(d),u=a&&a.length>0,p=n&&n.length>0,f=u&&p?{href:n&&(n.indexOf("http")>-1?n:`//${n}`)}:{};return g.createElement(v.zxk,{className:s()("cta-button cta-button-in-form",m),target:n&&"_blank",href:f?.href,onClick:i,style:{color:r,backgroundColor:l,borderRadius:`${c}px`},hasFullWidth:!0,htmlTag:"a"},u?a:g.createElement("span",{className:"call-to-action-placeholder"},y))},S=e=>{let{ctaMods:t,ctaUrl:n,ctaText:a,onClickHandler:i,forceTopRight:o=!1}=e,{color:r,background_color:l,border_radius:c,location:d}=w(t),m=o?"top-right":b(d),u=a&&a.length>0,p=n&&n.length>0,v=u&&p?{href:n&&(n.indexOf("http")>-1?n:`//${n}`)}:{};return g.createElement("a",{className:s()("cta-button cta-button-in-form",m),target:n&&"_blank",rel:"noopener noreferrer",onClick:i,style:{color:r,backgroundColor:l,borderRadius:`${c}px`},size:a?a.length:0,...v},u?a:g.createElement("span",{className:"call-to-action-placeholder"},y))};t.ZP=(0,p.$j)((e,t)=>{let{cta_mods:n,cta_text:a,cta_url:i}=e.share_video||{};return{ctaMods:n,ctaText:a,ctaUrl:(0,r.N)(i),onClick:t.onClick}})(({ctaMods:e,ctaText:t,ctaUrl:n,onClick:o})=>{let r=(0,c.useCurrentUserSelector)(e=>e.id,void 0),{video:{id:l,owner:{id:s}}}=(0,m.dPl)(),{parentLocation:p,fromPublicSharePage:v}=(0,u.K)(),h={ctaMods:e,ctaText:t,ctaUrl:n,onClickHandler:()=>{o&&o(),f.track(i.p91,{from_public_share_page:v,is_inline_embed_on_loom:!1,parent_location:p,video_id:l,owner_id:s,owner_click:s===r})}};return g.createElement(g.Fragment,null,g.createElement(d.z,{query:`(max-width: ${a.I0}px)`},g.createElement(C,{...h})),g.createElement(d.z,{query:`(min-width: ${a.Sx}px)`},g.createElement(S,{...h})))})},59727:function(e,t,n){"use strict";var a=n(3749),i=n(66420),o=n(69324),r=n(14728),l=Object.defineProperty,s=(e,t,n)=>t in e?l(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,c=(e,t,n)=>s(e,"symbol"!=typeof t?t+"":t,n);class d extends i.Component{constructor(){super(...arguments),c(this,"state",{dragging:!1}),c(this,"handleDrop",e=>{this.setState({dragging:!1}),this.props.onDrop(e)})}render(){let{multiple:e=!1}=this.props,{dragging:t}=this.state;return i.createElement(o.Z,{className:"share-page-dropzone",disableClick:!0,multiple:e,disabled:!1,activeStyle:{zIndex:1e3,position:"absolute"},onDragEnter:()=>this.setState({dragging:!0}),onDragLeave:()=>this.setState({dragging:!1}),onDrop:this.handleDrop},i.createElement(i.Fragment,null,t&&i.createElement("div",{className:"share-page-drag-and-drop-overlay"},i.createElement("div",{className:"drag-and-drop-overlay-content p:xlarge"},i.createElement("div",{className:"flex pb:xlarge justify:center"},i.createElement(a.r,{color:"var(--lns-color-white)",size:13})),i.createElement(r.xvT,{size:"heading-md",color:"white",fontWeight:"bold",alignment:"center"},"Drop here!")))))}}t.Z=d},10138:function(e,t,n){"use strict";let a;n.d(t,{AE:function(){return m},E3:function(){return d},b$:function(){return l},h$:function(){return s},rw:function(){return r},wK:function(){return c}});var i=n(72931),o=n(2677);let r=e=>o.track(i.xtc,{videoId:e}),l=()=>o.track(i.t9H,{videoId:a}),s=()=>o.track(i.EKp,{videoId:a}),c=()=>o.track(i.Cjz,{videoId:a}),d=()=>o.track(i.FRC,{videoId:a}),m=(e={})=>o.track(i.zRL,{videoId:a,...e})},3894:function(e,t,n){"use strict";n.d(t,{Dg:function(){return y},UZ:function(){return C},Wd:function(){return w},iF:function(){return x},uV:function(){return k}});var a=n(77848),i=n.n(a),o=n(23555),r=n(60152),l=n(2658),s=n(89169),c=n(66420),d=n(73845),m=n(38984),u=n(14728),g=n(65910),p=n(23975),v=n(96480),f=n(80686),h=n(88609),E=n(72232);let{secondsToVideoTS:_}=v,y=({user:e={avatar:null,name:null},events:t=[]})=>{let n=t.filter(e=>["comment","reply"].includes(e.type)),a=t.filter(e=>"reaction"===e.type);return c.createElement("article",{className:E.Z.viewerInfo},c.createElement(k,{avatar:e.avatar,name:e.name}),c.createElement("div",null,c.createElement(w,{...e}),c.createElement(l.Z,{name:f.L7},c.createElement(u.yeS,{gap:"medium",alignment:"center"},c.createElement(b,{type:"comment",items:n||[]}),c.createElement(b,{type:"reaction",items:a||[]})))))},b=({type:e,items:t=[]})=>{let n=t.length;return c.createElement(u.yeS,{alignment:"center",gap:"xsmall"},c.createElement(u.JO$,{icon:c.createElement("comment"===e?g.j:p.x,null),size:2,color:"bodyDimmed"}),c.createElement(u.xvT,{color:"bodyDimmed"},n))},k=e=>{let t=e.avatar&&(0,d.FQ)(e.avatar),n=name,a=n!==h.Iv&&n;return c.createElement(s.Z,{avatarSize:e.size??4,avatarSrc:t,name:a,"data-test-id":t||a?void 0:"test-anonAvatar"})},w=e=>c.createElement("div",null,c.createElement(u.xvT,{fontWeight:"bold",htmlTag:"h3"},e.name?e.name:"Anonymous")),C=e=>c.createElement(c.Fragment,null,e.views.map((e,t)=>{let n=Number(e),a=(0,m.VR)(n,"MMMM do, yyyy h:mma");return c.createElement(u.xvT,{variant:"body",key:t},c.createElement("time",null,a))})),S=({emojiIcon:e,evt:t,action:n,playVideoAt:a})=>c.createElement("div",{className:i()(E.Z.eventItem,E.Z.isClickable),onClick:a(t.ts)},e,n,c.createElement("time",null,_(t.ts))),T=({label:e,emojiUnicode:t})=>c.createElement("span",{className:E.Z.emoji,"aria-label":e},t),x=({events:e=[]})=>{let t=(0,o.n_$)(),{getEmojiUnicodeByName:n}=(0,r.C)(),a={comment:"Commented at",reaction:"Reacted at",reply:"Replied at"};if(!e.length)return null;let i=e=>()=>{t&&(t.currentTime=e)};return c.createElement("div",{className:"px:small py:medium bgc:backgroundSecondary radius:medium"},c.createElement("div",{className:"px:small mb:small"},c.createElement(u.xvT,{fontWeight:"bold"},"Activity")),[...e].sort(I).map((e,t)=>{let o=a[e.type],r=o===a.reaction,l=r?function({getEmojiUnicodeByName:e,action:t,evt:n}){let a=n.content,i=`${t} ${_(n.ts)}`;return c.createElement(T,{label:i,emojiUnicode:e(a)})}({getEmojiUnicodeByName:n,action:o,evt:e}):null;return r&&null===l?null:c.createElement(S,{key:t,emojiIcon:l,evt:e,action:o,playVideoAt:i})}))};function I({ts:e},{ts:t}){return e>t?1:t>e?-1:0}},67491:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var a=n(66420);function i(e,t,n=.1){(0,a.useEffect)(()=>{if(!e.current)return;let a=new IntersectionObserver(e=>{e.some(e=>e.isIntersecting)&&t()},{threshold:n});return e.current&&a.observe(e.current),()=>a.disconnect()},[e,t,n])}},93563:function(e,t,n){"use strict";n.d(t,{CX:function(){return l},DD:function(){return o},k7:function(){return d},tX:function(){return c},wp:function(){return s},wu:function(){return r}});var a=n(31744);let i=e=>e.editor,o=(0,a.P1)(i,e=>e.thumbnail_flow),r=(0,a.P1)(i,e=>e?.cta_flow),l=(0,a.P1)(i,e=>e?.thumbnail_data.thumbnail_local),s=(0,a.P1)(i,e=>e?.thumbnail_data.uploading),c=(0,a.P1)(i,e=>e?.thumbnail_data.initiate_save),d=(0,a.P1)(i,e=>e?.thumbnail_data.og_dims)},75658:function(e,t,n){"use strict";n.d(t,{j:function(){return o}});var a=n(22574),i=n(54581);let o=e=>new Promise((t,n)=>{e.type!==i.b2&&n("Only .csv uploads supported");let o=new FileReader;o.onload=()=>{(0,a.Qc)(o.result,(e,a)=>{if(e)return n(e);t(a)})},o.readAsBinaryString(e)})},42930:function(e,t,n){"use strict";function a(e,t){return n=>{try{t&&t(n)}finally{e&&e(n)}}}n.d(t,{a:function(){return a}})},44668:function(e,t,n){"use strict";n.d(t,{gN:function(){return o},vE:function(){return s},o5:function(){return c},Gy:function(){return d},_s:function(){return u},Qy:function(){return g},e5:function(){return p},UZ:function(){return f},Wy:function(){return h},QB:function(){return _},E9:function(){return y},pg:function(){return v},Qv:function(){return E},l0:function(){return k},RV:function(){return w},Zq:function(){return C},cI:function(){return S}});var a=n(66420),i={"loom-form":"loom-form_loom-form_3X-",form_field:"loom-form_form_field_2Zf","form_field-group":"loom-form_form_field-group_KIa",form_fieldset:"loom-form_form_fieldset_Ddy","form_inline-error":"loom-form_form_inline-error_3m3",form_field_vertical:"loom-form_form_field_vertical_2JE",form_field_horizontal:"loom-form_form_field_horizontal_RJL"};let o=({children:e,variant:t="vertical"})=>"horizontal"===t?a.createElement("div",{className:`${i.form_field} ${i.form_field_horizontal}`},e):a.createElement("div",{className:`${i.form_field} ${i.form_field_vertical}`},e);var r=n(28256),l=n(14728);function s(e){let{rules:t,shouldUnregister:n,defaultValue:i,name:o,...s}=e,c=(0,r.Gc)(),d=e.control||c.control,{isIndeterminate:m,...u}=s,g=u.value,p=a.useRef(null),[v,f]=a.useState(!!d&&"boolean"==typeof i&&i),[h,E]=a.useState(!!(d&&m&&null==i)),{field:_}=(0,r.bc)({name:o,control:e.control||void 0,rules:t,shouldUnregister:n,defaultValue:i});return a.createElement(l.XZJ,{..._,...u,ref:p,"aria-describedby":`${o}-field-error`,isChecked:!!_.value,onChange:()=>{m?v?(f(!1),E(!0),_.onChange(null)):h?(f(!1),E(!1),_.onChange(!1)):(f(!0),E(!1),_.onChange(g||!0)):(f(!_.value),g?_.onChange(_.value?void 0:g):_.onChange(!_.value))}})}let c=({children:e})=>a.createElement("div",{className:`${i["form_field-group"]}`},e);function d(e){let{fieldState:t,formState:n}=(0,r.bc)(e);return(n.isSubmitted||t.isTouched)&&t.error?a.createElement(l.xvT,{id:`${name}-field-error`,className:"loom-form-inline-error",color:"red",size:"body-md"},t.error&&t.error.message):null}var m=n(42930);function u({...e}){let{rules:t,shouldUnregister:n,defaultValue:i,name:o,...s}=e,{field:c,fieldState:d,formState:u}=(0,r.bc)({name:o,control:e.control||void 0,rules:t,shouldUnregister:n,defaultValue:i}),g=!!d.error&&(d.isTouched||u.isSubmitted);return a.createElement(l.oil,{...c,...s,"aria-invalid":d.invalid?"true":"false","aria-describedby":`${o}-field-error`,hasError:g,onChange:(0,m.a)(s.onChange,c.onChange),onBlur:(0,m.a)(s.onBlur,c.onBlur)})}let g=({children:e,...t})=>a.createElement("label",{...t},e);function p(e){let{name:t,value:n,...i}=e,{field:o}=(0,r.bc)(e);return a.createElement(l.Y8K,{...i,...o,css:null,value:n,isChecked:o.value===n,"aria-describedby":`${t}-field-error`})}let v=({children:e})=>a.createElement("fieldset",{className:`${i.form_fieldset}`,style:{border:0}},e);function f({name:e,control:t,rules:n,children:i}){return(0,r.bc)({name:e,control:t,rules:n}),a.createElement(v,null,i)}function h(e){let{rules:t,shouldUnregister:n,defaultValue:i,name:o,...s}=e,{field:c,fieldState:d}=(0,r.bc)({name:o,control:e.control||void 0,rules:t,shouldUnregister:n,defaultValue:i}),{onChange:u,ref:g,...p}=c;return a.createElement(l.PhF,{...p,...s,"aria-invalid":d.error?"true":"false","aria-describedby":`${o}-field-error`,selectedOptionValue:c.value,onChange:e=>{(0,m.a)(s.onChange,c.onChange)(e.value)}})}let E=({children:e})=>a.createElement("legend",null,e);function _(e){let{name:t,...n}=e,{field:i}=(0,r.bc)(e);return a.createElement(l.rsf,{...n,isActive:i.value,"aria-describedby":`${t}-field-error`,onChange:e=>{(0,m.a)(n.onChange,i.onChange)(!i.value)}})}function y(e){let{rules:t,shouldUnregister:n,defaultValue:i,name:o,...s}=e,{field:c,fieldState:d}=(0,r.bc)({name:o,control:e.control||void 0,rules:t,shouldUnregister:n,defaultValue:i});return a.createElement(l.gxH,{...c,...s,"aria-invalid":d.invalid?"true":"false","aria-describedby":`${o}-field-error`})}function b(e){let t=a.useRef();return a.useEffect(()=>{t.current=e}),t.current}function k({children:e,...t}){let n=a.useRef(null),{isSubmitting:o,isValidating:l,isValid:s}=(0,r.cl)({control:t.control||void 0}),c=b(l),d=b(o);return a.useEffect(()=>{if(d&&!c&&!s){let e=n.current;if(e){let t=e.querySelector('[aria-invalid="true"]');t&&(t.scrollIntoView&&t.scrollIntoView({behavior:"smooth"}),t.focus())}}},[d,c,s]),a.createElement("form",{ref:n,className:`${i["loom-form"]}`,...t},e)}let w=r.RV;function C({disabled:e,loader:t,...n}){return a.createElement(l.zxk,{type:"submit",disabled:e,isDisabled:e,hasLoader:t,...n})}let S=e=>(0,r.cI)({...e,shouldFocusError:!1})},64131:function(e,t,n){"use strict";n.d(t,{o:function(){return _}});var a=n(77848),i=n.n(a),o=n(16089),r=n.n(o),l=n(66420),s=n(50806),c=n(94713);let d=/(?:^|[(['"<]|\s)(@([^@]*))$/;var m=n(89169),u=n(14728),g=n(91598),p=n(11940);let v={google:l.createElement(g._,null),slack:l.createElement(p.w,null)},f=({user:e})=>{let{avatar:t,source:n,display:a,email:i}=e,o=a.trim();return 0===o.length?o=i:-1===o.indexOf(" ")&&(o=`${o} (${i})`),l.createElement(u.ggW,{justifyContent:"start",alignItems:"center",gap:"small",columns:["24px","1fr","24px"]},l.createElement(m.Z,{avatarSrc:t,name:a,avatarSize:3}),l.createElement(u.xvT,{size:"body-md",fontWeight:"bold",color:"white"},o),l.createElement(u.JO$,{altText:n,icon:v[n],size:2}))};var h={mentionWrapper:"autoresize-mention-textarea_mentionWrapper_38n",mentionWrapper__control:"autoresize-mention-textarea_mentionWrapper__control_KLO",mentionWrapper__highlighter:"autoresize-mention-textarea_mentionWrapper__highlighter_2IJ",mentionWrapper__input:"autoresize-mention-textarea_mentionWrapper__input_2ut",mentionWrapper__suggestions__list:"autoresize-mention-textarea_mentionWrapper__suggestions__list_1Yg",mentionWrapper__suggestions__item:"autoresize-mention-textarea_mentionWrapper__suggestions__item_25q","mentionWrapper__suggestions__item--focused":"autoresize-mention-textarea_mentionWrapper__suggestions__item--focused_3O_",endOfVideoNudge:"autoresize-mention-textarea_endOfVideoNudge_1bZ",error:"autoresize-mention-textarea_error_1V5",empty:"autoresize-mention-textarea_empty_2bD",mention:"autoresize-mention-textarea_mention_5Ms",forceMentionMenuAboveInput:"autoresize-mention-textarea_forceMentionMenuAboveInput_i8K",withAiNudges:"autoresize-mention-textarea_withAiNudges_2Ui"};let{MAX_COMMENT_SERVER_LENGTH:E}=c,_=({dataTestId:e="",fetch:t,forceMentionMenuAboveInput:n=!1,hasError:a=!1,id:o,isEndOfVideoNudge:c,onBlur:m,onChange:u,onFocus:g,onKeyDown:p,placeholder:v,shouldHighlight:_=!1,shouldIncreaseCommentInputHeight:y=!1,textRef:b,value:k,singleLine:w=!1})=>{let C=(0,l.useCallback)(r()(async(e,n)=>{if(!b.current)return;let a=b.current.getBoundingClientRect().top,i=Math.ceil(a/70);i=Math.min(i,10);let o=await t(e,i);n(o)},275),[t]);return(0,l.useEffect)(()=>()=>{C.cancel()},[C]),l.createElement(s.r,{allowSpaceInQuery:!0,allowSuggestionsAboveCursor:!0,className:i()("mentionWrapper",!_&&"empty",c&&"endOfVideoNudge",a&&"error",n&&"forceMentionMenuAboveInput",y&&"withAiNudges"),classNames:h,inputRef:b,onChange:u,onFocus:g,onBlur:m,onKeyDown:p,value:k,placeholder:v,"data-testid":[e],id:o,maxLength:E,style:{resize:"none",maxHeight:w?"30px":"",top:w?"-2px":""}},l.createElement(s.p,{appendSpaceOnAdd:!0,className:h.mention,data:C,displayTransform:(e,t)=>`@${t}`,markup:"@[__display__](__id__)",renderSuggestion:e=>{let t=l.createElement(f,{user:e});if(!b||!b.current)return t;let n=b.current.parentElement?.nextElementSibling;if(!n)return t;let a=n.firstElementChild;return a&&window.innerWidth<=500&&(n instanceof HTMLElement&&(n.style.left="0",n.style.top="0",n.style.width="100%"),a instanceof HTMLElement&&(a.style.width="100%",a.style.minWidth="100%")),t},trigger:d}))}},19388:function(e,t,n){"use strict";n.d(t,{T:function(){return r}});var a=n(66420),i=n(61824),o=n(14728);function r({addButton:e=!0,children:t,colorSelected:n,defaultColor:r="#ffffff",forceClose:l=!1,id:s="",position:c="top-center",rootContainer:d,swatches:m}){let[u,g]=(0,a.useState)(!1),{triggerProps:p,layerProps:v,renderLayer:f}=(0,i.sJ)({isOpen:u&&!l,triggerOffset:10,placement:c,onOutsideClick:()=>{g(!1)},onParentClose:()=>{g(!1)},auto:!0,snap:!0,container:d}),[h,E]=(0,a.useState)(r),_={...v,style:{...v.style,zIndex:1}};return a.createElement(a.Fragment,null,a.createElement("span",{...p},a.createElement("div",{onClick:()=>g(!u)},t)),u&&!l?f(a.createElement("div",{..._},a.createElement(o.zH8,{id:s,onChange:t=>e?E(t):n(t),defaultColor:r,confirmButton:e&&a.createElement(o.zxk,{variant:"primary",size:"small",hasFullWidth:!0,onClick:()=>{n(h),g(!1)}},"Use this color"),swatches:m}))):null)}},30709:function(e,t,n){"use strict";n.d(t,{N:function(){return m},O:function(){return u}});var a=n(45731),i=n(28668),o=n(84515);let r={},l=(0,i.Ps)`
    query GetVideoRecordingClient($videoId: ID!, $password: String) {
  getVideo(id: $videoId, password: $password) {
    ... on RegularUserVideo {
      id
      video_properties {
        recordingClient
      }
    }
  }
}
    `;var s=n(73038),c=n(66420),d=n(14728);let m=()=>c.createElement(d.W20,{padding:"large"},c.createElement(s.c,null)),u=e=>{let{password:t}=(0,a.u)(),{data:n}=function(e){let t={...r,...e};return o.a(l,t)}({variables:{videoId:e,password:t}});return n?.getVideo?.__typename==="RegularUserVideo"&&"meeting_bot"===n.getVideo.video_properties.recordingClient}},74137:function(e,t,n){"use strict";n.d(t,{$:function(){return i},y:function(){return o}});var a,i=((a=i||{}).FALL_24_New_User="fall-24-new-user",a.FALL_24_EXISTING_WORKSPACE_AI_TRIAL="fall-24-existing-workspace-ai-trial",a.FALL_24_BIZ_ENT_PREV_AI="fall-24-biz-ent-prev-ai",a.FALL_24_HARD_UPSELL="fall-24-hard-upsell",a.Disabled="disabled",a);let o=["fall-24-new-user","fall-24-existing-workspace-ai-trial","fall-24-biz-ent-prev-ai","fall-24-hard-upsell"]},74097:function(e,t,n){"use strict";n.d(t,{g:function(){return p}});var a=n(49003),i=n(28668),o=n(84515);let r={},l=(0,i.Ps)`
    query AtlassianLocaleResponse {
  atlassianLocaleResponse {
    ... on GetAtlassianLocalePayload {
      localeRequiresMarketingOptIn
      locale
    }
  }
}
    `;var s=n(70643),c=n(66420),d=n(14728),m=n(37121);let u=new URLSearchParams(window.location.search),g=()=>{let{loading:e,data:t}=function(e){let t={...r,...e};return o.a(l,t)}({skip:!m.yv}),n=(0,s.k)(e=>e.setLocale),a=(0,s.k)(e=>e.setLocaleRequiresMarketingOptIn);(0,c.useEffect)(()=>{e||t?.atlassianLocaleResponse?.__typename!=="GetAtlassianLocalePayload"||(n(t.atlassianLocaleResponse.locale),a(t.atlassianLocaleResponse.localeRequiresMarketingOptIn))},[e,t,n,a])},p=({size:e="body-sm",color:t="body"})=>{g();let n="true"===u.get("showPromotionalCheckbox"),i=(0,s.k)(e=>e.localeRequiresMarketingOptIn),o=(0,s.k)(e=>e.isPromotionalEmailBoxChecked),r=(0,s.k)(e=>e.setIsChecked);return i||n?c.createElement(c.Fragment,null,c.createElement(d.WiK,{direction:"row"},c.createElement(d.ggW,{alignContent:"end",gap:"small"},c.createElement(d.XZJ,{id:"promotionalCheckbox",isChecked:o,onChange:e=>r(e.target.checked)}),c.createElement(d.xvT,{size:e,color:t},"Yes! I would like to receive promotional emails including product news, events, and more from"," ",c.createElement(d.rUS,{href:a.yw,target:"_blank"},"Atlassian")," ","and"," ",c.createElement(d.rUS,{href:a.XC,target:"_blank"},"Atlassian Partners"),"."))),c.createElement(d.LZC,{bottom:"medium"})):null}},3749:function(e,t,n){"use strict";n.d(t,{r:function(){return i}});var a=n(66420);function i({size:e,color:t="currentColor"}){return a.createElement("svg",{width:8*e,height:8*e,viewBox:"0 0 56 56",fill:"none"},a.createElement("path",{d:"M56 21.328V0H34.672v5.56h11.834L30.779 21.288V9.453h-5.56v11.834L9.492 5.561h11.836V0H0v21.328h5.56V9.492L21.288 25.22H9.453v5.56h11.834L5.561 46.506V34.672H0V56h21.328v-5.56H9.492L25.22 34.71v11.837h5.56V34.71l15.727 15.728H34.672V56H56V34.672h-5.56v11.834L34.712 30.779h11.834v-5.56H34.713L50.439 9.492v11.836H56z",fill:t}))}},13891:function(e,t,n){"use strict";n.r(t),n.d(t,{getEmojiUnicodeByName:function(){return l},getEmojiWithSkinTones:function(){return a.zv},groupedEmojis:function(){return o}});var a=n(10928);let i=new a.cq,o=function(){let e=[];return a.vS.forEach(t=>{let n=i.emojiCategoryLookUp.get(t);n&&e.push({category:t,emojis:n})}),e}(),r={"skin-tone-2":"1F3FB","skin-tone-3":"1F3FC","skin-tone-4":"1F3FD","skin-tone-5":"1F3FE","skin-tone-6":"1F3FF"};function l(e,t){if(!e)return"";let n=i.getEmojiByName(e);if(!n)return"";if(t?.length){let e=t.map(e=>r[e]).join("-");if(!e||!n.skin_variations)return"";let a=n.skin_variations[e];if(!a)return"";let{unified:i}=a;return s(i)}return n?s(n.unified):""}function s(e){let t=e.split("-").map(e=>+`0x${e}`);return String.fromCodePoint(...t)}},26598:function(e,t,n){"use strict";n.d(t,{F:function(){return i}});var a,i=((a=i||{}).EditTab="edit-tab",a.ActivityTab="activity-tab",a)},11467:function(e,t,n){"use strict";n.d(t,{A:function(){return p}});var a=n(89536),i=n(89895),o=n(60398),r=n(61791),l=n(60176),s=n(6621),c=n(18807),d=n(29256),m=n(42145),u=n(84888),g=n(80512);let p=({children:e})=>{let t;let n=(0,i.I0)(),p=(0,a.W9)(s.ZiQ),v=(0,u.hP)(),{data:f,loading:h}=(0,m.rj)({variables:{workspaceId:v?.id},skip:!v?.id});if(h)return null;let E=f?.billing?.billing_details,_=!!E?.paused,y=v?.type===c.q1,b=!!E?.add_ons.some(e=>l.Sp(e.price.product).addon===d.e9.Ai),k=!!(p&&y&&!b&&!(0,o.V9)(E));return t=_?"resume-paused-subscription":k?"upgrade-active-subscription":"navigate-to-checkout",e({showModal:()=>{switch(t){case"resume-paused-subscription":n((0,g.h7)({modalType:"RESUME_PAUSED_SUBSCRIPTION_MODAL"}));break;case"navigate-to-checkout":(0,r.H)();break;case"upgrade-active-subscription":n((0,g.h7)({modalType:"PURCHASE_AI_MODAL",options:{source:"StarterUpgradeModalButton"}}))}}})}},35816:function(e,t,n){"use strict";n.d(t,{Bm:function(){return l}});var a=n(28668),i=n(84515);let o={},r=(0,a.Ps)`
    query GetUserIntegrationSettings {
  me {
    __typename
    id
    integration_settings
    calendars {
      id
      lastSyncedAt
    }
  }
}
    `;function l(e){let t={...o,...e};return i.a(r,t)}},44354:function(e,t,n){"use strict";var a=n(72931),i=n(66420),o=n(14728),r=n(2677),l=n(45845);t.Z=({buttonText:e="View your insights",buttonSize:t="small",source:n,useLinkStyle:s=!1})=>{let{setIsProfileMenuOpen:c,isProfileMenuOpen:d}=(0,l.yY)(),m=e=>{let t=e.target;r.track(a.utS,{source:n}),d||c&&c(!0,t?.className,!0)};return i.createElement(i.Fragment,null,s?i.createElement(o.rUS,{htmlTag:"button",onClick:m}," ",e):i.createElement(o.zxk,{onClick:m,size:t},e))}},94789:function(e,t,n){"use strict";var a=n(66420),i=n(14728),o=n(64450);t.Z=({size:e=2})=>a.createElement(a.Fragment,null,a.createElement(i.W20,{backgroundColor:"background",radius:"full"},a.createElement(i.W20,{backgroundColor:"highlight",radius:"full",padding:"xsmall"},a.createElement(i.xMy,{alignment:"center"},a.createElement(i.JO$,{icon:a.createElement(o.X,{color:"#4B42AD"}),size:e})))))},41106:function(e,t,n){"use strict";n.d(t,{Z:function(){return d}});var a=n(72931),i=n(49003),o=n(89536),r=n(66420),l=n(14728),s=n(6621),c=n(2677);function d({customAction:e=null,size:t,dynamic:n=!1,color:d="body",signupMode:m}){let u=e||(m&&!n?"signing up":"clicking “Create Free Account”"),g=(0,o.W9)(s.Kto),p=g?"Atlassian":"Loom",v=g?i.gI:i.WF,f=g?i.GB:i.Bz;return r.createElement(r.Fragment,null,r.createElement(l.xvT,{htmlTag:"p",size:t,alignment:"center",color:d},"signing up"===e?`By ${u} I agree to ${p}\u2019s `:`By signing up, you acknowledge that you have read and understood, and agree to ${p}\u2019s `,r.createElement(l.rUS,{href:v,target:"_blank",rel:"noopener noreferrer",variant:"primary",onClick:()=>{c.track(a.Yo6)}},"Terms")," ","and"," ",r.createElement(l.rUS,{href:f,target:"_blank",rel:"noopener noreferrer",variant:"primary",onClick:()=>{c.track(a.Yz5)}},"Privacy Policy"),"."))}},2658:function(e,t,n){"use strict";var a=n(26998),i=n(66420);t.Z=({alternate:e=null,children:t=null,names:n=[],name:o,some:r=!1})=>{if(Array.isArray(n)||(n=[n]),o&&n.push(o),0===n.length)throw Error("Invalid usage of the Scopes component, missing both name and names props");let l=(0,i.useCallback)(({scopes:e})=>r?n.some(t=>e.includes(t)):n.every(t=>e.includes(t)),[n,r]),s=(0,a.useCurrentUserSelector)(l,!1),c=e&&"function"==typeof e?e():e;return s?i.createElement(i.Fragment,null,t):i.createElement(i.Fragment,null,c)}},80851:function(e,t,n){"use strict";n.d(t,{O:function(){return d}});var a=n(89536),i=n(66420),o=n(14728),r=n(59227),l=n(6621),s=n(803),c=n(10376);let d=({children:e,footer:t,title:n,goBackToEditPage:d,backupTitleComponent:m,settingsIsInEditTab:u=!1})=>{let g=(0,c.ny)(),p=(0,a.W9)(l.wBK)?(0,c.at)():0,v=u?`calc(${s.IB} - ${g}px - ${p}px)`:s.IB;return i.createElement(o.ggW,{autoFlow:"row",rows:["auto","1fr","auto"],justifyContent:"stretch",height:v},n?i.createElement(o.W20,{paddingLeft:"medium",paddingTop:"medium",paddingBottom:"small"},i.createElement(o.ggW,{gap:"small"},i.createElement(o.hU,{icon:i.createElement(r.C,null),onClick:d,altText:"Go Back To Edit Page"}),i.createElement(o.xvT,{fontWeight:"bold",size:"body-lg"},n))):i.createElement(i.Fragment,null,m),i.createElement(o.W20,{paddingX:"large",paddingY:"small",height:"100%",overflow:"auto"},e),t)}},7273:function(e,t,n){"use strict";n.d(t,{f:function(){return m},v:function(){return u}});var a=n(67121),i=n(42145),o=n(84888),r=n(66420),l=n(72251),s=n(14728),c=n(54913);let d=a.Z.div`
  width: 224px;
  height: 138px;
  background: linear-gradient(to right, #4355fb, #f187fb);
`,m=({text:e,altText:t,img:n,imgWidth:a,imgAlignment:m="center",trial:u=!1,noAccess:g=!1})=>{let p=(0,o.hP)(),{data:v}=(0,i.rj)({variables:{workspaceId:p?.id},skip:!p?.id}),f=v?.customer?.__typename==="LoomCustomer"?v.customer:null,h=(0,l.s)(f??null);return r.createElement(s.W20,{radius:"large",width:"224px",overflow:"hidden",margin:"-7px -12px"},r.createElement(s.ggW,{autoFlow:"row"},r.createElement(d,null,r.createElement(s.xMy,{alignment:m},r.createElement("img",{src:n,alt:t,width:a,height:"auto"}))),r.createElement(s.W20,{padding:"small"},g?r.createElement(s.ggW,{gap:"xsmall",autoFlow:"row"},!h&&r.createElement(s.ggW,{gap:"xsmall"},r.createElement(s.JO$,{icon:r.createElement(c.R,null),size:2,color:"upgradeHover"}),r.createElement(s.xvT,{size:"body-sm",fontWeight:"bold",color:"upgradeHover"},"Available on paid plans")),r.createElement(s.xvT,{size:"body-sm",fontWeight:"bold"},"Upgrade to unlock links")):r.createElement(s.ggW,{gap:"xsmall",autoFlow:"row"},u&&r.createElement(s.ggW,{gap:"xsmall"},r.createElement(s.JO$,{icon:r.createElement(c.R,null),size:2,color:"upgradeHover"}),r.createElement(s.xvT,{size:"body-sm",fontWeight:"bold",color:"upgradeHover"},"Available with your trial")),r.createElement(s.xvT,{size:"body-sm",fontWeight:"bold"},e)))))},u=({children:e,tooltipContent:t,notAvailable:n,maxWidth:a="224px",placement:i="leftCenter"})=>r.createElement(s.ua7,{tabIndex:-1,isInline:!1,content:t,placement:i,triggerOffset:8,maxWidth:a,isDisabled:n,keepOpen:!0},e)},81670:function(e,t,n){"use strict";n.d(t,{T:function(){return a}});let a={SIDEBAR:10,RESIZER:11,EMOJI_PICKER:12,TRANSCRIPT_CORRECTION:12}},803:function(e,t,n){"use strict";n.d(t,{IB:function(){return d},LB:function(){return r},Pi:function(){return m},YS:function(){return o},j_:function(){return c},oh:function(){return l},xN:function(){return s}});var a,i=n(58329),o=((a=o||{}).Recap="Recap",a.Activity="Activity",a.Transcript="Transcript",a.Views="Views",a.Edit="Edit",a.Settings="Settings",a);let r=435,l=r,s=700,c=20,d=`calc(100vh - ${i.v})`,m="calc(100vh - var(--transcript-header-height))"},28944:function(e,t,n){"use strict";n.d(t,{$:function(){return l}});var a=n(67121),i=n(66420);let o=a.Z.div`
  background: var(--lns-color-background);
  width: 100%;
  height: 72px;
  align-self: end;
`,r=a.Z.div`
  background: var(--lns-color-background);
  display: flex;
  justify-content: space-around;
  align-items: center;
  gap: 16px;
  padding: 18px 24px;
  width: 100%;
  box-shadow: 0 -1px 0 var(--lns-color-border);
`,l=({children:e})=>i.createElement(o,null,i.createElement(r,null,e))},69926:function(e,t,n){"use strict";n.d(t,{T:function(){return ex}});var a=n(66420),i=n(89895),o=n(62259),r=n(14728),l=n(80962),s=n(53422),c=n(72931),d=n(22562),m=n(72197),u=n(65655),g=n(94705),p=n(23555),v=n(94238),f=n(28668),h=n(34017);let E={},_=(0,f.Ps)`
    mutation UpdateVideoCta($videoId: ID!, $cta: CtaInput!, $password: String) {
  updateVideoCta(videoId: $videoId, cta: $cta, password: $password) {
    __typename
    ... on UpdateVideoCtaPayload {
      video {
        id
        cta {
          url
          text
          enabled
          is_auto
          approved_at
          mods
        }
      }
    }
    ... on InvalidRequestWarning {
      message
    }
    ... on Error {
      message
    }
  }
}
    `;var y=n(14374),b=n(15596),k=n(96367),w=n(58461),C=n(94713),S=n(72924),T=n(67184),x=n(61435),I=n(2677),A=n(52069),N=n(46434);let L={},P=(0,f.Ps)`
    mutation ApproveAutoCta($videoId: ID!) {
  approveAutoCta(videoId: $videoId) {
    __typename
    ... on ApproveAutoCtaPayload {
      approved_at
    }
    ... on UserNotAuthorizedError {
      message
    }
    ... on GenericError {
      message
    }
  }
}
    `;var D=n(44668),R=n(717),V=n(95077),W=n(80851),O=n(28944),F=n(19388),B=n(90894),z=n(39014),$=n(76724),M=n(58893);let U=[{value:"Bottom left",title:"Bottom left"},{value:"Bottom right",title:"Bottom right"},{value:"Top left",title:"Top left"},{value:"Top right",title:"Top right"}];var Z=n.p+"img/rainbow-oval-f67a03bfce0230e2a9c1.png",j=n(35549),H=n(66456);function G({ctaUrl:e,videoId:t}){let n=C.wG.test(e),{isOwnerInCalendlySegment:i}=(0,j.e)(t,n);return a.createElement(a.Fragment,null,i?a.createElement(r.LZC,{top:"medium"},a.createElement(r.W20,{backgroundColor:"backgroundSecondary",padding:2,radius:"large",htmlTag:"section"},a.createElement(r.ggW,{gap:"small"},a.createElement(r.JO$,{icon:a.createElement(H.L,null)}),a.createElement(r.xvT,{isDimmed:!0},"Your Calendly will appear at the end of the video")))):null)}let Y="Yikes! Doesn’t look like a valid color",K={Rounded:{value:24,icon:a.createElement(e=>a.createElement("svg",{viewBox:"0 0 24 24",fill:"none",...e},a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M3 12a9 9 0 019-9h9v2h-9a7 7 0 000 14h9v2h-9a9 9 0 01-9-9z",fill:"currentColor"})),null)},Squared:{value:0,icon:a.createElement(e=>a.createElement("svg",{viewBox:"0 0 24 24",fill:"none",...e},a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M3 3h18v2H5v14h16v2H3V3z",fill:"currentColor"})),null)},"Slightly rounded":{value:8,icon:a.createElement(e=>a.createElement("svg",{viewBox:"0 0 24 24",fill:"none",...e},a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M3 8a5 5 0 015-5h13v2H8a3 3 0 00-3 3v8a3 3 0 003 3h13v2H8a5 5 0 01-5-5V8z",fill:"currentColor"})),null)}},q=["#ff623e","#44c3c3","#ffc65c","#77c4ff","#f8f6f0","#212121","#ffffff"],J="#FF623E",X="#FFFFFF",Q=e=>e===K["Slightly rounded"].value?"Slightly rounded":e===K.Squared.value?"Squared":"Rounded",{isValidCtaUrl:ee}=M,et={url:"",text:"",location:N.WB.location,button_corner_style:Q(N.WB.border_radius),only_show_at_end_of_video:N.WB.only_show_at_end_of_video,color:X,background_color:J},en=({videoId:e,onUrlChange:t,onTextChange:n,onLocationChange:i,onBackgroundColorChange:o,onColorChange:l,onButtonCornerStyleChange:s,onOnlyShowAtEndOfVideoChange:c,formProps:d,onSubmit:m})=>{let u=e=>{d.setValue("url",e),t(e)},g=e=>{d.setValue("text",e),n(e)},p=e=>{d.setValue("background_color",e),o(e)},f=e=>{d.setValue("color",e),l(e)},h=e=>{d.setValue("only_show_at_end_of_video",e),c(e)},E=()=>{let e=d.getValues().url,t=d.getValues().text,n=(0,v.V)(e);C.wG.test(e)&&(p("#006BFF"),f(X)),!t&&n&&g(n)},_=e=>ee(e)&&!!$({apostrophes:!0,parens:!0,exact:!0,strict:!1,re2:!1}).test(e)||"Yikes! Doesn’t look like a valid URL",{brandLogoPath:y}=(0,B.e)({videoId:e});return(0,z.b)(E),a.createElement("div",null,a.createElement(D.l0,{id:"cta-form",control:d.control,onSubmit:d.handleSubmit(m)},a.createElement(D.gN,null,a.createElement(D.Qy,{htmlFor:"url"},"Button link (URL)"),a.createElement(D._s,{id:"url",name:"url",control:d.control,rules:{required:"Required",validate:e=>_(e)},onChange:e=>u(e.target.value),onBlur:()=>{let e=d.getValues().url;e.endsWith("?")&&u(e.slice(0,-1)),E()}}),a.createElement(D.Gy,{name:"url",control:d.control})),a.createElement(G,{ctaUrl:d.getValues().url,videoId:e}),a.createElement(r.LZC,{top:"medium"}),a.createElement(D.gN,null,a.createElement(D.Qy,{htmlFor:"text"},"Button text"),a.createElement(D._s,{id:"text",name:"text",control:d.control,rules:{required:"Required"},onChange:e=>g(e.target.value)}),a.createElement(D.Gy,{name:"text",control:d.control})),a.createElement(r.LZC,{top:"medium"}),a.createElement(D.gN,null,a.createElement(D.Qy,{htmlFor:"location"},"Button location"),a.createElement(D.Wy,{id:"location",name:"location",control:d.control,rules:{required:"Required"},onChange:e=>{d.setValue("location",e),i(e)},options:y?U.filter(e=>"Top left"!==e.value):U,isDisabled:d.getValues().only_show_at_end_of_video}),a.createElement(D.Gy,{name:"location",control:d.control})),a.createElement(r.LZC,{top:"medium"}),a.createElement(D.gN,null,a.createElement(F.T,{defaultColor:J,colorSelected:p,swatches:q,addButton:!1,position:"bottom-end"},a.createElement("div",{className:"picker-input"},a.createElement(D.Qy,{htmlFor:"background_color"},"Button color"),a.createElement(D._s,{id:"background_color",name:"background_color",control:d.control,rules:{required:"Required",validate:e=>!!(0,C.K_)(e)||Y},onChange:e=>{p(e.target.value)}}),a.createElement("img",{src:Z,className:"picker-icon",alt:"picker icon"}),a.createElement(D.Gy,{name:"background_color",control:d.control})))),a.createElement(r.LZC,{top:"medium"}),a.createElement(D.gN,null,a.createElement(F.T,{defaultColor:X,colorSelected:f,swatches:q,addButton:!1,position:"bottom-end"},a.createElement("div",{className:"picker-input"},a.createElement(D.Qy,{htmlFor:"color"},"Text color"),a.createElement(D._s,{id:"color",name:"color",control:d.control,rules:{required:"Required",validate:e=>!!(0,C.K_)(e)||Y},onChange:e=>{f(e.target.value)}}),a.createElement("img",{src:Z,className:"picker-icon",alt:"picker icon"}),a.createElement(D.Gy,{name:"color",control:d.control})))),a.createElement(r.LZC,{top:"medium"}),a.createElement(D.gN,null,a.createElement(D.Qy,{htmlFor:"button_corner_style"},"Button corner style"),a.createElement(D.Wy,{id:"button_corner_style",name:"button_corner_style",control:d.control,rules:{required:"Required"},onChange:e=>{d.setValue("button_corner_style",e),s(e)},options:Object.entries(K).map(([e,t])=>({value:e,title:e,icon:t?.icon}))}),a.createElement(D.Gy,{name:"button_corner_style",control:d.control})),a.createElement(r.LZC,{top:"large"}),a.createElement(D.gN,{variant:"horizontal"},a.createElement(D.vE,{id:"only_show_at_end_of_video",name:"only_show_at_end_of_video",control:d.control,onChangeCapture:e=>{h(e.target.checked)}}),a.createElement(D.Qy,{htmlFor:"only_show_at_end_of_video"},"Only show at end of video"))))},ea=e=>{let{url:t,text:n,location:a,button_corner_style:i,only_show_at_end_of_video:o,color:r,background_color:l}=e;return{url:t,text:n,mods:{location:a,border_radius:K[i].value,only_show_at_end_of_video:o,color:r,background_color:l}}},ei=e=>{let{url:t,text:n,mods:a}=e,{location:i,border_radius:o,only_show_at_end_of_video:r,color:l,background_color:s}=a;return{url:t,text:n,location:i,background_color:s,color:l,button_corner_style:Q(o),only_show_at_end_of_video:r}};function eo({onUrlChange:e,onTextChange:t,onLocationChange:n,onBackgroundColorChange:o,onColorChange:l,onButtonCornerStyleChange:s,onOnlyShowAtEndOfVideoChange:d,onSaveForVideo:m,goBackToEditPage:u,videoId:g,currentValues:p}){let{loading:f,value:h}=(0,V.T)(R.I.DEFAULT_CTA,{onCompleted:()=>w(b)}),E=(0,i.I0)(),{updateMemberProperty:_}=(0,V.A)(R.I.DEFAULT_CTA),y=h&&Object.keys(h).length>0,b=y?ei(h):p,k=(0,D.cI)({mode:"onBlur",values:b}),w=n=>{e(n.url),t(n.text),E((0,S.lh)(ea(n).mods))},C=k.formState.isSubmitting||!k.formState.isValid;return f?a.createElement(W.O,{title:a.createElement(r.xvT,{fontWeight:"bold",size:"body-lg"},"Set default link"),footer:a.createElement(a.Fragment,null),goBackToEditPage:u,settingsIsInEditTab:!1},a.createElement(r.aNw,null)):a.createElement(W.O,{title:a.createElement(r.xvT,{fontWeight:"bold",size:"body-lg"},"Set default link"),footer:a.createElement(O.$,null,a.createElement(r.zxk,{type:"submit",form:"cta-form",variant:"primary",isDisabled:C,hasFullWidth:!0},"Save")),goBackToEditPage:()=>{w(et),u()},settingsIsInEditTab:!1},a.createElement(a.Fragment,null,a.createElement(r.xvT,{color:"bodyDimmed"},"Setting a default link will make the link automatically appear on all future Loom videos."),a.createElement(r.LZC,{top:"large"}),a.createElement(en,{videoId:g,onUrlChange:e,onTextChange:t,onLocationChange:n,onBackgroundColorChange:o,onColorChange:l,onButtonCornerStyleChange:s,onOnlyShowAtEndOfVideoChange:d,onSubmit:()=>{let{url:e,text:t,location:n,background_color:a,color:i,button_corner_style:o,only_show_at_end_of_video:r}=k.getValues();I.track(c.fQ4,{default_link:e,default_title:t,default_link_domain:(0,v.Q)(e)}),_({url:e,text:t,mods:{color:i,background_color:a,border_radius:K[o].value,location:n,only_show_at_end_of_video:r}}),m()},formProps:k}),a.createElement(r.LZC,{top:"small"}),a.createElement("div",{style:{display:"flex",width:"100%",justifyContent:"center",marginTop:"var(--lns-space-large)"}},a.createElement(r.zxk,{variant:"danger",isDisabled:!y,onClick:()=>{I.track(c.WIy,{videoId:g}),_({}),w(et),u()}},"Remove default link"))))}var er=n(30016);function el({goToDefaultPage:e,isDisabled:t}){return a.createElement(O.$,null,a.createElement(r.zxk,{onClick:e,hasFullWidth:!0},"Set default link"),a.createElement(r.zxk,{type:"submit",form:"cta-form",variant:"primary",isDisabled:t,hasFullWidth:!0},"Save"))}function es({isDisabled:e,onDelete:t,ctaEnabled:n}){return a.createElement(O.$,null,n&&a.createElement(r.zxk,{icon:a.createElement(er.z,null),variant:"danger",isDisabled:e,onClick:t,hasFullWidth:!0},"Delete link"),a.createElement(r.zxk,{type:"submit",form:"cta-form",variant:"primary",isDisabled:e,hasFullWidth:!0},"Save"))}function ec({onUrlChange:e,onTextChange:t,onLocationChange:n,onBackgroundColorChange:i,onColorChange:o,onButtonCornerStyleChange:l,onOnlyShowAtEndOfVideoChange:s,goBackToEditPage:d,videoId:m,currentValues:u,pageTitle:g,showDefaultCta:p,ctaEnabled:v,setIsOnDefaultTab:f,onSave:h,onDelete:E}){let _=(0,D.cI)({mode:"onBlur",values:u}),y=_.formState.isSubmitting||!_.formState.isValid;return a.createElement(W.O,{title:g,settingsIsInEditTab:!1,footer:p?a.createElement(el,{goToDefaultPage:()=>{I.track(c.bEX,{id:m}),f(!0)},isDisabled:y}):a.createElement(es,{isDisabled:y,onDelete:E,ctaEnabled:v}),goBackToEditPage:d},a.createElement(a.Fragment,null,a.createElement(en,{videoId:m,onUrlChange:e,onTextChange:t,onLocationChange:n,onBackgroundColorChange:i,onColorChange:o,onButtonCornerStyleChange:l,onOnlyShowAtEndOfVideoChange:s,onSubmit:h,formProps:_}),p&&v&&a.createElement("div",{style:{display:"flex",width:"100%",justifyContent:"center",marginTop:"var(--lns-space-large)"}},a.createElement(r.zxk,{icon:a.createElement(er.z,null),variant:"danger",isDisabled:y,onClick:E},"Delete link"))))}let ed={ctaEnabled:!1,ctaText:"",ctaUrl:"",ctaMods:null},em=({showDefaultCta:e,isOnDefaultTab:t,goBackToEditPage:n,pageTitle:r,setIsOnDefaultTab:l})=>{let{password:f}=(0,g.u)(),{ctaMods:D,ctaUrl:R,ctaText:V,ctaIsAuto:W,ctaApprovedAt:O}=(0,i.v9)(x.c3),F=(0,i.v9)(x.tV),B=(0,i.v9)(x.r7),[z]=(0,a.useState)(W?R:""),[$]=(0,a.useState)(W?(0,v.V)(R):""),[M]=(0,a.useState)({ctaText:V,ctaUrl:R,ctaMods:D}),U=(0,i.I0)(),{showErrorBar:Z}=(0,u.gV)(),{setShowConfirmationToast:j}=(0,m.x)(),{video:{id:H,videoProperties:{playableDuration:G}}}=(0,p.dPl)(),Y=(0,p.nn3)(H),[q,ee]=(0,a.useState)();(0,a.useEffect)(()=>{Y&&Y?.currentTime!==void 0&&void 0===q&&ee(Y.currentTime)},[q,Y]),(0,a.useEffect)(()=>{D||U((0,S.lh)({background_color:(0,A.bM)(d.w0)||J,color:(0,A.bM)(d.aE)||X,border_radius:(0,N.wK)(D),location:(0,A.bM)(d.x1)||N.WB.location,only_show_at_end_of_video:(0,A.bM)(d.rW)||N.WB.only_show_at_end_of_video}))},[D,U]);let et={url:R||"",text:V||"",location:D?.location||(0,A.bM)(d.x1)||N.WB.location,background_color:D?.background_color||(0,A.bM)(d.w0)||J,color:D?.color||(0,A.bM)(d.aE)||X,button_corner_style:Q((0,N.wK)(D)),only_show_at_end_of_video:D?.only_show_at_end_of_video||(0,A.bM)(d.rW)||N.WB.only_show_at_end_of_video},[en]=function(e){let t={...L,...e};return h.D(P,t)}({variables:{videoId:H},onCompleted:e=>{e?.approveAutoCta?.__typename!=="ApproveAutoCtaPayload"&&y.error(e?.approveAutoCta?.message??"Couldn't approve auto cta",{message:"Unable to approve auto cta"},{feature:w.L0.CtaLinks})},onError:e=>{y.error(e,{message:"Unable to approve auto cta"},{feature:w.L0.CtaLinks})}}),ea=(0,a.useCallback)(({ctaEnabled:e,ctaText:t,ctaUrl:n,ctaMods:a})=>{U((0,S.lo)(e)),U((0,S.op)(t)),U((0,S.R_)(n)),U((0,S.lh)(a))},[U]),ei=(0,a.useCallback)(()=>{ea({ctaEnabled:F,ctaText:M.ctaText,ctaUrl:M.ctaUrl,ctaMods:M.ctaMods}),U((0,o.bl)()),n()},[F,U,n,M.ctaMods,M.ctaText,M.ctaUrl,ea]),[er]=function(e){let t={...E,...e};return h.D(_,t)}({onError:()=>{Z({message:"Oops! Error updating video cta",severity:s.W9.ERROR})},onCompleted:e=>{let t=e?.updateVideoCta;t&&"UpdateVideoCtaPayload"===t.__typename||Z({message:t?.message,severity:s.W9.ERROR})}}),el=(0,a.useCallback)(e=>{let t=R!==M.ctaUrl,a=W?V!==$:V!==M.ctaText,i=W;W&&(t||a)?((0,b.v3)(`${k.Km}.modified`,{urlChanged:t,textChanged:a}),U((0,S.jQ)(!1)),i=!1):W&&((0,b.v3)(`${k.Km}.approved`),en()),U((0,S.lo)(!0)),er({variables:{videoId:H,cta:{enabled:!0,text:V,url:R,mods:D,approved_at:O,is_auto:i},password:f}}),Y&&void 0!==q&&(Y.currentTime=q),U((0,o.bl)()),e&&I.track(c.fQ4,{ctaMods:D,suggested_link:z,suggested_title:$,user_entered_link:t?R:null,user_entered_title:a?V:null});let r=C.wG.test(R)?"Calendly link saved!":"Link saved";j(r),U((0,T.zn)(B)),n()},[en,O,W,D,V,R,U,n,q,Y,M.ctaText,M.ctaUrl,j,z,$,B,H,er,f]),es=(0,a.useCallback)(()=>{ea(ed),er({variables:{videoId:H,cta:{enabled:ed.ctaEnabled,text:ed.ctaText,url:ed.ctaUrl,mods:ed.ctaMods},password:f}}),Y&&void 0!==q&&(Y.currentTime=q),U((0,o.bl)()),j("Call-to-action deleted"),n(),U((0,T.zn)(B))},[U,n,q,Y,ea,j,er,B,H,f]),em=(0,a.useCallback)(e=>{U((0,S.R_)(e))},[U]),eu=(0,a.useCallback)(e=>{U((0,S.op)(e))},[U]),eg=(0,a.useCallback)(e=>{U((0,S.lh)({...D,location:e})),(0,A.Ly)(d.x1,e)},[D,U]),ep=(0,a.useCallback)(e=>{U((0,S.lh)({...D,background_color:e})),(0,A.Ly)(d.w0,e)},[D,U]),ev=(0,a.useCallback)(e=>{U((0,S.lh)({...D,color:e})),(0,A.Ly)(d.aE,e)},[D,U]),ef=(0,a.useCallback)(e=>{let t=K[e].value;U((0,S.lh)({...D,border_radius:t})),(0,A.Ly)(d.s8,t)},[D,U]),eh=(0,a.useCallback)(e=>{U((0,S.lh)({...D,only_show_at_end_of_video:e})),(0,A.Ly)(d.rW,e),Y&&(e&&G?Y.currentTime=G:void 0!==q&&(Y.currentTime=q))},[D,U,q,G,Y]);return e&&t?a.createElement(eo,{goBackToEditPage:ei,onSaveForVideo:()=>el(!1),onUrlChange:em,onTextChange:eu,onLocationChange:eg,onBackgroundColorChange:ep,onColorChange:ev,onButtonCornerStyleChange:ef,onOnlyShowAtEndOfVideoChange:eh,videoId:H,currentValues:et}):a.createElement(ec,{goBackToEditPage:ei,onSave:()=>el(!0),onUrlChange:em,onTextChange:eu,onLocationChange:eg,onBackgroundColorChange:ep,onColorChange:ev,onButtonCornerStyleChange:ef,onOnlyShowAtEndOfVideoChange:eh,videoId:H,currentValues:et,pageTitle:r,ctaEnabled:F,setIsOnDefaultTab:l,onDelete:es,showDefaultCta:e})};var eu=n(40754),eg=n(62852),ep=n(3749),ev=n(38760),ef=n.n(ev),eh=n(73845),eE=n(44314),e_=n(3820),ey=n(93563),eb=n(59727),ek=n(63878),ew=n(17877);let eC=({goBackToEditPage:e,pageTitle:t})=>{let n=(0,i.I0)(),{showErrorBar:l}=(0,u.gV)(),{video:{thumbnails:c}}=(0,p.dPl)(),d=(0,i.v9)(ey.CX),m=(0,i.v9)(ey.wp),g=(0,i.v9)(ey.DD),{removeVideoThumbnail:v}=(0,ek.r)(),f=()=>{v(),n((0,o.c_)(null))},h=(0,a.useCallback)(e=>{let t=new FileReader;t.onload=e=>{let t=e?.target?.result,a=new Image;a.onload=()=>{n((0,o.c_)({url:t,dims:{width:a.width,height:a.height}}))},a.src=t},t.readAsDataURL(e)},[n]),E=e=>{e&&h(e)},_=e=>{let{files:t}=e.target;if(t&&t.length){let e=t[0];E(e)}e.target.value=""},y=e=>{e.stopPropagation()},b=()=>{if(d){n((0,o.lZ)());return}document.querySelector("#upload-thumbnail-file")?.click()};return(0,a.useEffect)(()=>(ef().bind(eu.IP,()=>{n((0,o.c_)(null)),n((0,o.m)())},eg.R),()=>{ef().unbind(eu.IP,eg.R)}),[n]),(0,a.useEffect)(()=>{let e=(c||{})[e_.it];if(!e)return;let t=(0,eh.Qo)(e);t&&(0,eE.Z)(t).then(e=>{if(!e.ok)throw Error("Failed to fetch current thumbnail");return e.blob()}).then(e=>{h(e)}).catch(()=>{l({message:"Oops! failed to fetch current thumbnail, please delete current thumbnail to upload new image",severity:s.W9.ERROR})})},[h,l,c]),(0,a.useEffect)(()=>{g||e()},[g,e]),a.createElement(W.O,{footer:a.createElement(()=>a.createElement(O.$,null,d&&a.createElement(r.zxk,{variant:"danger",icon:a.createElement(er.z,null),onClick:f,hasFullWidth:!0},"Delete"),a.createElement(r.zxk,{variant:"primary",isDisabled:m,onClick:b,hasFullWidth:!0},d?"Save":"Browse"),a.createElement("input",{type:"file",className:"upload-thumbnail-input",id:"upload-thumbnail-file",onClick:y,onChange:_,accept:"image/jpeg,image/pjpeg,image/png"})),null),title:t,goBackToEditPage:()=>{n((0,o.c_)(null)),n((0,o.m)()),e()}},a.createElement("div",{style:{position:"relative",marginTop:"var(--lns-space-small)"}},a.createElement("div",{className:"dropzone-wrapper"},a.createElement(eb.Z,{multiple:!1,onDrop:e=>{let t=e[0];t&&E(t)}})),a.createElement("div",{className:"thumbnail-dropzone-area"},a.createElement("div",{className:"mb:small"},a.createElement(ep.r,{color:"var(--lns-color-orangeDark)",size:6})),a.createElement(r.xvT,null,"Drag and drop to upload"),a.createElement(r.xvT,{size:"body-sm",color:"bodyDimmed"},(0,ew.T)())),d&&a.createElement(r.W20,{paddingY:"medium"},a.createElement(r.ggW,{autoFlow:"row",justifyContent:"center"},a.createElement(r.xvT,{alignment:"center"},"Adjust positioning and zoom"),a.createElement(r.xvT,{alignment:"center",size:"body-sm"},"Delete to use a different thumbnail")))))};var eS=n(34043);let eT=({currentPage:e,goBackToEditPage:t,pageTitle:n,showDefaultCta:i})=>{let[o,r]=a.useState(!1);switch(e){case l.L.Link:return a.createElement(em,{goBackToEditPage:t,isOnDefaultTab:o,pageTitle:n,setIsOnDefaultTab:r,showDefaultCta:i??!1});case l.L.Thumbnail:return a.createElement(eC,{goBackToEditPage:t,pageTitle:n});case l.L.Settings:return a.createElement(eS.Y,{goBackToEditPage:t,pageTitle:n});default:return a.createElement(a.Fragment,null)}},ex=({currentPage:e,onClose:t,pageTitle:n,showDefaultCta:s})=>{let c=(0,i.I0)();return a.createElement(r.ggW,{height:"inherit",justifyContent:"stretch",style:{overflow:"auto"}},a.createElement(eT,{currentPage:e,goBackToEditPage:()=>{e===l.L.Link&&c((0,o.bl)()),t()},pageTitle:n,showDefaultCta:s}))}},63878:function(e,t,n){"use strict";n.d(t,{r:function(){return f}});var a=n(53422),i=n(72197),o=n(65655),r=n(94705),l=n(23555),s=n(28668),c=n(34017);let d={},m=(0,s.Ps)`
    mutation RemoveVideoThumbnail($videoId: ID!, $password: String) {
  removeVideoThumbnail(videoId: $videoId, password: $password) {
    __typename
    ... on RemoveVideoThumbnailPayload {
      video {
        id
        thumbnails {
          default
          default4X3
          defaultPlay
          ogFull
          full
          fullPlay
          defaultGif
          defaultGifPlay
          animatedPreview
        }
        defaultThumbnails {
          default
          static
        }
      }
    }
    ... on InvalidRequestWarning {
      message
    }
    ... on Error {
      message
    }
  }
}
    `;var u=n(73845),g=n(14374),p=n(3820);let v=(e,t)=>{if(t?.removeVideoThumbnail?.__typename!=="RemoveVideoThumbnailPayload"||!t?.removeVideoThumbnail?.video)return null;let n=t?.removeVideoThumbnail?.video;return{thumbnails:{...e.thumbnails,[p.eX]:n.thumbnails.default??void 0,[p.vT]:n.thumbnails.default4X3??void 0,[p.ku]:n.thumbnails.defaultPlay??void 0,[p.it]:n.thumbnails.ogFull??void 0,[p.EK]:n.thumbnails.full??void 0,[p.pw]:n.thumbnails.fullPlay??void 0,[p.sG]:n.thumbnails.defaultGif??void 0,[p.eb]:n.thumbnails.defaultGifPlay??void 0,[p.so]:n.thumbnails.animatedPreview??void 0,previewFullUrl:(0,u.Qo)(n.thumbnails.animatedPreview)??"",defaultFullUrl:(0,u.Qo)(n.defaultThumbnails.default)??"",staticFullUrl:(0,u.Qo)(n.defaultThumbnails.static)??""}}},f=()=>{let{setVideo:e,video:t,video:{id:n}}=(0,l.dPl)(),{showErrorBar:s}=(0,o.gV)(),{setShowConfirmationToast:u}=(0,i.x)(),{password:p}=(0,r.u)(),[f]=function(e){let t={...d,...e};return c.D(m,t)}({variables:{videoId:n,password:p},refetchQueries:["fetchVideoData"],onError:e=>{s({message:"Oops! Failed to remove video thumbnail.",severity:a.W9.ERROR}),g.warning(`Error in removeVideoThumbnail mutation: ${e.message}`,e)},onCompleted:n=>{let i=n?.removeVideoThumbnail;if(!i||i?.__typename!=="RemoveVideoThumbnailPayload"){s({message:i?.message||"Oops! Failed to remove video thumbnail.",severity:a.W9.ERROR});return}let o=v(t,n);o&&e(o),u("Thumbnail deleted")}});return{removeVideoThumbnail:f}}},38778:function(e,t,n){"use strict";n.d(t,{q:function(){return s}});var a=n(67121),i=n(66420),o=n(14728),r=n(68066);let l=function(){return i.createElement(o.W20,{backgroundColor:"blurpleLight",paddingY:.5,paddingX:1,radius:"full",width:"fit-content"},i.createElement(o.ggW,{gap:.5},i.createElement(o.JO$,{icon:i.createElement(o.TRl,{variant:"symbol",maxWidth:2}),color:"blurple"}),i.createElement(o.xvT,{fontWeight:"bold",color:"blurple"},"Limited-time beta")))},s=({isClosable:e=!0,onClose:t,isBeta:n,img:a,altText:s,text:u,title:g})=>i.createElement(o.W20,{className:"relative",radius:"large",borderSide:"all",backgroundColor:"white",width:"300px",shadow:"medium"},e&&i.createElement(c,null,i.createElement(o.hU,{altText:"close",onClick:t,icon:i.createElement(r.G,null),iconColor:"white"})),i.createElement(d,null,i.createElement("img",{src:a,alt:s})),i.createElement(m,null,n?i.createElement(o.W20,{paddingBottom:"small"},i.createElement(l,null)):null,i.createElement(o.W20,{paddingTop:"small"},i.createElement(o.ggW,{gap:"small",autoFlow:"row"},i.createElement(o.xvT,{variant:"title"},g),i.createElement(o.xvT,{variant:"body",color:"bodyDimmed"},u))))),c=a.Z.div`
  position: absolute;
  top: 6px;
  right: 4px;
  z-index: 2; /* Needed to show the close button */
`,d=a.Z.div`
  position: relative;
  z-index: ${1};
  border-radius: var(--lns-radius-large) var(--lns-radius-large) 0 0;
  height: 150px;
  overflow: hidden;
`,m=a.Z.div`
  position: relative;
  padding: var(--lns-space-medium);

  &:after {
    content: '';
    position: absolute;
    z-index: ${0};
    top: -${14}px;
    left: 0;
    right: 0;
    height: calc(100% + ${14}px);
    box-shadow: inset 0px 28px 20px -16px var(--lns-color-primary);
    border-radius: var(--lns-radius-large);
    background: transparent;
  }
`},30565:function(e,t,n){"use strict";n.d(t,{U:function(){return c}});var a=n(38778),i=n(89536),o=n(66420),r=n(6621),l=n(39079),s=n(15313);let c=()=>(0,i.Mr)({flag:r.aDo,activationValues:[r.c7r]})?o.createElement(a.q,{isClosable:!1,isBeta:!1,img:l,altText:"Consolidated Editor introduction",title:"Polish and edit your video",text:"Streamlined editing, trim and stitch clips, and add boxes, text & arrow overlays for extra clarity"}):o.createElement(a.q,{isClosable:!1,isBeta:!1,img:s,altText:"Consolidated Editor introduction",title:"Polish and edit your video",text:"Experience streamlined editing with your one-stop-shop for editing your Loom video."})},95462:function(e,t,n){"use strict";n.d(t,{S:function(){return m}});var a=n(77848),i=n.n(a),o=n(38778),r=n(21844),l=n(66420),s=n(14728),c=n(85578),d=n(46856);let m=({isClosable:e})=>{let t=(0,r.st)();return l.createElement(s.W20,{className:i()({"variables-button_fadeInTooltip_2F4":e})},l.createElement(o.q,{isClosable:e,onClose:e?()=>{t(c.BR.AUDIO_VARIABLES_SHARE_PAGE_FTUX)}:void 0,img:d,altText:"Variables introduction",isBeta:!1,title:"Introducing audio variables",text:"Generate unique video messages for multiple recipients with just one video."}))}},17877:function(e,t,n){"use strict";n.d(t,{T:function(){return r}});let a=[{value:1,ratio:"1:1",dimensions:"1080 ✕ 1080"},{value:1.3333333333333333,ratio:"4:3",dimensions:"1024 ✕ 768"},{value:1.7777777777777777,ratio:"16:9",dimensions:"1920 ✕ 1080"},{value:2,ratio:"18:9",dimensions:"2160 ✕ 1080"},{value:2.3333333333333335,ratio:"21:9",dimensions:"2560 ✕ 1080"}],i=a[2],o=(e,t)=>`Recommend ${e} or ${t} files in .png or .jpg`,r=()=>{let e=document.getElementsByClassName("videoFrame")[0];if(e){let t=e.getBoundingClientRect(),n=function(e){let t=i,n=1/0;for(let i of Object.values(a)){let a=Math.abs(e-i.value);a<n&&(n=a,t=i)}return t}(t.width/t.height);return o(n.dimensions,n.ratio)}return o(i.dimensions,i.ratio)}},49326:function(e,t,n){"use strict";n.d(t,{D3:function(){return l}});var a=n(28668),i=n(84515);let o={},r=(0,a.Ps)`
    query GetIntegrationActiveStatus($integrationType: String!) {
  getIntegrationActive(integrationType: $integrationType) {
    ... on GetIntegrationActivePayload {
      isActive
    }
  }
}
    `;function l(e){let t={...o,...e};return i.a(r,t)}},10376:function(e,t,n){"use strict";n.d(t,{a6:function(){return i},at:function(){return o},ny:function(){return a}});let a=()=>document.getElementById("right-panel-tabs")?.getBoundingClientRect().height||0,i=()=>document.getElementById("comments-tab-header")?.getBoundingClientRect().height||0,o=()=>document.getElementById("right-panel-meetings-banner")?.getBoundingClientRect().height||0},97947:function(e,t,n){"use strict";let a;n.d(t,{VR:function(){return op},qZ:function(){return om},XH:function(){return of},iA:function(){return oi},xm:function(){return oo},of:function(){return ot}});var i=n(22947),o=n(72931),r=n(22562),l=n(77848),s=n.n(l),c=n(26998),d=n(20600),m=n(30709),u=n(23555),g=n(69573),p=n(92375),v=n(26598),f=n(22372),h=n(66420),E=n(89895),_=n(80512),y=n(14728),b=n(36311),k=n(69815),w=n(45206),C={gradientBorder:"activity-tab_gradientBorder_3fI",gradientBackground:"activity-tab_gradientBackground_lc0",viewerWorkflowsContainer:"activity-tab_viewerWorkflowsContainer_KbY"};let S=({expanded:e=!0,onMountCallback:t})=>{let n=(0,E.I0)(),{video:a}=(0,u.dPl)(),i=(0,f.$)(),[o,r]=h.useState(e),l=e=>{i.openViewerWorkflowsModal(e),n((0,_.h7)({modalType:p.ZS,options:{workflowTypeOnOpen:e,triggerSource:v.F.ActivityTab}}))};return(0,h.useEffect)(()=>{t?.()}),h.createElement("div",{className:C.gradientBackground},h.createElement("div",{className:"flex"},h.createElement("div",{className:"mr:auto"},h.createElement(y.ggW,{gap:"2px"},h.createElement(y.xvT,{size:"body-lg"},"Turn this into a document with Loom AI"),h.createElement(y.W20,{position:"relative",top:"-4px",left:"-2px"},h.createElement(y.TRl,{variant:"symbol",maxWidth:1,brand:"ai"})))),h.createElement(y.hU,{altText:`${o?"Collapse":"Expand"} AI tools`,onClick:()=>r(!o),icon:o?h.createElement(b.u,null):h.createElement(k.I,null)})),h.createElement(y.xvT,{color:"bodyDimmed"},`Here are the key takeaways from ${a.owner.displayName}'s video...`),o?h.createElement(h.Fragment,null,h.createElement(y.LZC,{bottom:2}),h.createElement(y.ua7,{isInline:!1,content:"Summarize this Loom in a SOP, step-by-step and more."},h.createElement("div",{className:s()(C.gradientBorder,"p:medium"),onClick:()=>l("document")},h.createElement(y.ggW,{gap:"small"},h.createElement(y.JO$,{icon:h.createElement(w.E,null)}),h.createElement(y.xvT,{fontWeight:"bold",size:"body-md"},"View full document"))))):null)};var T=n(16795),x=n(78783),I=n(90894),A=n(74608),N=n(94705),L=n(76281),P=n(67121);let D=P.Z.div`
  pointer-events: none;
  justify-content: center;
  display: flex;
`,R=P.Z.div`
  position: absolute;
  top: ${e=>e.overlayTop||"50%"};
  height: ${e=>e.unScrollable?"50%":"100%"};
  width: 100%;
  background-color: var(--lns-color-background);
  display: flex;
  justify-content: center;
  pointer-events: auto;
  padding-top: 10px;
  padding-left: 24px;
  padding-right: 24px;
  box-shadow: 30px 0 15px 15px var(--lns-color-background);
`,V=P.Z.div`
  filter: blur(5px);
  position: ${e=>e.unScrollable?"absolute":"relative"};
  overflow: ${e=>e.unScrollable?"hidden":"auto"};
  height: ${e=>e.unScrollable?"50%":""};
  top: ${e=>e.unScrollable?"10":""};
  left: ${e=>e.unScrollable?"5%":""};
`,W=({overlay:e,children:t,overlayTop:n,enabled:a,unScrollable:i})=>a?h.createElement(D,null,h.createElement(V,{unScrollable:i},t),h.createElement(R,{overlayTop:n,unScrollable:i},e)):h.createElement(h.Fragment,null,t);var O=n(31332),F=n(7935);let B=({width:e,empty:t})=>h.createElement(y.LZC,{bottom:2},t?h.createElement(y.W20,{height:1.5,width:e,radius:"medium"}):h.createElement(y.W20,{height:1.5,width:e,backgroundColor:"disabledBackground",style:{borderRadius:"4px"}})),z=()=>h.createElement(y.LZC,{bottom:1},h.createElement(y.ggW,{columns:["auto 1fr"],gap:"small"},h.createElement("div",null,h.createElement(y.W20,{height:3,width:3,backgroundColor:"disabledBackground",radius:"full"}),h.createElement(B,{width:3,empty:!0}),h.createElement(B,{width:3,empty:!0}),h.createElement(B,{width:3,empty:!0})),h.createElement("div",null,h.createElement(y.LZC,{top:2},h.createElement(y.ggW,{gap:"small"},h.createElement(B,{width:10}),h.createElement(B,{width:4}))),h.createElement(B,{width:"90%"}),h.createElement(B,{width:"95%"}),h.createElement(B,{width:"70%"})))),$=()=>{let e=[];for(let t=0;t<3;t++)e.push(h.createElement(z,{key:t}));return h.createElement(h.Fragment,null,e)},M=()=>h.createElement(y.W20,{paddingY:"30vh"},h.createElement(y.xvT,{fontWeight:"bold",alignment:"center",size:"body-lg"},"Comments disabled"),h.createElement(y.LZC,{top:1,bottom:2,left:5,right:5},h.createElement(y.xvT,{fontWeight:"book",alignment:"center",color:"bodyDimmed"},"The creator of this video has turned off comments.")));var U=n(89767),Z=n(58440),j=n(21400),H=n(4718),G=n(59182),Y=n(62989),K=n(74598),q=n(81923),J=n(2191),X=n(58461),Q=n(24614),ee=n(11351),et=n(55117),en=n(10376),ea=n(28668),ei=n(84515);let eo={},er=(0,ea.Ps)`
    query GetUserFollowsVideo($videoId: String!) {
  result: getUserFollowsVideo(videoId: $videoId) {
    ... on UserFollowsStream {
      id
      follow
    }
    ... on GenericError {
      message
    }
    __typename
  }
}
    `;var el=n(57539),es=n(33444),ec=n(23195),ed=n(53422),em=n(65655),eu=n(43451),eg=n(92523),ep=n(61824),ev=n(6180),ef=n(14374),eh=n(91703),eE=n(7681),e_=n(64453),ey=n(2677),eb=n(16479);let ek={Notifications:{follow:"You’ll receive notifications any time someone else starts a new comment thread on this Loom.",unfollow:"Follow for notifications any time someone else starts a new comment thread on this Loom."},Button:{follow:"Unfollow",unfollow:"Follow"},NewReply:{follow:"New reply notifications are on",unfollow:"New reply notifications are off"}},ew=({isOpen:e,onCloseClick:t,onClick:n})=>h.createElement(y.FNi,{duration:"long",isOpen:e,onCloseClick:t},h.createElement(y.ggW,{alignItems:"start",gap:"small"},h.createElement(y.JO$,{icon:h.createElement(eE.b,null)}),h.createElement("div",null,h.createElement(y.xvT,{fontWeight:"bold"},"You are now following this Loom.")," ",h.createElement(y.xvT,{fontWeight:"book",color:"bodyDimmed",isInline:!0},"Don’t want notifications?")," ",h.createElement(y.xvT,{fontWeight:"bold",isInline:!0},h.createElement(y.rUS,{htmlTag:"button",variant:"neutral",onClick:n},"Unfollow."))))),eC=({videoId:e,withNewCommentEntryPoint:t=!1,isFollowingVideo:n})=>{let{showErrorBar:a}=(0,em.gV)(),{password:i}=(0,N.u)(),[o,r]=(0,h.useState)(!1),[l,s]=(0,h.useState)(!1),c={anonymous_user_id:(0,eb.$e)(),video_id:e,device:(0,ev.vV)(),follow_mode:"manual"},[d]=(0,eg.z)({onCompleted:()=>{n&&s(!0)},onError:e=>{ef.warning(e,{message:"Error toggle video follow"}),a({message:`Oops! Error ${n?"following":"unfollowing"} video.`,severity:ed.W9.ERROR})}}),m=()=>{n?ey.track(e_.hN,c):ey.track(e_.lq,c),void 0!==n&&d({variables:{videoId:e,follow:!n,password:i}})},{layerProps:u,triggerProps:g,renderLayer:p}=(0,ep.sJ)({isOpen:l}),v=n?"follow":"unfollow",f=ek.Notifications[v],E=ek.NewReply[v],_=ek.Button[v],b={follow:h.createElement(eh.s,null),unfollow:h.createElement(eE.b,null)}[v];return h.createElement(h.Fragment,null,h.createElement(y.W20,{onMouseEnter:()=>r(!0),onMouseLeave:()=>r(!1),position:"relative",zIndex:2},h.createElement(y.J2e,{isOpen:o,placement:t?"bottomRight":"bottomLeft",content:h.createElement(y.W20,{contentColor:"body",backgroundColor:"overlay",borderSide:"all",radius:"medium",shadow:"medium",padding:"medium",width:42},h.createElement(y.xvT,{fontWeight:"bold"},E),h.createElement(y.LZC,{top:2}),h.createElement(y.xvT,{fontWeight:"book",color:"bodyDimmed"},f))},h.createElement(eu.S,{onClick:m,buttonIcon:b,buttonText:_,isNewStyle:t}))),h.createElement("div",{...g},p(h.createElement("div",{...u,style:{zIndex:"1100"}},h.createElement(ew,{isOpen:l,onClick:m,onCloseClick:()=>s(!1)})))))};var eS=n(44295),eT=n(50994);let ex=({refreshCommentsOnClick:e})=>{let t=(0,h.useRef)(Date.now()),[n,a]=(0,h.useState)(""),[i,r]=(0,h.useState)(!1);(0,h.useEffect)(()=>{if(!i){let e=setTimeout(()=>{r(!0)},6e4);return()=>clearTimeout(e)}},[i]);let l=(0,h.useCallback)(()=>{e(),ey.track(o.cqE),r(!1),t.current=Date.now()},[e]);return h.createElement(h.Fragment,null,i&&h.createElement(y.ua7,{content:`Last updated ${n}`},h.createElement(eu.S,{onClick:l,buttonIcon:h.createElement(eT.z,null),buttonText:"Refresh",onMouseEnter:()=>a((0,eS.S4)(t.current)),isNewStyle:!0})))};var eI=n(803),eA=n(92551),eN=n(3603),eL=n(7910),eP=n(96367),eD=n(63240),eR=n(19267),eV=n(61435);let eW=({children:e,isCollapsed:t})=>h.createElement("div",{style:t?{height:0,overflow:"hidden"}:{height:"auto",overflow:"unset"}},h.createElement("div",null,e));var eO=n(31298),eF=n(58663),eB=n(44740);let ez=({numOfTasks:e,titleElem:t,isCollapsed:n,setIsCollapsed:a,setIsAddingNewTask:i,suggested:o,taskInputRef:r})=>{let{video:{id:l,currentUserCanEdit:s}}=(0,u.dPl)(),c=s&&!o;return h.createElement(y.ggW,{justifyContent:"space-between"},h.createElement(y.ggW,{gap:"xsmall"},o&&h.createElement(y.TRl,{variant:"symbol",maxWidth:2,brand:"ai",customId:"taskHeader"}),t,o&&h.createElement(y.ua7,{content:"Suggestions are only visible to you. Accept suggestions to publish them to your viewers.",placement:"bottomCenter",maxWidth:66},h.createElement(y.JO$,{icon:h.createElement(eO.M,null),size:"18px",color:"bodyDimmed",altText:"More info on suggested tasks"}))),h.createElement(y.ggW,null,c?h.createElement(y.Avr,{size:"small",icon:h.createElement(eF.Y,null),onClick:()=>{i?.(!0),r?.current?.focus()}},"Add task"):null,e>0?h.createElement(y.hU,{icon:n?h.createElement(b.u,null):h.createElement(k.I,null),altText:`${n?"expand":"collapse"} ${o?"suggested":"approved"} task list`,onClick:()=>{ey.track(n?eB._r:eB.WC,{video_id:l}),a(!n)}}):null))};var e$=n(18541),eM=n(34017);let eU={},eZ=(0,ea.Ps)`
    mutation DeleteVideoTask($id: ID!) {
  deleteVideoTask(id: $id) {
    __typename
    ... on DeleteVideoTaskPayload {
      success
    }
    ... on InvalidRequestWarning {
      message
    }
    ... on UserNotAuthorizedError {
      message
    }
    ... on GenericError {
      message
    }
  }
}
    `,ej="Failed to delete task, please try again or refresh.",eH=(e,t)=>(function(e){let t={...eU,...e};return eM.D(eZ,t)})({variables:{id:e.id},onError:n=>{ef.error(n,{taskId:e.id},{feature:X.L0.VideoTasks}),t(ej)},onCompleted:n=>{if(n?.deleteVideoTask?.__typename!=="DeleteVideoTaskPayload"){ef.error(`Failed to delete task in onCompleted: ${n?.deleteVideoTask?.message}`,{taskId:e.id},{feature:X.L0.VideoTasks}),t(ej);return}},update:(t,{data:n})=>{if(n?.deleteVideoTask?.__typename==="DeleteVideoTaskPayload"&&n.deleteVideoTask.success){let n=t.identify({id:e.id,__typename:"VideoTask"});t.evict({id:n}),t.gc()}}});var eG=n(12932),eY=n(96480),eK=n(9905),eq=n(16741),eJ=n(92138);let eX=({isSuggested:e})=>e?h.createElement(y.JO$,{icon:h.createElement(eJ.l,null),color:"grey3",size:3}):h.createElement(y.JO$,{icon:h.createElement(eq.y,null),color:"primary",size:3,className:"task-check-icon"});var eQ={taskContainer:"components_taskContainer_2KQ",timestampWrapper:"components_timestampWrapper_2tN"},e0=n(26083),e1=n(61854);let e2={},e3=(0,ea.Ps)`
    mutation ApproveVideoTask($id: ID!, $content: String, $timestamp: Int) {
  approveVideoTask(id: $id, content: $content, timestamp: $timestamp) {
    __typename
    ... on ApproveVideoTaskPayload {
      task {
        ...VideoTaskFragment
      }
    }
    ... on InvalidRequestWarning {
      message
    }
    ... on UserNotAuthorizedError {
      message
    }
    ... on GenericError {
      message
    }
  }
}
    ${e1.Y}`,e5="Failed to accept task, please try again or refresh.",e4=(e,t)=>(function(e){let t={...e2,...e};return eM.D(e3,t)})({variables:{id:e.id,content:e.content||null,timestamp:e.time_stamp||null},onError:n=>{ef.error(n,{taskId:e.id},{feature:X.L0.VideoTasks}),t?.(e5)},onCompleted:n=>{if(n?.approveVideoTask?.__typename!=="ApproveVideoTaskPayload"){ef.error(`Failed to approve task in onCompleted: ${n?.approveVideoTask?.message}`,{taskId:e.id},{feature:X.L0.VideoTasks}),t?.(e5);return}}});var e6=n(89326),e7=n.n(e6),e8=n(79513);let e9="Failed to respond to task, please try again or refresh.",te=(e,t)=>(0,e8.m)({onError:n=>{ef.error(n,{taskId:e.id},{feature:X.L0.VideoTasks}),t(e9)},onCompleted:n=>{if(n?.respondToVideoTask?.__typename!=="RespondToVideoTaskPayload"){ef.error(`Failed to respond to task in onCompleted: ${n?.respondToVideoTask?.message}`,{taskId:e.id},{feature:X.L0.VideoTasks}),t(e9);return}},update:(t,{data:n})=>{if(n?.respondToVideoTask?.__typename==="RespondToVideoTaskPayload"&&n.respondToVideoTask.task){let a=t.identify({id:e.id,__typename:"VideoTask"}),i=t.readFragment({id:a,fragment:e1.Y,fragmentName:"VideoTaskFragment"}),o=e7()(i);o&&(o={...o,responses:n.respondToVideoTask.task.responses},t.writeFragment({id:a,fragment:e1.Y,fragmentName:"VideoTaskFragment",data:{...o}}))}}});var tt={gotItChecked:"components_gotItChecked_NFM"};let tn="Got it",ta=({task:e,setErrorMessage:t})=>{let{password:n}=(0,N.u)(),a=(0,c.useCurrentUserSelector)(e=>e.id,void 0),i=!!e.responses?.find(e=>e?.user?.id===String(a)),[o,r]=(0,h.useState)(i),[l,{loading:s}]=te(e,t),d=()=>{let t=!o;l({variables:{id:e.id,responded:t,password:n}}),r(t),ey.track(eB.MH,{video_id:e.video_id,task_id:e.id,location:"share page",status:t?"acknowledged":"un-acknowledged",source:e.source})};return h.createElement(y.W20,{marginLeft:"calc(-1 * var(--lns-space-xsmall))"},h.createElement(y.Avr,{className:o?tt.gotItChecked:void 0,size:"small",onClick:()=>d(),disabled:s},h.createElement(y.ggW,{gap:"xsmall"},h.createElement("div",null,tn),h.createElement("span",{role:"img","aria-labelledby":tn},"\uD83D\uDC4D"))))},ti=({task:e,isSuggested:t,setErrorMessage:n})=>{let{video:{currentUserCanEdit:a}}=(0,u.dPl)(),i=e.responses,[o,{loading:r}]=e4(e,n),[l,{loading:s}]=eH(e,n),c=!!i?.length,d=[];return c&&(d=i.map(e=>{let t=e.user;return{thumb:t?.avatars?.[0]?.thumb,name:t?.display_name}})),t?h.createElement(y.LZC,{top:"xsmall"},h.createElement(y.ggW,{gap:"small"},h.createElement(y.zxk,{size:"small",onClick:()=>{o(),ey.track(eB.vT,{video_id:e.video_id,task_id:e.id,source:e.source})},disabled:r},"Accept"),h.createElement(y.Avr,{size:"small",onClick:()=>{l(),ey.track(eB.WG,{video_id:e.video_id,task_id:e.id,target:"suggested task",source:e.source})},disabled:s},"Dismiss"))):h.createElement(y.ggW,{gap:"small"},a?c?h.createElement(y.xvT,{size:"body-sm",color:"bodyDimmed"},tn):null:h.createElement(ta,{task:e,setErrorMessage:n}),c?h.createElement(e0.O,{avatars:d,size:2,dataStyleId:"task-responses"}):null)};var to=n(17338);let tr={},tl=(0,ea.Ps)`
    mutation CreateVideoTask($videoId: ID!, $content: String!, $timestamp: Int!) {
  createVideoTask(videoId: $videoId, content: $content, timestamp: $timestamp) {
    __typename
    ... on CreateVideoTaskPayload {
      task {
        ...VideoTaskFragment
      }
    }
    ... on InvalidRequestWarning {
      message
    }
    ... on UserNotAuthorizedError {
      message
    }
    ... on GenericError {
      message
    }
  }
}
    ${e1.Y}`,ts="Failed to create task, please try again or refresh.",tc=({videoId:e,content:t,timestamp:n,setErrorMessage:a,password:i})=>(function(e){let t={...tr,...e};return eM.D(tl,t)})({variables:{videoId:e,content:t,timestamp:n},onError:t=>{ef.error(t,{videoId:e},{feature:X.L0.VideoTasks}),a?.(ts)},onCompleted:t=>{if(t?.createVideoTask?.__typename!=="CreateVideoTaskPayload"){ef.error(`Failed to create task in onCompleted: ${t?.createVideoTask?.message}`,{videoId:e},{feature:X.L0.VideoTasks}),a?.(ts);return}let n=t.createVideoTask.task;ey.track(eB.oj,{video_id:n?.video_id,task_id:n?.id})},update:(t,{data:n})=>{if(n?.createVideoTask?.__typename==="CreateVideoTaskPayload"&&n.createVideoTask.task){let a=t.readQuery({query:ec.w5,variables:{videoId:e,password:i}}),o=e7()(a);o?.getVideoTasks?.__typename==="GetVideoTasksPayload"&&o.getVideoTasks.tasks&&(o.getVideoTasks.tasks=[...o.getVideoTasks.tasks,n.createVideoTask.task],t.writeQuery({query:ec.w5,data:o,variables:{videoId:e,password:i}}))}}}),td={},tm=(0,ea.Ps)`
    mutation UpdateVideoTask($id: ID!, $content: String, $timestamp: Int) {
  updateVideoTask(id: $id, content: $content, timestamp: $timestamp) {
    __typename
    ... on UpdateVideoTaskPayload {
      task {
        ...VideoTaskFragment
      }
    }
    ... on InvalidRequestWarning {
      message
    }
    ... on UserNotAuthorizedError {
      message
    }
    ... on GenericError {
      message
    }
  }
}
    ${e1.Y}`,tu="Failed to update task, please try again or refresh.",tg=(e,t)=>(function(e){let t={...td,...e};return eM.D(tm,t)})({variables:{id:e.id,content:e.content||null,timestamp:e.time_stamp||null},onError:n=>{ef.error(n,{taskId:e.id},{feature:X.L0.VideoTasks}),t?.(tu)},onCompleted:n=>{if(n?.updateVideoTask?.__typename!=="UpdateVideoTaskPayload"){ef.error(`Failed to update task in onCompleted: ${n?.updateVideoTask?.message}`,{taskId:e.id},{feature:X.L0.VideoTasks}),t?.(tu);return}}}),{secondsToVideoTS:tp}=eY,tv=({onClose:e,videoId:t,task:n={id:"",content:"",time_stamp:0,video_id:t},isSuggested:a=!1,isNew:i=!1,taskInputRef:o,setErrorMessage:r})=>{let[l,c]=(0,h.useState)(n.content||""),[d,m]=(0,h.useState)(!1),{currentTime:g}=(0,u.YYI)(t??""),p=Math.round(g),v=tp(p),f=""!==l.trim(),[E,{loading:_}]=e4({...n,content:l.trim(),time_stamp:p},r),{password:b}=(0,N.u)(),[k,{loading:w}]=tc({videoId:n.video_id,content:l.trim(),timestamp:p,setErrorMessage:r,password:b}),[C,{loading:S}]=tg({...n,content:l.trim(),time_stamp:p},r),T=()=>{f&&(c(l.trim()),i?k():a?(E(),ey.track(eB.yK,{video_id:n.video_id,task_id:n.id,source:n.source}),ey.track(eB.vT,{video_id:n.video_id,task_id:n.id,source:n.source})):(C(),ey.track(eB.yK,{video_id:n.video_id,task_id:n.id,source:n.source})),e())};return h.useEffect(()=>{o?.current?.focus({preventScroll:!0})},[]),h.createElement("div",{className:s()("components_editTaskArea_3dp",{components_isFocused_12X:d,components_isNewEntryPoint_3YS:i}),onBlur:t=>{t.currentTarget.contains(t.relatedTarget)||l||e(),m(!1),t?.relatedTarget?.tagName==="BUTTON"&&t.relatedTarget.click()}},h.createElement(y.ggW,{columns:["auto","1fr"],alignItems:"start",justifyContent:"start"},h.createElement(y.W20,{className:"pt:small"},h.createElement(eX,{isSuggested:a})),h.createElement(y.ggW,{autoFlow:"row",gap:"xsmall",justifyContent:"stretch"},h.createElement(to.B,{textAreaRef:o,comment:l,setComment:c,onKeyDown:t=>{(i||n.content&&l)&&("Enter"===t.key&&!t.shiftKey&&(t.preventDefault(),f&&T()),"Escape"===t.key&&e())},autofocus:!0,inputSize:"small",placeholder:"",showCustomPlaceHolder:!0,onFocus:e=>{let t=e.target;if(!t)return;let n=t.value.length;t.setSelectionRange(n,n),m(!0)},dataTestId:"auto-tasks-input"}),h.createElement(y.ggW,{gap:"small",justifyContent:"end"},h.createElement(y.Avr,{size:"small",onClick:e},"Cancel"),h.createElement(y.zxk,{variant:"primary",size:"small",onClick:T,isDisabled:_||w||S||!f},"Confirm task",null!=v?` at ${v}`:"")))))};var tf=n(2075),th=n(11552),tE=n(89849),t_=n(30016),ty=n(43781);let tb=({isCopied:e,onClick:t})=>h.createElement(y.ua7,{content:e?"Link copied!":"Copy link",placement:"topCenter"},h.createElement(y.hU,{altText:"Copy link",icon:h.createElement(th.w,null),size:"small",iconColor:"bodyDimmed",onClick:t})),tk=({onClick:e,isLoading:t})=>h.createElement(y.ua7,{content:"Delete",tabIndex:-1},h.createElement(y.hU,{altText:"Delete task button",icon:h.createElement(t_.z,null),size:"small",iconColor:"bodyDimmed",onClick:e,isDisabled:t})),tw=({onClick:e})=>h.createElement(y.ua7,{content:"Edit",tabIndex:-1},h.createElement(y.hU,{altText:"Edit task button",icon:h.createElement(tf.b,null),size:"small",iconColor:"bodyDimmed",onClick:e})),tC=({isHovering:e,editButton:t,deleteButton:n,copyLinkButton:a})=>{let i=(0,ty.t)(),o=ev.tq||i;return h.createElement("div",{className:"components_taskIconsOnHover_JBk"},o?h.createElement(y.Ltx,{trigger:h.createElement(y.hU,{altText:"dropdown",icon:h.createElement(tE.s,null),size:"small",iconColor:"bodyDimmed"}),options:[...t.show?[{title:"Edit",icon:h.createElement(tf.b,null),onClick:t.onClick}]:[],...n.show?[{title:"Delete",icon:h.createElement(t_.z,null),onClick:n.onClick}]:[],...a.show?[{title:"Copy Link",icon:h.createElement(th.w,null),onClick:a.onClick}]:[]]}):e?h.createElement(h.Fragment,null,t.show&&h.createElement(tw,{onClick:t.onClick}),n.show&&h.createElement(tk,{onClick:n.onClick,isLoading:n.isLoading}),a.show&&h.createElement(tb,{isCopied:a.isCopied,onClick:a.onClick})):null)},{secondsToVideoTS:tS}=eY,tT=({task:e,isSuggested:t=!1})=>{let n=tS(e.time_stamp),{video:{currentUserCanEdit:a=!1}}=(0,u.dPl)(),i=!t&&a,[o,r]=(0,h.useState)(void 0),{video:{videoProperties:{playableDuration:l}}}=(0,u.dPl)(),s=e.owner?.display_name,[d,m]=(0,h.useState)(!1),[g,p]=(0,h.useState)(!1),v=h.useRef(null),f=(0,u.n_$)(),E=()=>{let t=l&&"number"==typeof e.time_stamp&&e.time_stamp>=0&&e.time_stamp<=Math.floor(l);f&&t&&(f.currentTime=e.time_stamp)},[_,{loading:b}]=eH(e,r),k=(0,eK.rx)(e.video_id).concat("?",eD.mN,"=",e.id);"number"==typeof e.time_stamp&&(k=k.concat("&t=",String(e.time_stamp)));let[w,C]=(0,e$.Z)(k,{successDuration:2e3});return d?h.createElement(tv,{task:e,onClose:()=>m(!1),taskInputRef:v,isSuggested:t,setErrorMessage:r}):h.createElement(y.W20,{id:`sidebar-video-task-${e.id}`,className:eQ.taskContainer,onMouseEnter:()=>p(!0),onMouseLeave:()=>p(!1),padding:t?"small":"",marginX:t?"calc(-1 * var(--lns-space-small))":""},h.createElement(y.mUb,{errorActive:!!o,errorMessage:o},h.createElement(y.ggW,{autoFlow:"column",gap:"small",alignItems:"start"},h.createElement(eX,{isSuggested:t}),h.createElement(y.ggW,{gap:"xsmall",autoFlow:"row"},h.createElement(y.ggW,{gap:"small"},h.createElement("div",{onClick:()=>E(),className:eQ.timestampWrapper},h.createElement(y.xvT,{color:"primary",fontWeight:"bold"},n)),t?null:h.createElement(y.xvT,{size:"body-sm",color:"bodyDimmed"},`${(0,eS.S4)(e.approved_at,{showShorthand:!0})} ${s?`by ${s}`:"by video owner"}`)),h.createElement(tC,{isHovering:g,editButton:{show:a,onClick:()=>{E(),m(!0)}},deleteButton:{show:i,onClick:()=>{_(),ey.track(eB.WG,{video_id:e.video_id,task_id:e.id,target:"approved task",source:e.source})},isLoading:b},copyLinkButton:{show:!t,isCopied:w,onClick:()=>{C()}}}),h.createElement(eG.Q,{comment:e}),h.createElement(c.LoggedInOnly,null,h.createElement(ti,{task:e,isSuggested:t,setErrorMessage:r}))))))},tx=({tasks:e,isSuggested:t=!1})=>{let n=e&&0!==e.length;return h.createElement(h.Fragment,null,n&&e.map((e,n)=>h.createElement(tT,{key:`sidebar-video-task-${n}`,task:e,isSuggested:t})))},tI=e=>e.length>0,tA=({approvedTasks:e,suggestedTasks:t})=>{let{video:{currentUserCanEdit:n=!1}}=(0,u.dPl)();return t?n&&tI(t):!!e&&(n||tI(e))};var tN={taskLoader:"tasks_taskLoader_Hik",suggestedTasksContainer:"tasks_suggestedTasksContainer_1As"};let tL=(e,t,n)=>e?h.createElement(y.xvT,null,`${n} Suggested task${1!==n?"s":""} for viewers`):n?h.createElement(y.xvT,{size:"body-lg"},`Review task${1!==n?"s":""}`):h.createElement(y.xvT,{size:"body-lg"},`${t} Task${1!==t?"s":""}`),tP=({videoId:e,setIsAddingNewTask:t,taskInputRef:n})=>{let{password:a}=(0,N.u)(),o=(0,u.nn3)(e),{featureLoadedRef:r}=(0,J.kX)(),l=(0,eN.v)({videoId:e}),s=(0,c.useCurrentUserSelector)(e=>e.aiAccess,null),d=(0,eA.x)(),m=!!s?.autoTasks,g=(0,c.useCurrentUserSelector)(e=>e.videoSettings?.auto_tasks!==!1,!1),p=(0,E.v9)(eV.oK),v=oi(),f=oo(),_=(0,E.v9)(eV.RN),[b,k]=(0,h.useState)(!1),[w,C]=(0,h.useState)(!1),[S,T]=(0,h.useState)(!1),x=(0,eR.ag)(`(max-width: ${i.U2}px)`),I=_===eI.YS.Activity,A=!!(d&&g&&m)&&l&&!S&&(!p||p===eP.YJ.PENDING),L=l&&p===eP.YJ.AUTO,{data:P,loading:D,error:R}=(0,ec.ow)({variables:{videoId:e,password:a},skip:A&&!L}),{approvedTasks:V,suggestedTasks:W}=(0,eS.yH)(P),O=tA({suggestedTasks:W}),F=tA({approvedTasks:V}),B=O||F,z=(0,h.useRef)();(0,h.useEffect)(()=>(A&&!z.current&&(z.current=setTimeout(()=>{T(!0)},4e4)),!A&&z.current&&(clearTimeout(z.current),z.current=void 0),()=>{clearTimeout(z.current)}),[T,A]);let $=(0,h.useCallback)(()=>{let e;if(x){let t=document.getElementsByClassName("rightPanelWrapper")[0],n=document.querySelector("header");if(!t||!n)return;e=t.offsetTop-n.offsetHeight-8}else{let t=document.getElementById("activity-input-header"),n=document.getElementById("right-panel-tabs");if(!t||!n)return;e=t.offsetHeight+n.offsetHeight+8}return e||0},[x]),M=(0,h.useCallback)(e=>{let t=document.getElementById(`sidebar-video-task-${e}`),n=document.getElementsByClassName("activitySidebarContainer")[0];if(!t||!n)return;let a=$();x?window.scrollTo({top:t.offsetTop+a,behavior:"smooth"}):n.scrollTo({top:t.offsetTop-a,behavior:"smooth"});let i=t.style.backgroundColor;t.style.transition="",t.style.backgroundColor="var(--lns-color-highlight)",setTimeout(()=>{t.style.transition="background-color 200ms ease-out",t.style.backgroundColor=i||""},1300)},[x,$]);return(0,h.useEffect)(()=>{if(!o)return;let e=e=>{let t=0;v||(t=500),(w||!I)&&(t+=350),f(),C(!1),setTimeout(()=>M(e),t)};return o?.on([u.zwB.taskClicked],e),()=>{o?.off([u.zwB.taskClicked],e)}},[w,v,I,f,o,M]),(0,h.useEffect)(()=>{let e=(0,eL.jS)(eD.mN),t=()=>{(0,eL.$5)(window)(eD.mN),(0,eL.$5)(window)("t")};e&&V&&setTimeout(()=>{M(e),t()},750)},[V,M]),A?h.createElement("div",{ref:r},h.createElement(y.LZC,{bottom:2.5},h.createElement(y.W20,{paddingBottom:"medium",borderSide:"bottom"},h.createElement(y.W20,{borderSide:"all",radius:"xlarge",className:tN.taskLoader},h.createElement(y.m9_,{animation:"spin 2s infinite steps(43) alternate",brand:"ai"}),h.createElement(y.xvT,{color:"bodyDimmed"},"Loading task suggestions…"))))):D||R?null:h.createElement("div",{ref:r},h.createElement(y.W20,{borderSide:F?"bottom":void 0,paddingBottom:w?2.5:""},F&&h.createElement(ez,{numOfTasks:V?V.length:0,titleElem:tL(!1,V?.length,W?.length),isCollapsed:w,setIsCollapsed:C,setIsAddingNewTask:t,taskInputRef:n}),h.createElement(eW,{isCollapsed:w},h.createElement(h.Fragment,null,O&&h.createElement(y.W20,{className:tN.suggestedTasksContainer,paddingX:"medium",paddingY:"small",radius:"large",marginTop:"small"},h.createElement(ez,{numOfTasks:W?W.length:0,titleElem:tL(!0,V?.length,W?.length),isCollapsed:b,setIsCollapsed:k,suggested:!0}),h.createElement(eW,{isCollapsed:b},h.createElement(tx,{tasks:W,isSuggested:!0}))),F?h.createElement(y.W20,{paddingBottom:2.5},h.createElement(tx,{tasks:V})):null))),B?h.createElement(y.LZC,{bottom:2.5}):null)},tD=e=>h.createElement(K.$,{feature:X.L0.VideoPackaging,errorType:q.s.DEFAULT,additionalLoggingValues:{version:"tasks"}},h.createElement(tP,{...e})),tR=P.Z.div`
  position: sticky;
  background-color: var(--lns-color-background);

  padding: var(--lns-space-large) var(--lns-space-large) var(--lns-space-medium);
  margin: 0 calc(-1 * var(--lns-space-large));

  transition: box-shadow 0.5s;
  z-index: 1;

  // TODO/NOTE([VIEWX-2200]): Using a relational selector in styled components is not ideal/
  // It assumes a relationship exists which makes it brittle/easy to break.
  // https://www.loom.com/share/eb2ce7e045494b5da476c0339a5b9f81
  .sidebar-scrolled & {
    box-shadow: 0px var(--lns-space-xsmall) var(--lns-space-medium)
      var(--lns-color-backgroundHover);
  }

  ${e=>`top: ${e.top}px;`}
`,tV=({commentsLength:e,handleRefetchCommentsClick:t,shouldShowFollowLoomButton:n,isFollowingVideo:a})=>{let{video:i}=(0,u.dPl)(),{password:o}=(0,N.u)(),{id:r}=i,{data:l,loading:s,error:d}=(0,ec.ow)({variables:{videoId:r,password:o}}),{approvedTasks:m}=(0,eS.yH)(l),g=tA({approvedTasks:m}),[p,v]=(0,h.useState)(!1),{isEnabled:f}=(0,x.Z)(i),E=h.useRef(null),{isExpHighlightLoomValue:_}=(0,T.o)(),b=(0,c.useIsCurrentUserLoggedIn)(),k=_&&!b&&(0,u.H2j)(r),w=!f&&!k;return s||d||!g?h.createElement(tR,{id:"comments-tab-header",top:(0,en.ny)()},p?h.createElement(tv,{videoId:r,onClose:()=>v(!1),taskInputRef:E,isNew:!0}):w?h.createElement(es.CommentInput,{isNewCommentEntryPoint:!0,creationMethod:et.AP}):null,h.createElement(y.LZC,{bottom:2.5}),h.createElement(tD,{videoId:r,setIsAddingNewTask:v,taskInputRef:E}),h.createElement(y.Pag,{justifyContent:"space-between"},h.createElement(y.I7m,{height:3},h.createElement(y.xvT,{size:"body-md"},e," Comment",1!==e&&"s")),h.createElement(y.I7m,{height:3},h.createElement(y.ggW,{alignContent:"end",gap:1},h.createElement(ex,{refreshCommentsOnClick:t}),n?h.createElement(eC,{videoId:r,withNewCommentEntryPoint:!0,isFollowingVideo:a}):null)))):h.createElement(h.Fragment,null,h.createElement(tR,{id:"activity-input-header",top:(0,en.ny)()},p?h.createElement(tv,{videoId:r,onClose:()=>v(!1),taskInputRef:E,isNew:!0}):w?h.createElement(es.CommentInput,{isNewCommentEntryPoint:!0,creationMethod:et.AP}):null),h.createElement(tD,{videoId:r,setIsAddingNewTask:v,taskInputRef:E}),h.createElement(y.Pag,{justifyContent:"space-between"},h.createElement(y.I7m,{height:3},h.createElement(y.xvT,{size:"body-lg"},e," Comment",1!==e&&"s")),h.createElement(y.I7m,{height:3},h.createElement(y.ggW,{alignContent:"end",gap:1},h.createElement(ex,{refreshCommentsOnClick:t}),n?h.createElement(eC,{videoId:r,withNewCommentEntryPoint:!0,isFollowingVideo:a}):null))),h.createElement(y.LZC,{bottom:2.5}))},tW=({commentsLength:e,handleRefetchCommentsClick:t})=>{let{video:n}=(0,u.dPl)(),{id:a}=n,i=(0,el.A)({videoId:a}),o=(0,c.useIsCurrentUserLoggedIn)(),r=!i&&o,{data:l,loading:s,error:d}=function(e){let t={...eo,...e};return ei.a(er,t)}({variables:{videoId:a},skip:!r}),m=(0,F.C)(),g=o||m;if(s)return null;let p=l?.result?.__typename==="UserFollowsStream"?l.result.follow??void 0:void 0,v=r&&!d;return h.createElement(h.Fragment,null,g?h.createElement(tV,{commentsLength:e,handleRefetchCommentsClick:t,shouldShowFollowLoomButton:v,isFollowingVideo:p}):h.createElement(y.W20,{paddingTop:ev.tq?void 0:"medium"},v?h.createElement(y.W20,{paddingBottom:ev.tq?void 0:"medium"},h.createElement(y.ggW,{alignContent:"end",gap:"small"},h.createElement(eC,{videoId:a,isFollowingVideo:p}))):null))};var tO=n(522);let tF=({onCommentDisplay:e})=>{let{comments:t,videoMeetingPlatform:n,error:a,loading:i,refetch:o}=(0,H.ZS)(),r=(0,U.mG)(),{video:l,setComments:s}=(0,u.dPl)(),d=(0,u.nn3)(l.modelId),m=(0,c.useIsCurrentUserLoggedIn)(),g=(0,F.C)(),{shouldShowLoomBranding:p}=(0,I.e)({videoId:l.modelId}),{featureLoadedRef:v}=(0,J.kX)(),[f,_]=h.useState([]),b=!m&&f.length>0&&!g&&l?.loomBrandedPlayer&&p,{sharePageSelectedComments:k,setSharePageSelectedComments:w}=(0,Z.j)(),C=(0,E.v9)(Q.R),S=oi(),T=oo();h.useEffect(()=>{if(t?.length>0&&f?.length>0){let e=f.map(e=>e.id),n=t.filter(t=>!e.includes(t.id)).map(e=>e.id);setTimeout(()=>{w(n)},100)}e(t&&t.length>0)},[t,e]),h.useEffect(()=>{if(t){let e;let n=(0,O.n6)(C);if((0,O.BN)(n)){let a=t.filter((0,O.eg)(n));e=(0,tO.B)([...a,r].filter(Boolean))}else e=(0,tO.B)([...t,r].filter(Boolean));_([...e])}},[C,t,s,r]),h.useEffect(()=>{if(!d)return;let e=e=>{let t=S?0:500;T(),setTimeout(()=>w(e),t)};return d?.on([u.zwB.commentClicked],e),()=>{d?.off([u.zwB.commentClicked],e)}},[d,w,S,T]);let x=()=>{o()};return a&&!i?h.createElement(y.W20,{paddingY:"20vh"},h.createElement(A.B_,{text:"Comments not available",CTAText:"Refresh comments",handleCTAClick:x})):h.createElement("div",{ref:v},h.createElement(tW,{commentsLength:f.length,handleRefetchCommentsClick:x}),i?h.createElement($,null):h.createElement(W,{overlay:h.createElement(ee.i,{commentCount:f.length}),overlayTop:"36%",enabled:b,unScrollable:!0},h.createElement(j.e,{videoMeetingPlatform:n,comments:f,highlightGroup:k,showPlaceholderWhenNoComments:!0,inActivitySidebar:!0})))},tB=e=>h.createElement(K.$,{feature:X.L0.Comments,errorType:q.s.CUSTOM,customErrorBoundary:h.createElement(tz,{...e})},h.createElement(tF,{...e})),tz=e=>{let t=(0,G.k6)(),n=()=>{t.go(0)},{reportError:a}=(0,J.kX)();return h.createElement(A.SV,{feature:X.L0.Comments,name:Y.j8.SharePageCommentsErrorBoundary,onError:e=>a(X.L0.Comments,e),renderError:()=>h.createElement(y.W20,{paddingY:"20vh"},h.createElement(A.B_,{text:"Comments not available",CTAText:"Refresh page",handleCTAClick:n,showWarningIcon:!0}))},h.createElement(tF,{...e}))},t$=({onCommentDisplay:e,isScrolledInSidebar:t})=>{let{video:n}=(0,u.dPl)(),{needsPassword:a,password:i}=(0,N.u)(),o=h.useRef(null),r=n?.currentUserCanEdit;return a&&!i?null:n.commentsEnabled||r?h.createElement(L.L,{ref:o},h.createElement("section",{className:"commentsWrapper",id:"comments",ref:o},h.createElement(Z.Y,null,h.createElement(tB,{onCommentDisplay:e,isScrolledInSidebar:t})))):h.createElement(M,null)};var tM=n(49003),tU=n(27125),tZ=n(41106),tj=n(82858),tH=n(45717);let tG=()=>{let{highlightValueOfLoomAfterOauthLogin:e}=(0,tU.H)(),{video:{id:t}}=(0,u.dPl)();return h.createElement(y.xMy,null,h.createElement(y.W20,{marginTop:"xlarge",width:"100%"},h.createElement(y.ggW,{autoFlow:"row",gap:"medium"},h.createElement(y.ggW,{autoFlow:"row",gap:"medium",justifyItems:"center"},h.createElement(y.xvT,{size:"heading-sm",fontWeight:"bold"},"Sign up to record for free"),h.createElement(tZ.Z,{color:"bodyDimmed"})),h.createElement(y.W20,{marginTop:"small"},h.createElement("button",{onClick:e=>{e.preventDefault(),ey.track(o.NQQ,{videoId:t})},className:s()("signup-cta-right-panel_buttonInvisible_xQk","p:0 m:0 width:full")},h.createElement(tj.V,{afterOauthHandler:e,source:"marketing-loom"})),h.createElement(y.LZC,{top:"small"},h.createElement(y.zxk,{icon:h.createElement(tH.a,null),htmlTag:"a",hasFullWidth:!0,size:"large",onClick:e=>{e.preventDefault(),ey.track(o.iwp,{videoId:t}),window.open(tM.C1,"_blank","noopener,noreferrer")},role:"button"},"Sign up with email"))))))},tY=()=>{let[e,t]=(0,h.useState)(!1),{video:n}=(0,u.dPl)(),{id:a}=n,{isLoggedUser:i}=(0,u.SEh)(),{comments:o,loading:r}=(0,H.ZS)(),{isExpHighlightLoomValue:l}=(0,T.o)(),{isEnabled:s,isLoading:c}=(0,x.Z)(n),[d,m]=(0,h.useState)(0),g=(0,h.useRef)(null),p=l&&!i&&(0,u.H2j)(a),v=(0,h.useMemo)(()=>h.createElement(t$,{onCommentDisplay:t}),[e]);return r||c?h.createElement(y.LZC,{left:3,right:3},h.createElement($,null)):h.createElement(h.Fragment,null,s?h.createElement(h.Fragment,null,h.createElement(y.LZC,{left:3,right:3},h.createElement("div",null,v),h.createElement(tK,{heightInPx:d})),h.createElement("div",{ref:g,className:C.viewerWorkflowsContainer},h.createElement(S,{onMountCallback:()=>{m(g.current?.clientHeight??0)},expanded:(o?.length??0)<3}))):h.createElement(y.LZC,{left:3,right:3},p?h.createElement(tG,null):h.createElement("div",null,v)))};function tK({heightInPx:e}){return h.createElement("div",{style:{height:`${e}px`}})}var tq=n(35816);let tJ=e=>{let[t,n]=(0,h.useState)(0),a=(0,h.useCallback)(()=>{n(e=>e+1)},[]);return h.createElement(A.SV,{key:t,name:`[${e.tabName}]${Y.j8.SidebarTabErrorBoundary}`,...e,renderError:()=>h.createElement(y.W20,{paddingY:"20vh"},h.createElement(A.B_,{text:`${e.tabName} not available`,CTAText:`Refresh ${e.tabName}`,handleCTAClick:a,showWarningIcon:!0}))})};var tX=n(20076);let tQ=(0,tX.r)(()=>Promise.all([n.e(9856),n.e(1516)]).then(n.bind(n,51516)).then(e=>({default:e.Transcript}))),t0=()=>h.createElement(h.Suspense,{fallback:null},h.createElement(tQ,null));var t1=n(89536),t2=n(60244),t3=n(99739),t5=n(67591),t4=n(56977),t6=n(16089),t7=n.n(t6),t8=n(2965),t9=n(91564),ne=n(16443),nt=n(72197),nn=n(25353),na=n(31084),ni=n(97958),no=n(54086),nr=n(84888),nl=n(63320),ns=n(70978),nc=n.n(ns),nd=n(21440),nm=n(2071),nu=n(3892),ng=n(2962),np=n(1486),nv=n(61074),nf=n(81),nh=n(48554),nE=n(6621),n_=n(80686),ny=n(29256),nb=n(1489),nk=n(46858),nw=n(7273),nC=n(92965),nS=n(42396),nT={editItemButton:"edit-item_editItemButton_fsF",isDisabled:"edit-item_isDisabled_2va",shorterLineHeight:"edit-item_shorterLineHeight_Eg6",popover:"edit-item_popover_2-g"};let nx=({icon:e,title:t,rightOption:n,onClick:a,isDisabled:i,disabledTooltipText:o,popoverContent:r})=>{let[l,c]=(0,ep.XI)({delayEnter:100}),d=l&&!i,{triggerProps:m,layerProps:u,renderLayer:g}=(0,ep.sJ)({isOpen:d,placement:"left-center",triggerOffset:12,auto:!0});return h.createElement(h.Fragment,null,h.createElement(y.ua7,{tabIndex:-1,content:o,isDisabled:!i||!o,placement:"bottomCenter",isInline:!1},h.createElement("span",{...m,...c},h.createElement(y.W20,{className:s()({[nT.editItemButton]:!0,[nT.isDisabled]:i}),onClick:i?void 0:a,padding:"small"},h.createElement(y.ggW,{columns:["auto","1fr","auto"],gap:"medium"},h.createElement(y.JO$,{icon:e}),h.createElement(y.xvT,{fontWeight:"medium"},h.createElement("div",{className:nT.shorterLineHeight},t)),n)))),d?g(h.createElement("div",{...u,className:nT.popover},r)):null)};var nI=n(80795),nA=n(47042);let nN=()=>h.createElement(y.W20,{radius:"large",paddingX:"medium",paddingY:"6px",backgroundColor:"disabledBackground",borderSide:"all"},h.createElement(y.JO$,{icon:h.createElement(nA.R,null),size:2})),nL=({icon:e,title:t,popoverContent:n,upgradeSourceLocation:a})=>{let{onClick:i}=(0,nI.X)(a);return h.createElement(nx,{icon:e,title:t,rightOption:h.createElement(nN,null),onClick:i,popoverContent:n})},nP=()=>h.createElement(y.ggW,{gap:"xsmall"},h.createElement(y.xMy,{alignment:"bottomCenter"},h.createElement(y.xvT,{color:"primary"},"Add")),h.createElement(y.JO$,{icon:h.createElement(nC.n,null)})),nD=({isTrialing:e})=>h.createElement(y._MZ,null,h.createElement(nw.f,{img:nS,imgAlignment:"bottomLeft",imgWidth:"190px",altText:"Link",text:"Add a link within your video",trial:e})),nR=({onClick:e,disabledTooltipText:t,isTrialing:n,hasExistingLink:a,isAutoLinkDetected:i,autoLinkTitle:o,hasScope:r})=>{let l=a?"Edit the link":i?`${o} link mentioned`:"Add a link";return r?h.createElement(nx,{icon:h.createElement(th.w,null),title:l,onClick:e,rightOption:i&&!a?h.createElement(nP,null):h.createElement(y.JO$,{icon:h.createElement(nC.n,null)}),isDisabled:!1,disabledTooltipText:t,popoverContent:h.createElement(nD,{isTrialing:n})}):h.createElement(nL,{icon:h.createElement(th.w,null),title:"Add a link",popoverContent:h.createElement(nD,{isTrialing:n}),upgradeSourceLocation:t9.y.ADD_LINK_LOCKED_BUTTON})};var nV=n(95462),nW=n(24097),nO=n(72357),nF=n(39853),nB=n(27275),nz=n(55647),n$=n(81306),nM=n(85578),nU=n(35369);let nZ=({videoId:e,unavailableTooltipText:t})=>{let[n,a]=(0,h.useState)(!1),[i,r]=(0,nW.Z)(),{hasAccess:l,reason:s}=(0,nB.i)(),{showSeasonalLaunchVariantsFtuxModal:c,hasSeenSeasonalLaunchVariantFtuxOnPageLoad:m}=(0,nz.O)(),u=!c||c&&m.current,{value:g,loading:p}=(0,nO.B)(nM.BR.AUDIO_VARIABLES_SHARE_PAGE_FTUX),v=(0,E.v9)(eV.RN)===eI.YS.Edit,{isCollapsed:f}=(0,d.m)(),_=(0,E.v9)(nU.yX),b=_?_.length:0,k=!f&&v&&l&&r&&!g&&!p&&0===b&&u;return h.createElement(nj,{isOpen:k||!!(l&&n),placement:"leftCenter",rootId:"container",offset:1,content:h.createElement(nV.S,{isClosable:k})},h.createElement("div",{onMouseEnter:()=>{a(!0),l||ey.track(o.orR,{video_id:e,disabled_reason:s})},onMouseLeave:()=>a(!1),ref:i},h.createElement(nx,{icon:h.createElement(n$.j,null),title:"Add an audio variable",onClick:()=>{(0,nF.Qu)(e,"share-page")},rightOption:h.createElement(y.JO$,{icon:h.createElement(nC.n,null)}),isDisabled:!l,disabledTooltipText:s??t})))},nj=(0,P.Z)(y.J2e)`
  width: 100%;
`,nH=()=>{let[e,t]=(0,h.useState)(!1);return h.createElement(nG,{isOpen:e,placement:"leftCenter",rootId:"container",offset:1,content:h.createElement(nV.S,{isClosable:!1})},h.createElement("div",{onMouseEnter:()=>{t(!0)},onMouseLeave:()=>t(!1)},h.createElement(nL,{title:"Add an audio variable",icon:h.createElement(n$.j,null),upgradeSourceLocation:t9.y.VARIABLES})))},nG=(0,P.Z)(y.J2e)`
  width: 100%;
`;var nY=n(22941),nK=n(30328),nq=n(88554),nJ=n(10788),nX=n(90744),nQ=n(44390),n0=n(72924),n1={popoverButton:"auto-applied-popover-button_popoverButton_1-a",isDisabled:"auto-applied-popover-button_isDisabled_171",quickEditIcon:"auto-applied-popover-button_quickEditIcon_TBL",isOpen:"auto-applied-popover-button_isOpen_3u1",chevronIcon:"auto-applied-popover-button_chevronIcon_25T",popoverContent:"auto-applied-popover-button_popoverContent_1_V",aiAppliedMenuButton:"auto-applied-popover-button_aiAppliedMenuButton_1s3",editText:"auto-applied-popover-button_editText_16L",aiAppliedIcon:"auto-applied-popover-button_aiAppliedIcon_1gF",autoAppliedIconAnimation:"auto-applied-popover-button_autoAppliedIconAnimation_3Dp",autoAppliedTextAnimation:"auto-applied-popover-button_autoAppliedTextAnimation_2fQ",text:"auto-applied-popover-button_text_2nl",textOverlay:"auto-applied-popover-button_textOverlay_93a"};let n2=({icon:e,text:t,onEditClick:n})=>h.createElement("button",{className:n1.aiAppliedMenuButton,onClick:n},h.createElement(y.JO$,{icon:e,className:n1.aiAppliedIcon}),t,h.createElement("span",{className:n1.editText},"Edit")),n3=()=>{let e=(0,E.I0)();return h.createElement(y.xvT,{size:"body-sm"},"Manage your Loom AI default settings"," ",h.createElement(y.rUS,{htmlTag:"button",onClick:()=>e((0,n0.oi)(!0))},"here"))},n5=({isAiTitleApplied:e,isAiChaptersApplied:t,isAiSummaryApplied:n,videoId:a,isDisabled:i,tooltipText:r,displayDefaultSettingsCallout:l,hasAiInitiallyGenerated:c})=>{let{focusDescriptionInput:d}=(0,nK.Gq)(),{enterEditMode:m}=(0,nq.K)(),{editChapters:u}=(0,nY.Jp)(),[g,p]=(0,h.useState)(!1),v=(0,h.useRef)(null);return(0,y.t$X)(v,()=>p(!1)),h.createElement(h.Fragment,null,h.createElement("div",{ref:v},h.createElement(y.J2e,{isOpen:g&&!i,offset:1,placement:"bottomRight",content:h.createElement("div",{className:n1.popoverContent},h.createElement(y.W20,{backgroundColor:"background"},h.createElement(y.ggW,{autoFlow:"row",gap:"medium",justifyContent:"stretch"},e&&h.createElement(n2,{icon:h.createElement(ng.K,null),text:"Title added",onEditClick:()=>{p(!1),m(nq.p.AISidebar,a)}}),t&&h.createElement(n2,{icon:h.createElement(nJ._,null),text:"Chapters added",onEditClick:()=>{p(!1),u({analyticsEventName:o.P9z,scrollIntoView:!0})}}),n&&h.createElement(n2,{icon:h.createElement(nX.b,null),text:"Summary added",onEditClick:()=>{p(!1),d(a,"sidebar")}}),l?h.createElement(n3,null):null)))},h.createElement(y.ua7,{tabIndex:-1,content:r,isDisabled:!r,maxWidth:22},h.createElement("button",{className:s()({[n1.popoverButton]:!0,[n1.isOpen]:g,[n1.isDisabled]:i}),onClick:()=>{i||p(!g)}},h.createElement(y.ggW,{gap:"xsmall"},h.createElement("div",{className:s()({[n1.autoAppliedIconAnimation]:c})},h.createElement(y.JO$,{className:n1.quickEditIcon,size:2,icon:h.createElement(nQ.r,null)})),h.createElement("div",{className:s()({[n1.autoAppliedTextAnimation]:c})},c&&h.createElement(y.xvT,{fontWeight:"medium",className:n1.textOverlay},"Auto-applied"),h.createElement(y.xvT,{fontWeight:"medium",className:n1.text},"Auto-applied")),h.createElement(y.JO$,{className:n1.chevronIcon,size:2,icon:h.createElement(b.u,null)})))))))};var n4=n(30565),n6=n(38778),n7=n.p+"img/quick-edit-tooltip-5e9e666ec6f050b0eee0.png";let n8=()=>h.createElement(n6.q,{isClosable:!1,isBeta:!1,img:n7,altText:"Remove silences and filler words introduction",title:"Auto-remove ums, ahs, and awkward silences",text:"Easily enhance your video and remove filler words and silences in one click."});var n9=n.p+"img/auto-context-popover-18cb4e2e8f82fcf0711c.png";let ae=()=>h.createElement(n6.q,{isClosable:!1,isBeta:!1,img:n9,altText:"Auto context introduction",title:"Auto-enhance videos with AI",text:"Auto-titles, summaries, and chapters entice your viewers to click play."});var at=n.p+"img/workflows-popover-f29bb8190e52d4104f7f.png";let an=()=>h.createElement(n6.q,{isClosable:!1,isBeta:!1,img:at,altText:"AI workflows introduction",title:"Complete important workflows fast",text:"Instantly turn your video into a doc, message, or bug report with AI workflows."});var aa=n.p+"img/consolidated-edit-tooltip-with-overlays-and-links-a31c0a10f9129b6d1d4e.png",ai=n(15313);let ao=()=>(0,t1.Mr)({flag:nE.aDo,activationValues:[nE.c7r]})?h.createElement(n6.q,{isClosable:!1,isBeta:!1,img:aa,altText:"Edit tools introduction",title:"Polish and edit your video",text:"Streamlined editing, trim and stitch clips, and add a CTA link, boxes, text & arrow overlays for extra clarity"}):h.createElement(n6.q,{isClosable:!1,isBeta:!1,img:ai,altText:"Edit tools introduction",title:"Polish and edit your video",text:"Streamlined editing, trim and stitch clips, and add a CTA link for extra clarity"});var ar={upgradeLink:"edit-header_upgradeLink_3Ki",headerBackground:"edit-header_headerBackground_2PA",upgradeHeaderButton:"edit-header_upgradeHeaderButton_2Hs"};let al=({children:e})=>h.createElement(y.W20,{height:10,paddingX:"small"},h.createElement(y.xMy,{alignment:"centerLeft"},e)),as=()=>h.createElement(al,null,h.createElement(y.ggW,{columns:["1fr","auto"],width:"100%"},h.createElement(y.ggW,{autoFlow:"row"},h.createElement(y.xvT,{size:"body-lg",fontWeight:"bold"},"Loom AI is generating..."),h.createElement(y.xvT,{size:"body-sm",color:"bodyDimmed"},"This usually takes a few seconds")),h.createElement(y.m9_,{animation:"spin 2s infinite steps(43) alternate",brand:"ai"}))),ac=()=>h.createElement(al,null,h.createElement(y.ggW,{gap:"xsmall"},h.createElement(y.xvT,{size:"body-lg"},"Powered by"),h.createElement(y.xvT,{size:"body-lg",fontWeight:"bold"}," ","Loom AI"),h.createElement(y.xMy,{alignment:"topCenter"},h.createElement(y.TRl,{brand:"ai",maxWidth:1.5,variant:"symbol"})))),ad=()=>{let{onClick:e}=(0,nI.X)(t9.y.AI_SIDEBAR_CTA);return h.createElement(al,null,h.createElement(y.ggW,{autoFlow:"row"},h.createElement(y.ggW,{gap:"xsmall"},h.createElement(y.xvT,{size:"body-lg"},"Powered by"),h.createElement(y.xvT,{size:"body-lg",fontWeight:"bold"}," ","Loom AI"),h.createElement(y.xMy,{alignment:"topCenter"},h.createElement(y.TRl,{brand:"ai",maxWidth:1.5,variant:"symbol"}))),h.createElement(y.xvT,{size:"body-sm",color:"bodyDimmed"},h.createElement("span",{className:ar.upgradeLink,onClick:e},"Upgrade now")," ","to keep access to AI + Editing features")))},am=({children:e})=>{let{onClick:t}=(0,nI.X)(t9.y.AI_SIDEBAR_CTA);return h.createElement(y.W20,{paddingY:"medium"},h.createElement("div",{className:ar.upgradeHeaderButton,role:"button",onClick:t},h.createElement(y.ggW,{gap:"large",justifyContent:"space-between"},h.createElement(y.ggW,{autoFlow:"row",gap:"xsmall"},h.createElement(y.ggW,{gap:"xsmall"},h.createElement(y.xvT,{size:"heading-sm",fontWeight:"bold"},"Get Loom AI"),h.createElement(y.xMy,{alignment:"topCenter"},h.createElement(y.TRl,{brand:"ai",maxWidth:1.5,variant:"symbol"}))),e),h.createElement(y.JO$,{icon:h.createElement(nC.n,null)}))))},au=()=>h.createElement(am,null,h.createElement(y.ggW,{autoFlow:"row"},h.createElement(y.xvT,{size:"body-sm",color:"bodyDimmed"},"Try out Loom AI on your next few videos."),h.createElement(y.xvT,{size:"body-sm",color:"primary"},"Upgrade to keep access"))),ag=()=>h.createElement(am,null,h.createElement(y.xvT,{size:"body-sm",color:"bodyDimmed"},"Create better video messages with AI-powered titles, editing, and workflows. ",h.createElement("span",{className:ar.upgradeLink},"Upgrade now")," ")),ap=()=>h.createElement(al,null,h.createElement(y.ggW,{autoFlow:"row"},h.createElement(y.xvT,{fontWeight:"bold"},"Loom AI not available on this video"),h.createElement(y.xvT,{size:"body-sm",color:"bodyDimmed"},"Some videos are not eligible for AI features. If you believe this was an error, please contact support."))),av=({variant:e})=>h.createElement("div",{className:ar.headerBackground},"ai-loading"===e&&h.createElement(as,null),"ai"===e&&h.createElement(ac,null),"ai-trial"===e&&h.createElement(ad,null),"extra-ai-tries"===e&&h.createElement(au,null),"no-ai-access"===e&&h.createElement(ag,null),"ai-not-available"===e&&h.createElement(ap,null));var af={editPageButton:"edit-page-button_editPageButton_3tx",mainText:"edit-page-button_mainText_2xb",subText:"edit-page-button_subText_1Yx",trimIcon:"edit-page-button_trimIcon_289",isDisabled:"edit-page-button_isDisabled_2Ym",noAi:"edit-page-button_noAi_1yf",popover:"edit-page-button_popover_3AT"};let ah=({onClick:e,mainText:t,subText:n,isDisabled:a=!1,tooltipText:i,noAi:o=!1})=>{let[r,l]=(0,ep.XI)({delayEnter:100}),c=r&&!a,{triggerProps:d,layerProps:m,renderLayer:u}=(0,ep.sJ)({isOpen:c,placement:"left-center",triggerOffset:12});return h.createElement(h.Fragment,null,h.createElement(y.ua7,{tabIndex:-1,content:i,placement:"bottomCenter",isDisabled:!i,isInline:!1},h.createElement("span",{...d,...l},h.createElement("button",{className:s()({[af.editPageButton]:!0,[af.isDisabled]:a,[af.noAi]:o}),onClick:e,disabled:a},h.createElement(y.W20,{padding:"small",backgroundImage:a?void 0:"var(--lns-gradient-ai-secondary)",height:"100%",width:"100%"},h.createElement(y.ggW,{columns:["auto","1fr","auto"],gap:1.5,justifyContent:"stretch"},h.createElement(y.JO$,{icon:h.createElement(nf.c,null),className:af.trimIcon}),h.createElement(y.Pag,{direction:"column",alignItems:"flex-start"},h.createElement(y.I7m,null,h.createElement("div",{className:af.mainText},h.createElement(y.xvT,{alignment:"left",fontWeight:"bold"},t))),h.createElement(y.I7m,null,h.createElement("div",{className:af.subText},h.createElement(y.xvT,{alignment:"left",color:"bodyDimmed"},n)))),h.createElement(y.JO$,{icon:h.createElement(nC.n,null)})))))),c&&u(h.createElement("div",{...m,className:af.popover},h.createElement(n4.U,null))))},aE=()=>{let{onClick:e}=(0,nI.X)(t9.y.TRIAL_PILL);return h.createElement("div",{className:"edit-section_trialPill_ndd",role:"button",onClick:e},h.createElement(y.DRh,{color:"white",backgroundColor:"blurpleStrong"},"Trial"))},a_=({children:e,title:t,topRightOption:n,isTrialing:a=!1,showGradientBorderAnimation:i=!1})=>h.createElement("div",{className:s()({"edit-section_editSectionGradientBorderAnimation_1_Y":i})},h.createElement(y.W20,{position:"relative",borderSide:"all",radius:"xlarge",paddingY:2.5,paddingX:"large",backgroundColor:"background",zIndex:1},h.createElement(y.ggW,{gap:1,autoFlow:"row",justifyContent:"stretch"},h.createElement(y.ggW,{autoFlow:"column",justifyContent:"space-between"},h.createElement(y.ggW,{gap:"small"},a&&h.createElement(aE,null),h.createElement(y.xvT,{size:"heading-sm",fontWeight:"bold"},t)),n),e))),ay={},ab=(0,ea.Ps)`
    mutation editTabBulkTrimVideo($videoId: ID!, $forceSave: Boolean!, $lastTrimId: ID!, $includeSilences: Boolean!, $includeFillers: Boolean!, $password: String, $smoothingStrategy: AudioTrimSmoothingStrategy) {
  bulkTrimClips(
    videoId: $videoId
    forceSave: $forceSave
    lastTrimId: $lastTrimId
    includeSilences: $includeSilences
    includeFillers: $includeFillers
    password: $password
    smoothingStrategy: $smoothingStrategy
  ) {
    ... on BulkTrimClipsPayload {
      removalCounts {
        fillerWords
        secondsOfSilence
      }
      removalWasPartial
      video {
        id
        playable_duration
        processing_information {
          trim_id
          trim_progress
          trim_ranges {
            from
            to
          }
          videoUploadValid
        }
      }
    }
    ... on ClipUpdateError {
      message
      reason
    }
    ... on Warning {
      message
    }
    ... on Error {
      message
    }
  }
}
    `;function ak(e){let t={...ay,...e};return eM.D(ab,t)}let aw={},aC=(0,ea.Ps)`
    mutation editTabUndoBulkTrimVideo($videoId: ID!, $forceSave: Boolean!, $lastTrimId: ID!, $includeSilences: Boolean!, $includeFillers: Boolean!, $password: String, $smoothingStrategy: AudioTrimSmoothingStrategy) {
  bulkUndoTrim(
    videoId: $videoId
    forceSave: $forceSave
    lastTrimId: $lastTrimId
    includeSilences: $includeSilences
    includeFillers: $includeFillers
    password: $password
    smoothingStrategy: $smoothingStrategy
  ) {
    ... on BulkUndoTrimPayload {
      video {
        id
        playable_duration
        processing_information {
          trim_id
          trim_progress
          trim_ranges {
            from
            to
          }
          videoUploadValid
        }
      }
    }
    ... on ClipUpdateError {
      message
      reason
    }
    ... on Warning {
      message
    }
    ... on Error {
      message
    }
  }
}
    `;function aS(e){let t={...aw,...e};return eM.D(aC,t)}let aT={},ax=(0,ea.Ps)`
    query getEditTabBulkTrimCounts($videoId: ID!, $password: String) {
  getIntelligenceStatus(videoId: $videoId, password: $password) {
    ... on GetIntelligenceStatusPayload {
      hasTrimmedSilences
      hasTrimmedFillerWords
      secondsOfSilenceTrimmed
      numberOfFillerWordsTrimmed
      processingInformation {
        trim_id
      }
    }
    ... on Error {
      message
    }
  }
}
    `,aI={},aA=(0,ea.Ps)`
    query getEditTabVideoDetails($videoId: ID!, $password: String) {
  getVideo(id: $videoId, password: $password) {
    ... on RegularUserVideo {
      id
      complete
      cta {
        enabled
        url
        is_auto
      }
    }
    ... on PrivateVideo {
      id
      message
    }
    ... on VideoPasswordMissingOrIncorrect {
      id
      message
    }
  }
}
    `,aN={},aL=(0,ea.Ps)`
    query getEditTabWorkspaceBillingDetails($workspaceId: ID!) {
  getWorkspaceBillingDetails(workspaceId: $workspaceId) {
    id
    billing_details {
      plan {
        id
        pure_trial
      }
    }
  }
}
    `,aP=e=>{if(e?.getIntelligenceStatus?.__typename!=="GetIntelligenceStatusPayload")return{hasTrimmedSilences:!1,secondsOfSilenceTrimmed:0,hasTrimmedFillerWords:!1,numberOfFillerWordsTrimmed:0};let t=e.getIntelligenceStatus.hasTrimmedSilences,n=e.getIntelligenceStatus.secondsOfSilenceTrimmed,a=e.getIntelligenceStatus.hasTrimmedFillerWords,i=e.getIntelligenceStatus.numberOfFillerWordsTrimmed;return{hasTrimmedSilences:t,secondsOfSilenceTrimmed:n,hasTrimmedFillerWords:a,numberOfFillerWordsTrimmed:i}};var aD=n(94238);let aR=e=>{if(e?.getVideo?.__typename!=="RegularUserVideo")return{videoIsComplete:!1,isAutoLinkDetected:!1,autoLinkTitle:void 0};let t=e.getVideo.complete,{is_auto:n,url:a}=e.getVideo.cta,i=!!(n&&a),o=(0,aD.V)(a);return{videoIsComplete:t,isAutoLinkDetected:i,autoLinkTitle:o}},aV=()=>((0,h.useEffect)(()=>(document.documentElement.style.setProperty("--svg-ai-gradient-primary","url(#svg-ai-gradient-primary-def)"),()=>{document.documentElement.style.removeProperty("--svg-ai-gradient-primary")}),[]),h.createElement("svg",{width:"0",height:"0",style:{display:"absolute"}},h.createElement("defs",null,h.createElement("linearGradient",{id:"svg-ai-gradient-primary-def"},h.createElement("stop",{offset:"0%",stopColor:"hsl(242, 88%, 66%)"}),h.createElement("stop",{offset:"39%",stopColor:"hsl(247, 78%, 72%)"}),h.createElement("stop",{offset:"61%",stopColor:"hsl(270, 64%, 72%)"}),h.createElement("stop",{offset:"100%",stopColor:"hsl(313, 67%, 68%)"})))));var aW=n(46856),aO=n(39079);let aF=[aO,ai,aW,nS],aB=()=>{!function(e){let[t,n]=(0,h.useState)(!1);(0,h.useEffect)(()=>{let t=!1;return async function(){if(t)return;let a=[];for(let t of e)a.push(function(e){return new Promise((t,n)=>{let a=new Image;a.onload=function(){t()},a.onerror=a.onabort=function(){n()},a.src=e})}(t));await Promise.all(a),t||n(!0)}(),()=>{t=!0}},[])}(aF)};var az=n(45394),a$=n(77592);let aM=({icon:e,text:t,isDisabled:n,tooltipText:a,onClick:i})=>h.createElement(y.ua7,{content:a,isDisabled:!a,placement:"bottomCenter",isInline:!1},h.createElement("button",{className:s()({workflows_workflowsButton_2y1:!0,workflows_isDisabled_3RX:n}),disabled:n,onClick:i},h.createElement(y.W20,{padding:1.5,backgroundImage:n?void 0:"var(--lns-gradient-ai-secondary)",height:"100%",width:"100%"},h.createElement(y.ggW,{autoFlow:"row",gap:"xsmall",justifyContent:"stretch"},h.createElement(y.ggW,{justifyContent:"space-between"},h.createElement(y.JO$,{icon:e,className:"workflows_icon_DCs"}),h.createElement("div",{className:"workflows_chevronIcon_1PP"},h.createElement(y.JO$,{icon:h.createElement(nC.n,null)}))),h.createElement(y.xvT,{alignment:"left",fontWeight:"bold"},t))))),aU=({isDisabled:e,tooltipText:t,onDocumentClick:n,onMessageClick:a,onBugReportClick:i})=>h.createElement(y.ggW,{autoFlow:"row",gap:1.5,justifyContent:"stretch"},h.createElement(y.xvT,{color:"bodyDimmed"},"Use your video to generate a..."),h.createElement(y.ggW,{gap:1.5,justifyContent:"stretch",columns:["1fr","1fr","1fr"]},h.createElement(aM,{icon:h.createElement(w.E,null),text:"Document",onClick:n,isDisabled:e,tooltipText:t}),h.createElement(aM,{icon:h.createElement(a$.Y,null),text:"Message",onClick:a,isDisabled:e,tooltipText:t}),h.createElement(aM,{icon:h.createElement(az.A,null),text:"Bug report",onClick:i,isDisabled:e,tooltipText:t}))),aZ="Feature unavailable on this video",aj=({isAiLoading:e,aiHasError:t,transcriptInProgress:n,transcriptUnavailable:a,transcriptRegenerating:i})=>e||n&&!i?"loading":t||a?"not-available":"success",aH=({isTrialing:e,hasAnyAiScope:t,aiStatus:n,hasAiTries:a=!1})=>t||a?"loading"===n?"ai-loading":"not-available"===n?"ai-not-available":e?"ai-trial":a?"extra-ai-tries":"ai":"no-ai-access",aG=({onAddLinkClick:e})=>{let t=(0,E.I0)(),{video:n,setVideo:a}=(0,u.dPl)(),{modelId:i}=n,{password:r}=(0,N.u)(),{lastTrimId:l}=(0,nk.L7)(),s=(0,nn._)(),{setShowConfirmationToast:d}=(0,nt.x)();aB();let m=(0,E.v9)(eV.tV),g=(0,eN.v)({videoId:i}),p=(0,t1.W9)(nE.dvA)===nE.c7r,v=(0,no.gH)(n_.il),b=(0,t1.W9)(nE.aJS),k=b===nE.c7r||"variant-baseline"===b,w=!!n?.viewerCaptionsOn,C=!!n?.stylizedCaptions,S=!!(w&&C),{captionsActive:T,onToggle:x}=(0,u.Yj_)(n.id),{isLoading:I,hasError:A,autoTitleGenerated:L,autoSummaryGenerated:P,autoChaptersGenerated:D,hasUserEditedTitle:R,hasUserEditedSummary:V,hasUserEditedChapters:W,transcriptAvailable:O,transcriptInProgress:F,transcriptUnavailable:B,transcriptRegenerating:z}=(0,ne.J)({videoId:i}),$=!O,M=(0,nr.hP)(),{data:U,loading:Z}=function(e){let t={...aN,...e};return ei.a(aL,t)}({variables:{workspaceId:M?.id},skip:!M?.id,onError:e=>{throw e},onCompleted:e=>{if(e?.getWorkspaceBillingDetails?.__typename!=="BillingEntity")throw Error("Billing details not found")}}),{data:j,loading:H,refetch:G}=function(e){let t={...aI,...e};return ei.a(aA,t)}({variables:{videoId:i,password:r},onError:e=>{throw e},onCompleted:e=>{if(e?.getVideo?.__typename!=="RegularUserVideo")throw Error(e?.getVideo?.message??"Video data not found")}}),{videoIsComplete:Y,isAutoLinkDetected:K,autoLinkTitle:q}=aR(j),{data:J,error:Q}=(0,nb.G)({variables:{videoId:i},skip:!!Y||!i});(0,h.useEffect)(()=>{(J?.recordingCompleted||Q?.message==="Video already completed")&&G()},[J,Q,G]);let{data:ee,error:et}=function(e){let t={...aT,...e};return ei.a(ax,t)}({variables:{videoId:i,password:r}}),en=!!et,{hasTrimmedSilences:ea,secondsOfSilenceTrimmed:eo,hasTrimmedFillerWords:er,numberOfFillerWordsTrimmed:el}=aP(ee),[es,{loading:ec}]=ak({variables:{videoId:i,includeSilences:!0,includeFillers:!1,password:r,lastTrimId:l,forceSave:!1},refetchQueries:[ax],awaitRefetchQueries:!0,onCompleted:e=>{if(e?.bulkTrimClips?.__typename!=="BulkTrimClipsPayload"||!e.bulkTrimClips.video){d("Failed to remove silences. Please try again.");return}ey.track(o.Aj0,{video_id:i,enabled:!0}),s(e.bulkTrimClips.video)}}),ed={videoId:i,includeSilences:!1,includeFillers:!0,password:r,lastTrimId:l,forceSave:!1},[em,{loading:eu}]=ak({variables:ed,refetchQueries:[ax],awaitRefetchQueries:!0,onCompleted:e=>{if(e?.bulkTrimClips?.__typename!=="BulkTrimClipsPayload"||!e.bulkTrimClips.video){d("Failed to remove filler words. Please try again.");return}ey.track(o.tqT,{video_id:i,enabled:!0}),s(e.bulkTrimClips.video)}}),[eg,{loading:ep}]=aS({variables:{videoId:i,includeSilences:!0,includeFillers:!1,password:r,lastTrimId:l,forceSave:!1},refetchQueries:[ax],awaitRefetchQueries:!0,onCompleted:e=>{if(e?.bulkUndoTrim?.__typename!=="BulkUndoTrimPayload"||!e.bulkUndoTrim.video){d("Failed to undo silence removal. Please try again.");return}ey.track(o.Aj0,{video_id:i,enabled:!1}),s(e.bulkUndoTrim.video)}}),[ev,{loading:eh}]=aS({variables:ed,refetchQueries:[ax],awaitRefetchQueries:!0,onCompleted:e=>{if(e?.bulkUndoTrim?.__typename!=="BulkUndoTrimPayload"||!e.bulkUndoTrim.video){d("Failed to undo filler word removal. Please try again.");return}ey.track(o.tqT,{video_id:i,enabled:!1}),s(e.bulkUndoTrim.video)}}),[eE,{loading:e_}]=(0,nd.r)(),[eb,{loading:ek}]=(0,nm.K)(),ew=(0,h.useMemo)(()=>U?.getWorkspaceBillingDetails?.billing_details?.plan?.pure_trial??!1,[U]),eC=(0,t3.e)(),eS=(0,t5.c)(),eT=!1===(0,t1.W9)(nE.EI5)||!eS,ex=(0,no.gH)(n_.GX),eI=(0,no.gH)(n_.DI),eA=(0,no.gH)(n_.IS),eL=(0,no.gH)(n_.$u),eP=(0,no.gH)(n_.Ce)||eC,eD=(0,no.gH)(n_.Vu)||eC,eR=(0,no.gH)(n_.XY)||eC,eW=(0,no.gH)(n_.gp)||eC,eO=(0,no.gH)(n_.Ce)||eC,eF=(0,ni.Pg)(),eB=(0,no.gH)(n_.b6),ez=eP||eD||eR,e$=ez||eW,eM=aj({isAiLoading:I,aiHasError:A,transcriptInProgress:F,transcriptUnavailable:B,transcriptRegenerating:z}),eU=aH({isTrialing:ew,hasAnyAiScope:e$,aiStatus:eM,hasAiTries:eC}),eZ=eP&&L&&!R,ej=eD&&P&&!V,eH=eR&&D&&!W,eG=!eZ&&!ej&&!eH,eY=(0,c.useCurrentUserSelector)(e=>e.videoSettings?.auto_title??!0,!1),eK=(0,c.useCurrentUserSelector)(e=>e.videoSettings?.auto_summary??!0,!1),eq=(0,c.useCurrentUserSelector)(e=>e.videoSettings?.auto_chapters??!0,!1),eJ="success"!==eM||eG,eX=e$?"Make edits":"Edit and enhance",eQ=(0,nl.W)(),e0=!Y||!eQ,e1=e0?aZ:void 0,e2=(0,t1.Mr)({flag:nE.aDo,activationValues:["variant"]}),e3=eT?"Edit and trim video":e2?"Edit and trim video, add clips, links, and overlays":"Edit and trim video, add clips and links",e5=eu||eh,e4=ec||ep,e6=e5||e4,e7=e6||!eQ||en||!O||I||!Y,e8=e6||!eQ||en||!O||I||!Y,e9=en?"Feature unavailable due to an error":F&&!z?"Transcript is generating":B||!eQ?aZ:void 0,te=!eJ&&g,tt=(0,f.$)(),tn=e=>{t((0,_.h7)({modalType:"WORKFLOWS_MODAL",options:{workflowTypeOnOpen:e}})),tt.createModalOpened(f.B.NEW_ENTRY_POINT),tt.workflowSelected(na.q[e][0],e,"share_page_right_sidebar")};if(Z||H||void 0===e2)return h.createElement(om,null);let ta=h.createElement(h.Fragment,null,ex?h.createElement(y.W20,{paddingY:"xsmall"},h.createElement(ah,{onClick:()=>{window.location.href=window.location.href.replace("/share/","/edit/"),ey.track(o.Pks,{id:i})},isDisabled:e0,tooltipText:e1,mainText:e2&&eL?"Edit and enhance video":"Edit and trim video",subText:e2&&eL?"Trim, add clips, overlay text & more":eA?"Edit using transcript & add clips":"Trim mistakes & add clips",noAi:eT})):h.createElement(nL,{icon:h.createElement(nf.c,null),title:e3,upgradeSourceLocation:t9.y.EDIT_AND_TRIM_LOCKED_BUTTON,popoverContent:h.createElement(ao,null)})),ti=h.createElement(h.Fragment,null,h.createElement(nx,{icon:h.createElement(nh.l,null),title:ec?"Removing silences...":ep?"Undoing removal...":ea?`${eo}s of silence removed`:"Remove silences",onClick:ea?eg:es,rightOption:e4?h.createElement(y.aNw,null):h.createElement(y.rsf,{isActive:ea,isDisabled:e8,readOnly:!0}),isDisabled:e8,disabledTooltipText:e9}),k?h.createElement(h.Fragment,null,h.createElement(nx,{icon:h.createElement(nv.Y,null),title:eu?"Removing filler words...":eh?"Undoing removal...":er?`${el} filler ${nc()("word",el)} removed (strategy 1)`:"Remove filler words (strategy 1)",onClick:()=>{er?ev({variables:{...ed,smoothingStrategy:ny.i5.Strategy_1KeepBoth}}):em({variables:{...ed,smoothingStrategy:ny.i5.Strategy_1KeepBoth}})},rightOption:e5?h.createElement(y.aNw,null):h.createElement(y.rsf,{isActive:er,isDisabled:e7,readOnly:!0}),isDisabled:e7,disabledTooltipText:e9}),h.createElement(nx,{icon:h.createElement(nv.Y,null),title:eu?"Removing filler words...":eh?"Undoing removal...":er?`${el} filler ${nc()("word",el)} removed (strategy 3)`:"Remove filler words (strategy 3)",onClick:()=>{er?ev({variables:{...ed,smoothingStrategy:ny.i5.Strategy_3KeepLongest}}):em({variables:{...ed,smoothingStrategy:ny.i5.Strategy_3KeepLongest}})},rightOption:e5?h.createElement(y.aNw,null):h.createElement(y.rsf,{isActive:er,isDisabled:e7,readOnly:!0}),isDisabled:e7,disabledTooltipText:e9})):h.createElement(nx,{icon:h.createElement(nv.Y,null),title:eu?"Removing filler words...":eh?"Undoing removal...":er?`${el} filler ${nc()("word",el)} removed`:"Remove filler words",onClick:er?ev:em,rightOption:e5?h.createElement(y.aNw,null):h.createElement(y.rsf,{isActive:er,isDisabled:e7,readOnly:!0}),isDisabled:e7,disabledTooltipText:e9})),to=p&&v?h.createElement(nx,{icon:h.createElement(np.I,null),title:"Add stylized captions",onClick:()=>{let e=!S;eb({variables:{videoId:i,settings:{stylizedCaptions:e,viewerCaptionsOn:e},password:r},onError:t=>{ef.error(t,{message:"Failed to update stylized captions enabled",videoId:i,settings:{stylized_captions:e,viewer_captions_on:e}},{feature:X.L0.StylizedCaptions}),d("Failed to update stylized captions. Please try again")},onCompleted:e=>{if(e.updateVideoSettings?.__typename!=="UpdateVideoSettingsPayload"){d("Failed to update stylized captions. Please try again");return}let t=e?.updateVideoSettings?.video?.stylizedCaptions,n=e?.updateVideoSettings?.video?.viewerCaptionsOn;if(null==t||null==n){d("Failed to set stylized captions. Please try again");return}a({stylizedCaptions:t,viewerCaptionsOn:n}),T!==n&&x(),ey.track(o.y00,{source:"EDIT",enabled:t,video_id:i})}}),eE({variables:{videoSettings:{stylizedCaptions:e,viewerCaptionsOn:e}},onError:t=>{ef.error(t,{message:"Failed to update default stylized captions",videoId:i,settings:{stylized_captions:e,viewer_captions_on:e}},{feature:X.L0.StylizedCaptions}),d("Failed to update default stylized captions. Please try again")},onCompleted:e=>{if(e.updateUserVideoSettings?.__typename!=="UpdateUserVideoSettingsPayload"){d("Failed to update default stylized captions. Please try again");return}}})},rightOption:e_||ek?h.createElement(y.aNw,null):h.createElement(y.rsf,{isActive:S,isDisabled:$,readOnly:!0}),isDisabled:$,disabledTooltipText:"Feature unavailable on this video"}):null;return eT?h.createElement(y.W20,{padding:"large"},h.createElement(a_,{title:"Make edits"},ta,eW?ti:null,to,h.createElement(nR,{onClick:e,disabledTooltipText:aZ,isTrialing:ew,hasExistingLink:m,hasScope:eI}))):h.createElement(h.Fragment,null,h.createElement(y.W20,{paddingX:"large"},h.createElement(av,{variant:eU}),h.createElement(y.W20,{position:"relative"},h.createElement(y.ggW,{autoFlow:"row",gap:"medium",justifyContent:"stretch"},h.createElement(a_,{title:eX,topRightOption:ez?h.createElement(n5,{videoId:i,isAiTitleApplied:eZ,isAiSummaryApplied:ej,isAiChaptersApplied:eH,isDisabled:eJ,tooltipText:"loading"===eM?"Loom AI is still generating":eY||eK||eq||!eG?"not-available"===eM||eG?"Auto titles, chapters, and summary are unavailable on this video":void 0:"Your AI features are turned off in default settings",displayDefaultSettingsCallout:!eZ&&!eY||!ej&&!eK||!eH&&!eq,hasAiInitiallyGenerated:te}):null,isTrialing:ew,showGradientBorderAnimation:te},ta,!e$&&ex?h.createElement(h.Fragment,null,to,h.createElement(nR,{onClick:e,disabledTooltipText:aZ,isTrialing:ew,hasExistingLink:m,isAutoLinkDetected:K,autoLinkTitle:q,hasScope:eI})):h.createElement(h.Fragment,null,eW?ti:h.createElement(nL,{icon:h.createElement(nv.Y,null),title:"Remove silences & filler words",upgradeSourceLocation:t9.y.REMOVE_SILENCE_FILLER_WORDS_LOCKED_BUTTON,popoverContent:h.createElement(n8,null)}),ez?null:h.createElement(nL,{icon:h.createElement(ng.K,null),title:"Auto-title, chapters, and summary",upgradeSourceLocation:t9.y.AUTO_CONTEXT_LOCKED_BUTTON,popoverContent:h.createElement(ae,null)}),to)),e$?h.createElement(a_,{title:"Take action",isTrialing:ew,showGradientBorderAnimation:te},eO?h.createElement(y.W20,{paddingBottom:"xsmall"},h.createElement(aU,{isDisabled:!O,tooltipText:F?"Transcript is generating":B?aZ:void 0,onDocumentClick:()=>{tn("document")},onBugReportClick:()=>{tn("ticket")},onMessageClick:()=>{tn("message")}})):h.createElement(nL,{icon:h.createElement(y.JO$,{icon:h.createElement(nu.m,null),size:2.8}),title:"Use AI to generate documents from your video",upgradeSourceLocation:t9.y.WORKFLOWS_LOCKED_BUTTON,popoverContent:h.createElement(an,null)}),eF?h.createElement(nZ,{videoId:n.id,unavailableTooltipText:aZ}):eB||eC?null:h.createElement(nH,null),!eI&&eC?null:h.createElement(nR,{onClick:e,disabledTooltipText:aZ,isTrialing:ew,hasExistingLink:m,isAutoLinkDetected:K,autoLinkTitle:q,hasScope:eI})):null))),h.createElement(aV,null))};var aY=n(69926),aK=n(80962),aq=n(34698);let aJ=({onClose:e})=>{let t=(0,E.v9)(eV.tV),n=(0,E.v9)(e=>(0,aq.MU)(e,n_.tS));return h.createElement(aY.T,{currentPage:aK.L.Link,onClose:e,pageTitle:t?"Edit the link":"Add a link",showDefaultCta:n})};var aX=n(82998),aQ=n(30676),a0=n(21844);let a1=()=>{let e=(0,a0.st)(),t=()=>{e(nM.BR.CALENDAR_CONNECT_BANNER)};return h.createElement(aQ.Z,{hasTransition:!1,name:nM.BR.CALENDAR_CONNECT_BANNER},h.createElement(y.W20,{padding:"large",borderSide:"bottom",borderWidth:"2px",borderColor:"backgroundSecondary",backgroundColor:"blurpleLight",id:"right-panel-meetings-banner"},h.createElement(y.Pag,{justifyContent:"space-between",rowGap:"medium"},h.createElement(y.Pag,{columnGap:"medium"},h.createElement(y.W20,{backgroundColor:"white",paddingY:.5,paddingX:1,marginBottom:"medium",radius:"full",width:"fit-content"},h.createElement(y.ggW,{gap:.5},h.createElement(y.JO$,{icon:h.createElement(y.TRl,{variant:"symbol",maxWidth:2}),color:"blurple"}),h.createElement(y.xvT,{fontWeight:"bold",color:"blurple"},"Beta"))),h.createElement(y.W20,null,h.createElement(y.xvT,{fontWeight:"bold",size:"body-lg"},"Meeting recording with Loom"),h.createElement(y.xvT,null,"Connect your calendar and choose the Zoom, Google Meet, and Teams meetings you want to record"))),h.createElement(y.Pag,{alignItems:"center",gap:"small"},h.createElement(aX.i,{shouldRedirect:!0}),h.createElement(y.Avr,{onClick:()=>t()},"Not now")))))};var a2=n(62259),a3=n(75162),a5=n(49586),a4=n(45652),a6=n(65910),a7=n(34751),a8=n(62189),a9=n(45218),ie=n(5902),it=n(67184),ia=n(20389),ii=n(93563),io=n(52069),ir=n(20537),il=n(2658),is=n(3891),ic=n(40240),id=n(68066),im=n(11893),iu=n(67491),ig=n.p+"img/illustrations/player-8461285e3e7f39968f05.png";let ip={},iv=(0,ea.Ps)`
    query GetInsightsStatsForVideo($videoId: ID!) {
  engagementInsightsSummaryForVideo(videoId: $videoId) {
    id
    stats(videoId: $videoId) {
      id
      trackedViewerCount
      completionPercentAvg
      ctaConversionPercent
    }
  }
}
    `;var ih=n(25646);let iE=()=>h.createElement(y.LZC,{bottom:2,top:2,left:1},h.createElement(y.ggW,{columns:["auto 1fr"],gap:2},h.createElement(y.W20,{height:4,width:4,backgroundColor:"disabledBackground",radius:"full",paddingLeft:4}),h.createElement(y.Pag,{direction:"column",alignItems:"start",gap:1},h.createElement(y.I7m,null,h.createElement(y.W20,{height:1.5,width:15,backgroundColor:"disabledBackground",style:{borderRadius:"4px"}})),h.createElement(y.I7m,null,h.createElement(y.Pag,{direction:"row",gap:2},h.createElement(y.I7m,null,h.createElement(y.W20,{height:1.5,width:4,backgroundColor:"disabledBackground",style:{borderRadius:"4px"}})),h.createElement(y.I7m,null,h.createElement(y.W20,{height:1.5,width:4,backgroundColor:"disabledBackground",style:{borderRadius:"4px"}}))))))),i_=({rowCount:e})=>{let t=[];for(let n=0;n<e;n++)t.push(h.createElement(iE,{key:n}));return h.createElement(h.Fragment,null,t)};var iy=n(10138),ib=n(3894),ik=n(94263),iw=n(59227),iC=n(72232);let iS=({title:e,amount:t,backgroundColor:n="backgroundSecondary",className:a,inActivitySidebar:i=!1})=>h.createElement(h.Fragment,null,i?h.createElement(y.W20,{className:a,backgroundColor:n,padding:"medium",radius:"large"},h.createElement(y.ggW,{autoFlow:"row"},h.createElement(y.xvT,{fontWeight:"bold",color:"grey8"},e),h.createElement(y.xvT,{size:"heading-md",fontWeight:"bold",color:"grey8"},t))):h.createElement("div",{className:`flex py:small px:medium items:center ${a} radius:medium`,style:{backgroundColor:n}},h.createElement("div",{className:"grow:1"},h.createElement(y.xvT,null,e)),h.createElement(y.xvT,{fontWeight:"bold",size:"heading-sm"},t)));var iT=({viewer:e,onBack:t,skipAnimation:n,inActivitySidebar:a})=>{let i=(0,h.useRef)(),{user:o={},views:r=[],percentCompleted:l=0,ctaClicks:c,events:d=[]}=e;return(0,h.useEffect)(()=>{let e=i?.current,t=()=>e?.parentElement?.classList.add(iC.Z.shrinked);document?.documentElement?.scrollTo?.({top:0}),e?.parentElement?.scrollTo?.({left:e.offsetWidth,behavior:n?"auto":"smooth"}),n?t():setTimeout(t,250);let a=new a3.Z(t7()(([e])=>{e?.target?.parentElement?.scrollTo({left:e?.contentRect?.width,behavior:"smooth"})},100));return a.observe(e),()=>a.disconnect()},[n]),h.createElement("section",{className:iC.Z.slideable,ref:i},h.createElement(y.yeS,{htmlTag:"header",alignment:"center",isSpread:!0,className:iC.Z.detailsHeader},h.createElement(y.yeS,{alignment:"center",gap:"small"},a?h.createElement(h.Fragment,null,h.createElement(y.hU,{altText:"Back",icon:h.createElement(iw.C,null),onClick:t}),h.createElement("a",{href:`/profile/${o?.profileUrl}`},h.createElement(y.xvT,{fontWeight:"bold",size:"body-lg"},o.name))):h.createElement(h.Fragment,null,h.createElement(y.hU,{altText:"Back",icon:h.createElement(ik.s,null),onClick:t}),h.createElement("a",{href:`/profile/${o?.profileUrl}`},h.createElement(ib.uV,{avatar:o.avatar,color:o.color,variant:o.variant})),h.createElement(ib.Wd,{name:o.name})))),h.createElement("div",null,h.createElement("div",{className:"mb:large"},h.createElement(iS,{title:"Video views",amount:r.length,backgroundColor:"blurpleMedium",inActivitySidebar:a}),h.createElement(iS,{className:a?"mt:medium":"mt:small",title:"Completion rate",amount:null!=l?`${l}%`:"--",backgroundColor:"blueLight",inActivitySidebar:a}),!!c&&h.createElement(iS,{className:s()(a?"mt:medium":"mt:small","test-call-to-action-clicks"),title:"Call-to-Action Clicks",amount:c,backgroundColor:"yellowLight",inActivitySidebar:a})),h.createElement("div",{className:"p:medium bgc:backgroundSecondary mb:large radius:medium"},h.createElement("div",{className:"mb:medium"},h.createElement(y.xvT,{fontWeight:"bold"},"View Times")),h.createElement(ib.UZ,{views:r}))),h.createElement(ib.iF,{events:d}))},ix=n(14095),iI=n(88447),iA=n(61709),iN=n(44354),iL=n(94789),iP=n(57576),iD=n.n(iP),iR=()=>{let[e,t]=(0,h.useState)(""),[n,a]=(0,h.useState)(""),{video:{isOwner:i,views:o,videoProperties:{playableDuration:r}}}=(0,u.dPl)(),{total:l=0}=o??{},s=(0,iI.aJ)({videoViews:l,videoDuration:r||0}),c=(0,iI.I5)({secondsSaved:s}),[d,{data:m,loading:g}]=(0,ix.t)(iD(),{variables:{dateRangeType:iA.Nm.MONTH,interval:0},fetchPolicy:"cache-and-network",nextFetchPolicy:"cache-first"}),p=m?.getInsightsValueForTimeframes?.owner?.videoView;return(0,h.useEffect)(()=>{1!==l&&c?c&&(t(`${c} saved`),a("Every view on this video beyond the first view is one less time that you had to repeat yourself. Great work at scaling knowledge!")):(d(),p&&t(`${p} views this month`))},[l,d,c,p]),l&&!g&&i&&e?h.createElement(h.Fragment,null,h.createElement(y.ggW,{gap:"small",justifyContent:{default:"stretch",medium:"space-between"},autoFlow:{default:"row",medium:"column"}},h.createElement(y.ggW,{gap:"xsmall"},h.createElement(iL.Z,{size:3}),h.createElement(y.LZC,{left:.5}),h.createElement(y.xvT,{size:"body-md",color:"bodyDimmed",fontWeight:"book"},e),n&&h.createElement(y.ua7,{content:n,maxWidth:40},h.createElement(y.JO$,{icon:h.createElement(eO.M,null),size:2.25,color:"bodyDimmed"}))),h.createElement(iN.Z,{buttonText:"More insights",source:"viewer-insights-share-page",buttonSize:"small"}))):h.createElement(h.Fragment,null)};try{a=window&&window.localStorage}catch{}let iV="engagementInsights:showPartialInfoSaved",iW=()=>a&&a.setItem(iV,!0),iO=()=>a&&a.getItem(iV);var iF=n(67615),iB=n(56647);let{reactor:iz}=im.NOTIFICATION_URL_PARAMS,i$=e=>isNaN(e)?"n/a":`${Math.round(e)}%`,iM=({onExit:e,inActivitySidebar:t})=>{let{featureLoadedRef:n}=(0,J.kX)(),a=(0,E.I0)(),i=(0,h.useRef)(null),o=(0,h.useRef)(null),r=(0,h.useRef)(null),[l,c]=(0,h.useState)(!iO()),d=(0,h.useCallback)(e=>{a((0,ia.L)(e)),e&&(0,iy.E3)()},[a]),m=i?.current,g=o?.current,p=(0,h.useCallback)(()=>{t?((0,iy.wK)(),d(null)):(m?.classList.remove(iC.Z.shrinked),setTimeout(()=>{document.documentElement.scrollTo({top:0}),m?.scrollTo({left:0,behavior:"smooth"}),g?.scrollTo({top:0})},50),(0,iy.wK)(),setTimeout(()=>d(null),350))},[d,g,m,t]),{video:{id:v,ctaEnabled:f=!1,views:_}}=(0,u.dPl)(),{total:b=0,distinct:k=0}=_??{},w=(0,E.v9)(e=>(0,aq.MU)(e,n_.L7)),{data:C}=function(e){let t={...ip,...e};return ei.a(iv,t)}({variables:{videoId:v},skip:!w||!b,client:(0,ic.yy)()}),S=C?.engagementInsightsSummaryForVideo?.stats?.completionPercentAvg??void 0,T=C?.engagementInsightsSummaryForVideo?.stats?.ctaConversionPercent??void 0,x=C?.engagementInsightsSummaryForVideo?.stats?.trackedViewerCount??void 0,{data:I,loading:N,fetchMore:L}=(0,ih.uB)({variables:{first:50,videoId:v},client:(0,ic.yy)(),skip:!w||!b,notifyOnNetworkStatusChange:!0}),{viewersWithEngagements:P,hasNextPage:D,endCursor:R}=(0,iB.R)(I),V=(0,h.useCallback)(()=>{!N&&L&&R&&D&&w&&L({variables:{first:50,after:R,videoId:v}})},[L,N,v,R,D,w]);(0,iu.Z)(r,V);let W=(0,iF.p)(_),O=w?P:W,F=(0,E.v9)(Q.R),B=(0,is.D)(F),z=x!==k;return(0,h.useEffect)(()=>{let e=(0,eL.jS)(iz);if(e){let t=O.find(t=>(0,iB.O)(t)&&String(t.user.id)==e);null!=t&&(d(t),(0,eL.$5)(window)(iz))}o?.current?.scrollTo?.({top:0}),F||e||p()},[p,d,F,O]),h.createElement("div",{ref:n},h.createElement("section",{ref:o,className:iC.Z.containerBox+" overflow:auto thin-scrollbars radius:medium",style:{display:"flex",flexDirection:"column"}},0===b?h.createElement(iU,null):h.createElement(A.Gm,{feature:X.L0.EngagementInsights},!t&&h.createElement(y.yeS,{alignment:"center",isSpread:!0,className:iC.Z.sticky},h.createElement(y.xvT,{variant:"title"},"Engagement Insights"),h.createElement(y.hU,{altText:"Close",icon:h.createElement(id.G,null),onClick:e})),z&&l&&!w&&h.createElement("div",{className:"mb:medium"},h.createElement(iK,{onClick:()=>{c(!1),iW(),(0,iy.h$)()}})),h.createElement("div",{className:iC.Z.slideableContainer,ref:i},h.createElement("section",{className:iC.Z.slideable},h.createElement(y.LZC,{top:"medium"}),h.createElement(iR,null),h.createElement(y.LZC,{top:"small"}),h.createElement("ul",{className:s()(iC.Z.viewsMetadata,{[iC.Z.partial]:!z})},h.createElement(h.Fragment,null,h.createElement(iZ,{total:b}),h.createElement(il.Z,{name:n_.L7},h.createElement(ij,{completionPercentAvg:S,trackedViewerCount:x,totalViewerCount:k})),f&&h.createElement(il.Z,{name:n_.L7},h.createElement(iH,{ctaConversionPercent:T})))),h.createElement(iJ,{viewers:O,totalViewerCount:k,onViewerClick:d,hasEngagementInsights:w,hasNextPage:D??!1,paginatedViewersLoading:N,fetchMoreRef:r}),!O.length&&h.createElement(y.aNw,null)),F&&h.createElement(iT,{viewer:F,onBack:p,skipAnimation:void 0===B,inActivitySidebar:t})))))},iU=()=>{let{video:{owner:{displayName:e}}}=(0,u.dPl)();return h.createElement(y.W20,{paddingY:"20vh",style:{textAlign:"center"}},h.createElement("img",{alt:"A Loom user is pointing a finger upwards to a video",width:"140px",height:"140px",src:ig,loading:"lazy"}),h.createElement(y.LZC,{bottom:3}),h.createElement(y.xvT,{fontWeight:"bold",size:"body-lg"},"No views... yet"),h.createElement(y.LZC,{top:1,bottom:2},h.createElement(y.xvT,{fontWeight:"book",color:"bodyDimmed"},`Be the first to watch ${e}'s video`)))},iZ=({total:e})=>h.createElement("li",{className:"bgc:blurpleMedium"},h.createElement(y.xvT,{fontWeight:"bold",color:"grey8"},"Total video views"),h.createElement(y.xvT,{size:"heading-md",fontWeight:"bold",color:"grey8"},e)),ij=({completionPercentAvg:e,trackedViewerCount:t,totalViewerCount:n})=>h.createElement("li",{className:s()("bgc:blueLight",{[iC.Z.disabled]:!e})},h.createElement(y.ggW,{gap:"xsmall",autoFlow:"row"},h.createElement(y.xvT,{fontWeight:"bold",color:"grey8"},"Average Completion Rate"),h.createElement(iY,{trackedViewerCount:t,totalViewerCount:n,source:"completion rate"})),h.createElement(iq,{percent:e})),iH=({ctaConversionPercent:e})=>h.createElement("li",{className:s()("bgc:yellowLight",{[iC.Z.disabled]:!e})},h.createElement(y.ggW,{gap:"xsmall",autoFlow:"row"},h.createElement(y.xvT,{fontWeight:"bold",color:"grey8"},"Call-to-Action Conversion")),h.createElement(iq,{percent:e})),iG=({href:e,source:t})=>h.createElement(y.ua7,{content:"Engagement for this video is only tracked since your upgrade to Business or Enterprise.",placement:"topCenter"},h.createElement("a",{href:e,className:iC.Z.infoIcon,onClick:()=>(0,iy.AE)({source:t}),target:"_blank",rel:"noopener noreferrer"},h.createElement(eO.M,null))),iY=({trackedViewerCount:e,totalViewerCount:t,source:n})=>{if(e===t||!e||!t)return null;let a=e>t?e:t,i=e>t?t:e;return h.createElement("div",{className:"flex items:center"},h.createElement(y.xvT,{size:"body-sm",color:"grey8"},"Based on ",i," of ",a," viewers"),h.createElement(iG,{href:tM.NJ,source:n}))},iK=({onClick:e})=>h.createElement(y.W20,{backgroundColor:"backgroundSecondary",radius:"medium",padding:"medium"},h.createElement(y.xvT,{fontWeight:"bold",className:"mb:medium"},"This video includes partially tracked data."),h.createElement(y.LZC,{bottom:"medium"},h.createElement(y.xvT,null,"Engagement is only tracked after upgrading to Business or Enterprise.")),h.createElement(y.xMy,{alignment:"centerRight"},h.createElement(y.zxk,{variant:"primary",onClick:e},"Got it"))),iq=({percent:e})=>h.createElement(y.xvT,{size:"heading-md",fontWeight:"bold",color:"grey8"},"number"==typeof e?i$(e):"--"),iJ=({viewers:e,totalViewerCount:t,onViewerClick:n,hasEngagementInsights:a,hasNextPage:i,paginatedViewersLoading:o,fetchMoreRef:r})=>h.createElement("div",{className:iC.Z.viewers},h.createElement(y.xvT,{fontWeight:"bold",size:"body-lg",className:"mb:small"},`${t} ${nc()("Viewers",t)}`),e.map(e=>h.createElement("div",{key:e.user.id,className:a?s()(iC.Z.card):"overflow:hidden",onClick:a?()=>n(e):void 0},h.createElement(ib.Dg,{user:e.user,events:e.events}))),(i||o)&&h.createElement(h.Fragment,null,h.createElement("div",{ref:r}),h.createElement(i_,{rowCount:3}))),iX=e=>h.createElement(K.$,{feature:X.L0.EngagementInsights,errorType:q.s.SILENT,additionalLoggingValues:{version:"views panel"}},h.createElement(iM,{...e}));var iQ=n(81670);let i0=(0,tX.r)(()=>n.e(4960).then(n.bind(n,74960)).then(e=>({default:e.EditTab}))),i1=e=>h.createElement(h.Suspense,{fallback:null},h.createElement(i0,{...e})),i2=(0,tX.r)(()=>Promise.all([n.e(5844),n.e(6097)]).then(n.bind(n,90031))),i3=e=>h.createElement(h.Suspense,{fallback:null},h.createElement(i2,{...e}));var i5=n(34043),i4={shortcutWrapper:"resizer_shortcutWrapper_1Kw",resizeBarContainer:"resizer_resizeBarContainer_3oR",resizeBar:"resizer_resizeBar_2Sx",highlight:"resizer_highlight_fUz",tooltipWrapper:"resizer_tooltipWrapper_3lN",showTooltipWrapper:"resizer_showTooltipWrapper_Whw"};let i6=()=>h.createElement(y._MZ,null,h.createElement(y.W20,{paddingX:"xsmall"},h.createElement(y.ggW,{autoFlow:"row"},h.createElement(y.ggW,{gap:"xsmall"},h.createElement(y.xvT,{size:"body-sm",fontWeight:"bold"},"Drag"),h.createElement(y.xvT,{size:"body-sm"},"to resize")),h.createElement(y.ggW,{gap:"xsmall"},h.createElement(y.xvT,{size:"body-sm",fontWeight:"bold"},"Click"),h.createElement(y.xvT,{size:"body-sm"},"to collapse"),h.createElement(y.W20,{className:i4.shortcutWrapper},h.createElement(y.xMy,{alignment:"center"},h.createElement(y.xvT,{size:"body-sm",fontWeight:"bold",color:"grey3"},"T"))))))),i7=({setWidth:e,disabled:t})=>{let[n,a]=(0,h.useState)(!1),[i,o]=(0,h.useState)(0),[r,l]=(0,h.useState)(!1),c=ot(),{hasMousePosition:d,resetMousePosition:m,handleMouseEvent:u,trigger:g}=(0,ep.md)(),{layerProps:p,renderLayer:v}=(0,ep.sJ)({isOpen:d,onOutsideClick:m,trigger:g,placement:"right-center",triggerOffset:8});p.style={...p.style,zIndex:iQ.T.RESIZER};let f=(0,h.useCallback)(t=>{if(n){t.preventDefault();let n=window.innerWidth-t.clientX;if(eI.LB<n&&n<eI.xN){let t=eI.oh;t-eI.j_<n&&n<t+eI.j_?e(t):e(n)}else n<eI.LB?e(eI.LB):eI.xN<n&&e(eI.xN)}},[n,e]);return(0,h.useEffect)(()=>{document.addEventListener("mousemove",f,!1),document.addEventListener("mouseup",()=>{document.removeEventListener("mousemove",f,!1),a(!1)},!1)},[n,f]),(0,h.useEffect)(()=>{let e=document.getElementById("container");e&&(n?e.style.cursor="col-resize":e.style.cursor="unset")},[n]),t?h.createElement(h.Fragment,null):h.createElement("div",{className:i4.resizeBarContainer,style:{zIndex:iQ.T.RESIZER},onMouseDown:e=>{o(e.timeStamp),m(),a(!0)},onMouseUp:e=>{e.timeStamp-i<200&&(c(!1),l(!1))},onMouseEnter:e=>{n?l(!1):(u(e),l(!0))},onMouseLeave:()=>{m(),l(!1)}},h.createElement("div",{className:s()(i4.resizeBar,r||n?i4.highlight:void 0)}),v(h.createElement("div",{...p,className:s()(i4.tooltipWrapper,d?i4.showTooltipWrapper:void 0)},h.createElement(i6,null))))},i8=()=>{let{video:{organizationId:e,id:t}}=(0,u.dPl)(),n=(0,t4.p$)(e),a=(0,t2.l)(t);return n||a},i9=()=>{let{video:{currentUserCanEdit:e,showAnalytics:t}}=(0,u.dPl)();return i8()&&(e||t)},oe=()=>{let{video:{currentUserCanEdit:e}}=(0,u.dPl)(),t=(0,eR.MS)();return e&&t},ot=()=>{let e=(0,E.I0)(),t=(0,eR.ag)(`(max-width: ${i.U2}px)`),n=(0,E.v9)(Q.F);return(0,h.useCallback)(a=>{if(t)return;e((0,n0.XU)(!1));let i=!a;e((0,it.zn)(i)),e((0,n0.Eu)(i)),(0,io.Ly)("theaterMode",i),i&&n&&e((0,ia.Z)())},[e,t,n])},on=()=>{let e=(0,E.I0)(),{video:{id:t}}=(0,u.dPl)(),n=(0,E.v9)(eV.RN),a=(0,h.useCallback)(a=>{null!=n&&ey.track(o.NRv,{primary_navigation_item:a,video_id:t}),e((0,n0.Yi)(a))},[e,n,t]);return oa({onTab:n,setOnTab:a}),{onTab:n,setOnTab:a}},oa=({onTab:e,setOnTab:t})=>{let{video:{id:n,commentsEnabled:a,views:i,description:o}}=(0,u.dPl)(),r=(0,m.O)(n),{loading:l,value:s}=(0,ir.h)(a9.aM.ALLOWS_AI),c=(0,E.v9)(eV.Pw),d=oe(),g=(0,eR.MS)(),p=(i?.distinct??0)>0,v=r&&(s||o),f=d&&g&&(c||!p);(0,h.useEffect)(()=>{e||l||t(v?eI.YS.Recap:f?eI.YS.Edit:a?eI.YS.Activity:eI.YS.Transcript)},[v,f,a,e,t,l])},oi=()=>{let{isCollapsed:e}=(0,d.m)();return!e},oo=()=>{let{onTab:e,setOnTab:t}=on(),n=ot(),{isCollapsed:a}=(0,d.m)();return (i=eI.YS.Activity)=>{e!==i&&t(i),a&&n(!0)}},or=({switchToTab:e})=>{let t=(0,u.q9z)(),n=t>9?"9+":`${t}`;return h.createElement("div",{id:"collapsed-sidebar-button-comment-icon"},h.createElement(y.hU,{altText:"Activity",className:"collapsed-sidebar-button-icon",icon:h.createElement(a6.j,null),onClick:()=>e(eI.YS.Activity)}),t>0&&h.createElement("span",{id:"collapsed-sidebar-button-comment-icon-number"},n))},ol=()=>{let e=ot();return h.createElement("div",{className:"toggleSidebarButton"},h.createElement(y.ua7,{isInline:!1,content:"Hide sidebar",shortcut:["T"],placement:"rightCenter"},h.createElement(y.hU,{altText:"Hide sidebar",icon:h.createElement(a4.a,null),onClick:()=>{e(!1)}})))},os=({tabName:e})=>{let{video:{commentsEnabled:t,currentUserCanEdit:n,showAnalytics:a,showTranscriptToViewer:i}}=(0,u.dPl)(),o=!1;if(n)switch(e){case eI.YS.Edit:o=!1;break;case eI.YS.Activity:o=!t;break;case eI.YS.Transcript:o=!i;break;case eI.YS.Views:o=!a}return o?h.createElement(y.ua7,{maxWidth:"220px",triggerOffset:8,content:"This tab is only visible to editors. To share with viewers update your video settings.",placement:"bottomCenter"},h.createElement(y.JO$,{className:"tab-tooltip-icon",altText:"Information",color:"bodyDimmed",size:"1rem",icon:h.createElement(eO.M,null)})):null},oc=({tabName:e,isActive:t,handleClick:n})=>h.createElement(y.OK9,{isActive:t,className:t?"active-tab":void 0,onClick:n,"data-testid":`sidebar-tab-${e}`},h.createElement(()=>h.createElement("div",null,e,t?h.createElement(os,{tabName:e}):null),null)),od=({tabsToShow:e,isViewerSelected:t,onEditSubpage:n,setOnEditSubpage:a})=>{let{onTab:i}=on();return h.createElement(h.Fragment,null,e.includes(eI.YS.Recap)&&h.createElement(tJ,{name:"Activity Transcript Sidebar Recap",feature:X.L0.RecapTab,tabName:"Recap"},i===eI.YS.Recap?h.createElement(m.N,null):null),e.includes(eI.YS.Edit)&&h.createElement(tJ,{name:"Activity Transcript Sidebar Edit",feature:X.L0.TranscriptEdit,tabName:"Editor"},i===eI.YS.Edit&&h.createElement("div",{style:{height:n?eI.IB:"auto"}},h.createElement(og,{editSubtab:n,setEditSubtab:a}))),e.includes(eI.YS.Activity)&&h.createElement(tJ,{name:"Activity Transcript Sidebar Activity",feature:X.L0.ActivityTab,tabName:"Activity"},h.createElement(y.W20,{style:i===eI.YS.Activity?{}:{display:"none"}},h.createElement(tY,null)," ")),e.includes(eI.YS.Transcript)&&h.createElement(tJ,{name:"Activity Transcript Sidebar Transcript",feature:X.L0.TranscriptEdit,tabName:"Transcript"},i==eI.YS.Transcript&&h.createElement(y.LZC,{left:1,right:1},h.createElement("div",{style:{height:eI.Pi}},h.createElement(t0,null)))),e.includes(eI.YS.Views)&&h.createElement(h.Fragment,null,i===eI.YS.Views&&h.createElement("div",null,h.createElement(tJ,{name:"Activity Transcript Sidebar Viewer Insights",feature:X.L0.EngagementInsights,tabName:"Views"},h.createElement(y.LZC,{left:3,right:3},t?h.createElement(y.LZC,{top:3},h.createElement(iX,{inActivitySidebar:!0})):h.createElement(iX,{inActivitySidebar:!0}))))),e.includes(eI.YS.Settings)&&h.createElement(tJ,{name:"Activity Transcript Sidebar Settings",feature:X.L0.VideoSettings,tabName:"Settings"},h.createElement("div",{style:i===eI.YS.Settings?{}:{display:"none"}},h.createElement(i5.Y,{goBackToEditPage:()=>a(null),pageTitle:"",settingsIsInEditTab:!0}))))},om=()=>h.createElement(y.W20,{padding:3},h.createElement(y.LZC,{bottom:1},h.createElement(y.W20,{width:20},h.createElement(y.N2B,{size:"heading-md",lines:1}))),h.createElement(y.N2B,{size:"heading-lg",lines:1}),h.createElement(y.N2B,{size:"heading-lg",lines:1}),h.createElement(y.LZC,{top:2,bottom:1},h.createElement(y.W20,{width:20},h.createElement(y.N2B,{size:"heading-md",lines:1}))),h.createElement(y.N2B,{size:"heading-lg",lines:1}),h.createElement(y.N2B,{size:"heading-lg",lines:1}),h.createElement(y.N2B,{size:"heading-lg",lines:1}),h.createElement(y.N2B,{size:"heading-lg",lines:1}),h.createElement(y.N2B,{size:"heading-lg",lines:1}),h.createElement(y.N2B,{size:"heading-lg",lines:1})),ou=({editSubtab:e,setEditSubtab:t})=>{let{video:{modelId:n}}=(0,u.dPl)(),a=(0,t1.W9)(nE.SMQ),i=(0,t1.Mr)({flag:nE.dKZ,activationValues:nE.aED}),{featureLoadedRef:r}=(0,J.kX)(),l=(0,E.I0)();if(void 0===a||void 0===i)return h.createElement("div",{ref:r},h.createElement(om,null));if(i){let a=e===aK.L.Link;return a?h.createElement(aJ,{onClose:()=>t(null)}):h.createElement(aG,{onAddLinkClick:()=>{l((0,a2.XJ)()),t(aK.L.Link),ey.track(o.HLl,{id:n})}})}return a?h.createElement("div",{ref:r},h.createElement(i3,{currentPage:e,onClickEditTool:t})):h.createElement("div",{ref:r},h.createElement(i1,{currentPage:e,onClickEditTool:t}))},og=e=>h.createElement(K.$,{feature:X.L0.EditTab,errorType:q.s.DEFAULT},h.createElement(ou,{...e})),op=()=>{let{video:{id:e}}=(0,u.dPl)(),t=(0,u.DWr)(e),n=oe(),a=ot(),i=i9(),{isStacked:o,isCollapsed:r}=(0,d.m)(),{onTab:l,setOnTab:c}=on(),m=t7()(e=>{a(!0),l!==e&&c(e)},100);return h.createElement(y.W20,{radius:"full",marginX:2,className:s()("collapsed-sidebar-buttons",!t&&"prePlay",t&&"postPlay",!(!r||o)&&"isVisible")},h.createElement(y.LZC,{top:2,bottom:2},h.createElement(y.ggW,{gap:2,autoFlow:"row"},n&&h.createElement(y.ua7,{placement:"leftCenter",content:"Edit"},h.createElement(y.hU,{altText:"Edit",className:"collapsed-sidebar-button-icon",icon:h.createElement(tf.b,null),onClick:()=>m(eI.YS.Edit)})),h.createElement(y.ua7,{placement:"leftCenter",content:"Activity"},h.createElement(or,{switchToTab:m})),h.createElement(y.ua7,{placement:"leftCenter",content:"Transcript"},h.createElement(y.hU,{altText:"Transcript",className:"collapsed-sidebar-button-icon",icon:h.createElement(a7.G,null),onClick:()=>m(eI.YS.Transcript)})),i&&h.createElement(y.ua7,{placement:"leftCenter",content:"Views"},h.createElement(y.hU,{altText:"Views",className:"collapsed-sidebar-button-icon",icon:h.createElement(a5.e,null),onClick:()=>m(eI.YS.Views)})))))},ov=({responsiveWidth:e,setIsResizerDisabled:t})=>{let{video:{id:n,showTranscriptToViewer:a,description:i}}=(0,u.dPl)(),o=(0,E.I0)(),{isStacked:r,isCollapsed:l}=(0,d.m)(),{onTab:p,setOnTab:v}=on(),f=l?0:e||eI.oh,_=(0,E.v9)(Q.F),b=(0,E.v9)(Q.R),k=i9(),w=oe(),C=(0,m.O)(n),S=(0,t5.c)(),{showDefaultSettings:T}=(0,E.v9)(eV.z8),x=(0,g.K)(),I=(0,c.useCurrentUserSelector)(e=>e.aiAccess,null),A=Object.values(I||{}).some(e=>e),N=(0,t3.e)();(0,t1.Mr)({flag:nE.Qh4,activationValues:["variant","variant-excluded"],eligibilityPreCheckFunction:()=>A||N?{pass:!0}:{pass:!1,failReason:"Users who don't have access to AI will not see the picture in scripture."}});let[L,P]=(0,h.useState)(null),{isActive:D}=(0,t8.V)(),R=(0,eL.jS)(ie._G),[V,W]=(0,h.useState)(!1),O=(0,t1.W9)(nE.wBK),F=(0,t1.W9)(nE.CCQ),{data:B}=(0,tq.Bm)({}),z=!!B?.me?.calendars?.length,$=(0,t4.nw)(),M=F&&O&&!z&&$!=a8.b3,U=(0,E.v9)(ii.CX);(0,h.useEffect)(()=>{U&&(o((0,a2.lf)()),P(aK.L.Thumbnail)),U||P(null),T&&(P(aK.L.Settings),setTimeout(()=>{o((0,n0.oi)(!1))})),R===eI.YS.Edit&&v(eI.YS.Edit)},[T,o,U,R,v]);let Z=[];C&&(S||i)&&Z.push(eI.YS.Recap),w?Z.push(eI.YS.Edit):p===eI.YS.Edit&&(P(null),v(eI.YS.Activity)),Z.push(eI.YS.Activity),(w||a)&&!x&&Z.push(eI.YS.Transcript),k&&Z.push(eI.YS.Views),w&&Z.push(eI.YS.Settings),(0,h.useEffect)(()=>{t&&t(L||b)},[L,b,t]),(0,h.useEffect)(()=>{_&&p!==eI.YS.Views&&v(eI.YS.Views)},[_]),(0,h.useEffect)(()=>{D&&v(eI.YS.Edit)},[D,v]),(0,h.useEffect)(()=>{(p===eI.YS.Views&&!_||p!==eI.YS.Views&&_)&&o((0,ia.Z)())},[p,o]);let j=!r&&!L&&!b;return h.createElement(y.W20,{borderSide:"top",borderWidth:z||!O?"2px":"0px",borderColor:"backgroundSecondary",className:s()("activitySidebarContainer",{collapsed:l,stacked:r,"sidebar-scrolled":V}),id:"activity-sidebar-container",width:r?"unset":`${f}px`,style:{overflowY:r?"inherit":"auto",overflowX:"hidden"},onScroll:e=>{W(e.target.scrollTop>0)}},h.createElement(y.W20,{backgroundColor:"background",style:{position:"sticky",top:0},zIndex:iQ.T.SIDEBAR},M&&h.createElement(a1,null),!b&&!L&&h.createElement("div",{id:"right-panel-tabs"},h.createElement(y.LZC,{top:2,left:3},h.createElement(y.mQc,null,Z.map(e=>h.createElement(oc,{key:e,tabName:e,isActive:e===p,handleClick:()=>v(e)}))))),j&&h.createElement(ol,null)),h.createElement(od,{tabsToShow:Z,isViewerSelected:b,onEditSubpage:L,setOnEditSubpage:P}))},of=(0,h.forwardRef)(({useDefaultWidth:e=!1},t)=>{let n=t?.current,a=(0,io.bM)(r.BT),i=!a||a<eI.LB?eI.oh:a,[o,l]=(0,h.useState)(i),{isStacked:s,isCollapsed:c}=(0,d.m)(),[m,u]=(0,h.useState)(0),[g,p]=(0,h.useState)(!1),[v,f]=(0,h.useState)(!1),E=t7()(e=>{(0,io.Ly)(r.BT,e)},300);return(0,h.useEffect)(()=>{e||E(o)},[o,E,e]),(0,h.useEffect)(()=>{l(e?eI.oh:i)},[e]),(0,h.useEffect)(()=>{let e=new a3.Z(t7()(e=>{let t=e[0].target.clientWidth;u(t)},100));return n&&e.observe(n),()=>e.disconnect()},[n,t]),(0,h.useEffect)(()=>{c?p(!1):g||m!==o||p(!0)},[c,m,g,o]),h.createElement("div",{ref:t,className:"rightPanelWrapper"},h.createElement(i7,{setWidth:l,disabled:s||c||v}),h.createElement(ov,{responsiveWidth:o,setIsResizerDisabled:f}))});of.displayName="RightPanelWithResizer"},43451:function(e,t,n){"use strict";n.d(t,{S:function(){return r}});var a=n(66420),i=n(14728),o={rightPanelButton:"right-panel-button_rightPanelButton_2DE",newRightPanelButton:"right-panel-button_newRightPanelButton_3-D"};let r=({onClick:e,buttonIcon:t,buttonText:n,onMouseEnter:r,isNewStyle:l})=>a.createElement(i.zxk,{className:l?o.newRightPanelButton:o.rightPanelButton,size:"small",onClick:e,onMouseEnter:r},a.createElement(i.ggW,{gap:"xsmall"},a.createElement(i.JO$,{icon:t,size:2}),a.createElement(i.xvT,{fontWeight:"bold",size:"body-sm"},n)))},26083:function(e,t,n){"use strict";n.d(t,{O:function(){return c}});var a=n(67121),i=n(66420),o=n(14728),r=n(3894);let l=a.Z.div`
  z-index: 1; // to go above the non-image avatar elements
  padding: 2px; // visible border
  margin-left: -8px; // overlap with previous
  border-radius: var(--lns-radius-full);
  background-color: var(--lns-color-background);
  position: relative;
  transition: background-color 0.3s ease 0s;

  // HACK(tatiana, avatar-container): Pseudo element is necessary to prevent visual bug given limitations of the colours we're using: https://www.loom.com/share/14601cc42a9a45688b8b84df2648011c
  &[data-style-id='avatar-container']::before,
  &[data-style-id='avatar-container']::after,
  &[data-style-id='task-responses']::after {
    content: '';
    display: block;
    width: 100%;
    height: 100%;
    position: absolute;
    top: 0;
    left: 0;
    z-index: -4;
    background-color: var(--lns-color-backgroundSecondary);
    border-radius: inherit;
    transition: inherit;
  }

  ${e=>e.size&&`width: ${8*e.size+4}px;
  height: ${8*e.size+4}px;`}
`,s=({count:e,size:t})=>i.createElement(l,{size:t},i.createElement(o.qEK,{size:t,letter:`+${Math.min(e,99)}`})),c=({avatars:e=[],size:t=3,dataStyleId:n})=>{if(0===e.length)return null;let a=e.length,o=a>3;return o&&(e=e.slice(0,2)),i.createElement("div",{className:"flex ml:small mr:small"},e.map((e,a)=>e?i.createElement(l,{key:a,size:t,"data-style-id":n},i.createElement(r.uV,{size:t,avatar:e.thumb,name:e.name})):null),o?i.createElement(s,{count:a-2,size:t}):null)}},25646:function(e,t,n){"use strict";n.d(t,{uB:function(){return l}});var a=n(28668),i=n(84515);let o={},r=(0,a.Ps)`
    query GetPaginatedInsightsForVideo($videoId: ID!, $first: Int!, $after: String) {
  engagementInsightsSummaryForVideo(videoId: $videoId) {
    id
    paginatedViewers(videoId: $videoId, first: $first, after: $after) {
      pageInfo {
        endCursor
        hasNextPage
      }
      edges {
        node {
          id
          hasWatchSession
          percentCompleted
          cta
          ctaClicks
          trackedViews
          views
          user {
            id
            avatar
            name
            color
            variant
            profileUrl
          }
          events {
            type
            ts
            id
            content
          }
        }
      }
    }
  }
}
    `;function l(e){let t={...o,...e};return i.a(r,t)}},67615:function(e,t,n){"use strict";n.d(t,{p:function(){return a}});let a=(e={total:0})=>{let t=e?.named||[],n=e?.distinct||0,a=t.map(e=>({user:{name:`${e.firstName} ${e.lastName}`,avatar:e?.avatar}})),i=n-a.length;for(let e=0;e<i;e++)a.push({user:{}});return a}},56647:function(e,t,n){"use strict";n.d(t,{O:function(){return i},R:function(){return a}});let a=e=>{let t=(e?.engagementInsightsSummaryForVideo?.paginatedViewers?.edges?.map(e=>e?.node).filter(e=>e&&"EngagementInsightsAggregate"===e.__typename)??[]).map(e=>({...e,commentCount:(e.events||[]).filter(e=>e&&("comment"===e.type||"reply"===e.type)).length,reactionCount:(e.events||[]).filter(e=>e&&"reaction"===e.type).length})),n=e?.engagementInsightsSummaryForVideo?.paginatedViewers?.pageInfo?.endCursor??null,a=e?.engagementInsightsSummaryForVideo?.paginatedViewers?.pageInfo?.hasNextPage??!1;return{viewersWithEngagements:t,endCursor:n,hasNextPage:a}},i=e=>"EngagementInsightsAggregate"===e.__typename&&"commentCount"in e&&"reactionCount"in e},78091:function(e,t,n){"use strict";var a=n(20377),i=n(70643),o=n(25872),r=n(66420),l=n(23217),s=n(7910),c=n(71022),d=n(14728),m=n(86592),u=n(64197),g=n(91598),p=n(15786),v=n(11940),f=n(21722),h=n(28729),E=n(2677),_=n(72931),y=n(49003);t.Z=function({isSignUp:e,isSingleAuthPage:t,afterAuthCallback:n}){let b=(0,o.l)(),k="mobile_ios"===b.get("app_source"),{locale:w,localeRequiresMarketingOptIn:C,isConsentGranted:S}=(0,i.k)(e=>({locale:e.locale,localeRequiresMarketingOptIn:e.localeRequiresMarketingOptIn,isConsentGranted:e.isPromotionalEmailBoxChecked})),T={},x=b.get("ak"),I=(0,s.jS)("app_source")||f._v,A=t=>{let i=(0,a.H)(S,w,C);T={...x&&{ak:x},...T,fromWebSignup:!0,hasPromotionalCheckboxLoaded:null!==i,authURL:window.location.href},i&&(T={...T,...i}),l.fi(t,T,n),E.track(_.zgv,{provider:t,isSignUp:e})},N="Sign up with";return t?N="Continue with":e||(N="Sign in with"),r.createElement(d.ggW,{columns:"1fr",gap:"small",justifyContent:"stretch",width:"100%"},r.createElement(d.zxk,{"aria-label":`${N} Google`,icon:r.createElement(g._,null),hasFullWidth:!0,size:"large","data-testid":`googleOAuthButton_${(0,c.Z)()}`,onClick:()=>A(h.Tr)},N," Google"),e&&k?r.createElement(d.zxk,{icon:r.createElement(u.n,null),"aria-label":`${N} Apple`,hasFullWidth:!0,size:"large","data-testid":`appleOAuthButton_${(0,c.Z)()}`,onClick:()=>A(h.dS)},N," Apple"):null,e?null:r.createElement(r.Fragment,null,r.createElement(d.zxk,{"aria-label":`${N} Slack`,icon:r.createElement(v.w,null),hasFullWidth:!0,size:"large","data-testid":`slackOAuthButton_${(0,c.Z)()}`,onClick:()=>A(h.nL)},N," Slack"),r.createElement(d.zxk,{icon:r.createElement(u.n,null),"aria-label":`${N} Apple`,hasFullWidth:!0,size:"large","data-testid":`appleOAuthButton_${(0,c.Z)()}`,onClick:()=>A(h.dS)},N," Apple"),r.createElement(d.zxk,{"aria-label":`${N} Outlook`,icon:r.createElement(p.h,null),hasFullWidth:!0,size:"large","data-testid":`windowsOAuthButton_${(0,c.Z)()}`,onClick:()=>A(h.Bp)},N," Outlook"),r.createElement(d.zxk,{"aria-label":`${N} Single Sign-on`,hasFullWidth:!0,size:"large","data-testid":`ssoSignInButton_${(0,c.Z)()}`,href:y.zO,onClick:()=>{let e=(0,s.jS)("gi"),t=(0,s.jS)("gid"),n=(0,s.jS)("redirect_url"),a=(0,s.jS)("redirect_after"),i={...e&&{gi:e},...t&&{gid:t},...n&&{redirect_url:n},...a&&{redirect_after:a},...x&&{ak:x},app_source:I};window.location.href=`${y.zO}?${new URLSearchParams(i).toString()}`},icon:r.createElement(m.l,null)},N," SSO")))}},97958:function(e,t,n){"use strict";n.d(t,{$s:function(){return _},wq:function(){return E},Pg:function(){return h},uE:function(){return f}});var a=n(49003),i=n(89536),o=n(67591),r=n(66420),l=n(10996),s=n(6621),c=n(5902),d=n(28668),m=n(84515);let u={},g=(0,d.Ps)`
    query GetUserHasAccessToPersonalizedAudio {
  getUserHasAccessToPersonalizedAudio {
    ... on GetUserHasAccessToPersonalizedAudioPayload {
      hasAccess
    }
  }
}
    `,p={},v=(0,d.Ps)`
    query GetRemainingPersonalizedVideos($folderId: ID!) {
  personalizedVideosInProgress(folderId: $folderId) {
    ... on CountPayload {
      count
      hasFailed
    }
    ... on GenericError {
      message
    }
    __typename
  }
}
    `;function f(){let e=(0,i.Mr)({flag:s.XAg,activationValues:[!0]}),t=(0,i.Mr)({flag:s.S0G,activationValues:["variant"]});return(e||t)??!1}function h(){let e=(0,o.c)(),{data:t,loading:n}=function(e){let t={...u,...e};return m.a(g,t)}({skip:!e});return!!e&&!n&&!!(t?.getUserHasAccessToPersonalizedAudio?.__typename==="GetUserHasAccessToPersonalizedAudioPayload"&&t.getUserHasAccessToPersonalizedAudio.hasAccess)}function E({folder:e}){let[t,n]=(0,r.useState)(!1),[a,i]=(0,r.useState)(!1),[o,s]=(0,r.useState)(null),[c,d]=(0,r.useState)(!1),u=(0,r.useRef)(!1),g=!!e?.personalizedVideo,f=e?.id,h=(0,l.y1)(e=>d(e),1e3),{data:E,startPolling:_,stopPolling:y}=function(e){let t={...p,...e};return m.a(v,t)}({...g&&f&&{variables:{folderId:f}},skip:!g}),b=null,k=!1;E?.personalizedVideosInProgress&&"CountPayload"===E.personalizedVideosInProgress.__typename&&(b=E?.personalizedVideosInProgress.count,k=E?.personalizedVideosInProgress.hasFailed??!1),(0,r.useEffect)(()=>{b&&b>0&&!t&&!a&&(n(!0),_(1e3),u.current=!0),0===b&&(n(!1),y(),u.current||(d(!0),u.current=!0))},[b,_,y,t,a]),(0,r.useEffect)(()=>{o!==b&&(s(b),h(!0))},[h,b,o]);let w=k;return{needsRefetch:c,onRefetchTriggered:(0,r.useCallback)(()=>d(!1),[]),totalVideosMissing:b,setUserClosedVariablesVideosLoading:i,showVariablesVideosLoading:t,setShowVariablesVideosLoading:n,remainingVideosFailedToGenerate:w}}(0,d.Ps)`
    query getTotalVideosForUser($userId: ID!) {
  getTotalVideosCountByUser(userId: $userId) {
    __typename
    ... on TotalVideosCountByUserPayload {
      videos_count
    }
    ... on Error {
      message
    }
  }
}
    `;let _=e=>{window.location.href=`${a.OA}/edit/${e}?${c.Uu}=true`}},58329:function(e,t,n){"use strict";n.d(t,{v:function(){return a}});let a="calc(var(--header-height) + var(--banner-height))"},62852:function(e,t,n){"use strict";n.d(t,{H:function(){return i},R:function(){return a}});let a="keyup",i="keydown"},73362:function(e,t,n){"use strict";n.d(t,{b:function(){return i}});var a,i=((a=i||{}).ENGAGEMENT_BAR="engagement-bar",a.VIDEO_END_SCREEN="video-end-screen",a.SIDEBAR_ENTRY_POINT="sidebar-entry-point",a)},78783:function(e,t,n){"use strict";n.d(t,{Z:function(){return m}});var a=n(26998),i=n(89536),o=n(84435),r=n(56977),l=n(6621),s=n(10768),c=n(73671),d=n(18807);function m(e){let t=(0,a.useCurrentUserSelector)(e=>e.role,void 0),{isFetching:n,pass:m}=function(){let{isFetching:e,hasAiAccess:t}=(0,o.x)(),{selectedWorkspace:n,isFetching:a}=(0,r.mf)();if(e||a)return{isFetching:!0,pass:!1};if(!t)return{isFetching:!1,pass:!1};let i=n?.type===d.zF;return n?.organization_properties?.salesSupportType===s.$v||i?{isFetching:!1,pass:!1}:{isFetching:!1,pass:!0}}(),u=m||"admin"===t,[g]=(0,i.Mr)({flag:c.tF.EXP_AI_WORKFLOWS_FOR_VIEWERS,controlType:c.C2.STATSIG_EXPERIMENT,activationValues:[l.c7r],returnAssignmentName:!0,eligibilityPreCheckFunction:()=>u?{pass:u}:{pass:u,failReason:"Not eligible for ai workflows for viewers"}}),p=!!e?.currentUserCanEdit,v=n||void 0===g;return{isEnabled:!v&&g&&!p,isLoading:v}}},60244:function(e,t,n){"use strict";n.d(t,{l:function(){return m}});var a=n(37121),i=n(26998),o=n(28668),r=n(84515);let l={},s=(0,o.Ps)`
    query HasAnonymousCreatorPrivileges($videoId: ID!) {
  result: hasAnonymousCreatorPrivilegesQuery(videoId: $videoId) {
    ... on hasAnonymousCreatorPrivilegesPayload {
      hasPrivileges
    }
  }
}
    `;var c=n(7910);let d=e=>!!(e&&e.result&&"UserAlreadyLoggedInError"!==e.result.__typename&&"GenericError"!==e.result.__typename&&e.result?.hasPrivileges)&&e.result.hasPrivileges,m=e=>{let t=(0,i.useIsCurrentUserLoggedIn)(),n=!!(a.r8&&(0,c.jS)("anon-creator")),{data:o}=function(e){let t={...l,...e};return r.a(s,t)}({variables:{...e?{videoId:e}:{videoId:""}},skip:!e||t||n}),m=d(o);return!t&&(!!n||m)}},18541:function(e,t,n){"use strict";n.d(t,{Z:function(){return r}});var a=n(54673),i=n.n(a),o=n(66420);function r(e,t){let[n,a]=o.useState(!1),r=t?.successDuration,l=t?.format||"text/plain";return o.useEffect(()=>{if(n&&r){let e=setTimeout(()=>{a(!1)},r);return()=>{clearTimeout(e)}}},[n,r]),[n,()=>{let t=i()(e,{format:l});a(t)}]}},92551:function(e,t,n){"use strict";n.d(t,{x:function(){return r}});var a=n(89895),i=n(6621),o=n(96367);let r=()=>{let e=(0,a.v9)(e=>e?.feature_flags[i._Vl]?.value);return!!o.Q8.includes(e)}},24097:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var a=n(66420);function i(){let e=(0,a.useRef)(null),[t,n]=(0,a.useState)(!1);return(0,a.useEffect)(()=>{let t=new IntersectionObserver(([e])=>{n(e.isIntersecting)},{threshold:1});e.current&&t.observe(e.current)},[e]),[e,t]}},3891:function(e,t,n){"use strict";n.d(t,{D:function(){return i}});var a=n(66420);function i(e){let t=(0,a.useRef)();return(0,a.useEffect)(()=>{t.current=e}),t.current}},58119:function(e,t,n){"use strict";n.d(t,{a:function(){return r}});var a=n(35692),i=n(72357),o=n(85578);let r=()=>{let{value:e,loading:t}=(0,i.B)(o.BR.ATLASSIAN_MASTERED_WELCOME_MODAL),n=(0,a.m)();return{shouldShowAtlassianWelcomeModal:!e&&n,loading:t}}},67591:function(e,t,n){"use strict";n.d(t,{c:function(){return o}});var a=n(45218),i=n(20537);function o(){let{loading:e,error:t,value:n}=(0,i.h)(a.aM.ALLOWS_AI);return!t&&!e&&n}},83194:function(e,t,n){"use strict";n.d(t,{LS:function(){return l},N3:function(){return u},T3:function(){return m},_S:function(){return r},jj:function(){return c},l3:function(){return g},mT:function(){return s},oV:function(){return o},yt:function(){return d}});var a,i=n(14728);let o="39rem",r="72rem";var l=((a=l||{})[a.TOKEN=0]="TOKEN",a[a.TOKEN_SELECTED=1]="TOKEN_SELECTED",a[a.ACTIVE_PLAYBACK_TOKEN=2]="ACTIVE_PLAYBACK_TOKEN",a[a.HEADER=800]="HEADER",a[a.POPOVER=900]="POPOVER",a[a.TOUR_CARD=1e3]="TOUR_CARD",a[a.MODAL=1e3]="MODAL",a[a.MODAL_CLOSE_BUTTON=1001]="MODAL_CLOSE_BUTTON",a);let s=48,c="1fr auto",d=10.5*i.bfT,m="magical-ai-gradient",u="[Edit by Transcript]",g="'s"},27493:function(e,t,n){"use strict";n.d(t,{s:function(){return i}});var a=n(83194);let i=e=>{let t=e;return t.endsWith(a.l3)&&(t=t.slice(0,-1*a.l3.length)),t}},57956:function(e,t,n){"use strict";n.d(t,{PG:function(){return d},ax:function(){return m},dE:function(){return o},ip:function(){return l},k9:function(){return c},lF:function(){return s},oC:function(){return r}});var a=n(31727),i=n(29256);let o={[a.T.variable]:i.T7.Variable,[a.T.name]:i.T7.Name,[a.T.companyName]:i.T7.CompanyName},r={[i.T7.Variable]:a.T.variable,[i.T7.Name]:a.T.name,[i.T7.CompanyName]:a.T.companyName},l=50,s=100,c=3,d=2*c,m=100},33600:function(e,t,n){"use strict";n.d(t,{JP:function(){return l},PG:function(){return r},q2:function(){return c}});var a=n(28668),i=n(54670);let o={},r=(0,a.Ps)`
    fragment AudioVariableFromTask on AudioVariable {
  __typename
  id
  taskId
  startTsInOriginalForSentence
  endTsInOriginalForSentence
}
    `,l=(0,a.Ps)`
    fragment TaskStatus on TaskStatusPayload {
  __typename
  id
  status
}
    `,s=(0,a.Ps)`
    subscription TaskStatus($videoId: ID!) {
  taskStatus(videoId: $videoId) {
    ...TaskStatus
    audioVariables {
      ...AudioVariableFromTask
    }
  }
}
    ${l}
${r}`;function c(e){let t={...o,...e};return i.m(s,t)}},39853:function(e,t,n){"use strict";n.d(t,{FC:function(){return y},Qu:function(){return v},Sx:function(){return h},X4:function(){return k},_C:function(){return E},g7:function(){return _},xY:function(){return b},zN:function(){return f}});var a=n(72931),i=n(49003),o=n(27493),r=n(40240),l=n(5902),s=n(43386),c=n(29256),d=n(2677),m=n(75658),u=n(26534),g=n(57956),p=n(33600);let v=(e,t)=>{let n=`${i.OA}/edit/${e}?${l.Uu}=true`;(0,d.track)(a.Go0,{source:t,video_id:e}),window.location.href=n},f=e=>{window.location.href=`${i.OA}${i.v$}/${(0,s.getSlug)(e)}?${l.jp}=${c.at.Audio}`},h=({selectedKeys:e,transcriptTokens:t,wordToTokens:n,deletedTokens:a})=>{if(e.length>1||e.some(e=>e.keysInRange.length>1))return{variableKeys:[...e]};let i=e[0].startKey,o=t[i],r=(0,u.F2)(o.value),l=n.get(r);if(!l||l.length<=1)return{variableKeys:[...e]};let s=new Set(Object.keys(a)),c=[];for(let e of l)s.has(e.key)||c.push({startKey:e.key,endKey:e.key,keysInRange:[e.key]});return{variableKeys:c}},E=({audioVariables:e,timestampsForKeys:t})=>{let n=e.map(e=>({start:e.startTimestamp,end:e.endTimestamp})).sort((e,t)=>e.start-t.start),a=t.sort((e,t)=>e.startTsInSecs-t.startTsInSecs);for(let e of a)if(!n.some(t=>e.startTsInSecs>=t.start&&e.endTsInSecs<=t.end))return!1;return!0},_=e=>{let t=(0,r.J$)().cache,n=t.readFragment({id:t.identify({id:e,__typename:"AudioVariable"}),fragment:p.PG});if(!n)throw Error("Could not find audioVariable in apollo cache.");let a=t.readFragment({id:t.identify({id:n.taskId,__typename:"TaskStatusPayload"}),fragment:p.JP});return{id:n.id,status:a?.status??"sent",startTimestamp:n.startTsInOriginalForSentence??0,endTimestamp:n.endTsInOriginalForSentence??0}},y=({variableKeys:e,transcriptTokens:t})=>{let n=e[0]?e[0].keysInRange:[],a=new Set(n);if(1===n.length)return{stringFromVariableKeys:(0,o.s)(t[n[0]].value),isSelectionOverLimit:!1};let i=n.slice(0,g.PG+1).map(e=>t[e].value).join("");a.size>g.PG&&(i+="...");let r=a.size>g.PG;return{stringFromVariableKeys:i,isSelectionOverLimit:r}},b=(e,t)=>{let n=new Set,a=new Set;return t.forEach(e=>{""!==e.email&&n.add(e.email)}),e.forEach((e,t)=>{""!==e.email&&(n.has(e.email)?a.add(t):n.add(e.email))}),a},k=async e=>{let t=await (0,m.j)(e);if(!t||0===t.length)throw Error("The uploaded file is empty.");let n=t.shift();if(!n||!n.includes("name"))throw Error("The uploaded file must have a column labeled “name”.");let a=n.indexOf("name"),i=n.indexOf("email"),o=[];return t.forEach(e=>{let t=e[a],n=-1!==i?e[i]:"";o.push({name:t,email:n})}),o}},60135:function(e,t,n){"use strict";n.d(t,{a:function(){return a}});let a=(e,t,n)=>null!==t&&null!==n&&e>=t&&e<=n},38227:function(e,t,n){"use strict";n.d(t,{z:function(){return a}});let a=function(e,t,n){return`${e}:${t}:${n}`}},26534:function(e,t,n){"use strict";n.d(t,{Bx:function(){return u},F2:function(){return d},RN:function(){return l},SQ:function(){return s},X5:function(){return c},mq:function(){return m}});var a=n(27493),i=n(38227),o=n(60135);let r=/^[A-Z]/,l=e=>{let t=!0,n=0,i=[],o=new Set;for(let l of e.phrases)for(let e of l.tokens){if("punct"===e.type&&["?","!","."].includes(e.value))t=!0;else if("text"===e.type){let l=(0,a.s)(e.value);!t&&e.value.match(r)&&e.value.length>3&&i.length<3&&!o.has(l)&&(i.push({suggestion:l,index:n}),o.add(l)),t=!1}if(i.length>=3)return i;n++}return i},s=({variableKeys:e,tokenKeyToIndex:t,tokensArray:n})=>e.map(e=>{let a=t[e.startKey],i=t[e.endKey],o=n[a],r=n[i];if(void 0===o.start||null===o.start){let e=a;for(;(void 0===o.start||null===o.start)&&e<n.length;)o=n[e],e++}if(void 0===r.end||null===r.end){let e=i;for(;(void 0===r.end||null===r.end)&&e>=0;)r=n[e],e--}if(void 0===o.start||void 0===r.end||null===o.start||null===r.end)throw Error("Could not find start or end token");return{startTsInSecs:o.start,endTsInSecs:r.end}}),c=({startInSeconds:e,endInSeconds:t,tokensArray:n})=>{let a=n.find(t=>t.start===e),i=a?a.key:null;if(!i)throw Error("Could not find start token key");let o=[i],r=i;if(a&&t!==a.end){let e=n.find(e=>e.end===t),i=e?.key;if(i){r=i;let t=a.index+1;for(;t<=e.index;)o.push(n[t].key),t++}}return{startKey:i,endKey:r,keysInRange:o}},d=e=>{let t=e.replace(/[“”"()]/g,"").replace(/\.{2,}/g,"").replace(/[^a-zA-Z0-9-']+$/,"").replace(RegExp("(?<=\\w)-$"),"").toLowerCase();return(0,a.s)(t)},m=({transcript:e,clipPosition:t})=>{let n={},a={},o=[],r=[],l=0,s=new Map;return e.phrases.forEach((e,c)=>{e.tokens.forEach((e,m)=>{let u=(0,i.z)(t,c,m);n[u]=e,a[u]=o.length;let g={...e,key:u,index:l};o.push(g),r.push(u),l++;let p=d(e.value),v=s.get(p);void 0===v?s.set(p,[g]):s.set(p,[...v,g])})}),{transcriptTokens:n,tokenKeyToIndex:a,tokensArray:o,wordToTokens:s,indexToTokenKey:r}},u=({deletedTokens:e,tokenKeyToIndex:t,startTokenKey:n,endTokenKey:a})=>{let i=!1;return Object.keys(e).forEach(e=>{let r=t[e],l=t[n],s=t[a];(0,o.a)(r,l,s)&&(i=!0)}),i}},82858:function(e,t,n){"use strict";n.d(t,{V:function(){return g}});var a=n(53422),i=n(65655),o=n(20377),r=n(70643),l=n(66420),s=n(23217),c=n(71022),d=n(14728),m=n(91598),u=n(28729);let g=({afterOauthHandler:e,videoId:t,source:n})=>{let{showErrorBar:g}=(0,i.gV)(),{locale:p,localeRequiresMarketingOptIn:v,isConsentGranted:f}=(0,r.k)(e=>({locale:e.locale,localeRequiresMarketingOptIn:e.localeRequiresMarketingOptIn,isConsentGranted:e.isPromotionalEmailBoxChecked})),h=i=>{let r={},l=(0,o.H)(f,p,v);r={...r,fromWebSignup:!0,hasPromotionalCheckboxLoaded:null!==l,authURL:window.location.href,signup_source:n},l&&(r={...r,...l}),(0,s.fi)(i,r,n=>{n.loginSuccess?e({provider:i,videoId:t}):g({message:"There was a problem logging you in. Please try again later.",severity:a.W9.ERROR})})};return l.createElement(d.zxk,{icon:l.createElement(m._,null),hasFullWidth:!0,size:"large","data-testid":`googleOAuthButton_${(0,c.Z)()}`,onClick:()=>h(u.Tr)},"Sign up with Google")}},11351:function(e,t,n){"use strict";n.d(t,{i:function(){return d}});var a=n(49003),i=n(74097),o=n(23555),r=n(41106),l=n(78091),s=n(66420),c=n(14728);let d=({commentCount:e=0})=>{let{video:{owner:{displayName:t}}}=(0,o.dPl)();return s.createElement(c.W20,null,s.createElement(c.ggW,{autoFlow:"row",justifyItems:"center",justifyContent:"center"},e>0?s.createElement(c.xvT,{variant:"title"},"Sign up to see who’s commented"):s.createElement(c.xvT,{variant:"title"},"Leave ",t," some feedback"),s.createElement(c.W20,{paddingTop:"large"},s.createElement(l.Z,{isSignUp:!0,isSingleAuthPage:!1}),s.createElement(c.LZC,{bottom:"medium"}),s.createElement(i.g,{size:"body-sm"}),s.createElement(r.Z,{size:"body-sm"}),s.createElement(c.LZC,{bottom:"medium"})),s.createElement(c.W20,null,s.createElement(c.Avr,{href:a.C1,target:"_blank",htmlTag:"a"},"Sign up with email"))))}},55255:function(e,t,n){"use strict";n.d(t,{R:function(){return m}});var a=n(67121),i=n(26998),o=n(89169),r=n(2232),l=n(66420),s=n(73845),c=n(14728);let d=a.Z.div`
  padding: 8px;
  transition: 0.3s box-shadow;

  ${e=>e.shouldShowErrorState?`box-shadow: inset 0 0 0 var(--lns-formFieldBorderWidth) var(--lns-color-danger);
    &:hover {
      box-shadow: inset 0 0 0 var(--lns-formFieldBorderWidthFocus)
      var(--lns-color-danger);
    }`:e.isFocused?`box-shadow: inset 0 0 0 var(--lns-formFieldBorderWidthFocus) var(--lns-color-primaryHover),
          0 0 0 var(--lns-formFieldBorderWidthFocus) var(--lns-color-focusRing);`:`box-shadow: inset 0 0 0 var(--lns-formFieldBorderWidth) var(--lns-color-border);
      &:hover {
        box-shadow: inset 0 0 0 var(--lns-formFieldBorderWidthFocus)
          var(--lns-color-primaryHover);
      }`}

  border: medium none;
  border-radius: var(--lns-formFieldRadius);

  background-color: var(--lns-color-formFieldBackground) !important;

  outline: 0;
  outline: none;
  color: inherit;

  resize: none;

  width: auto;

  &:disabled {
    background-color: var(--lns-color-disabledBackground);

    color: var(--lns-color-disabledContent);
  }

  &:disabled:hover {
    box-shadow: inset 0 0 0 var(--lns-formFieldBorderWidth)
      var(--lns-color-formFieldBorder);
  }

  &::placeholder {
    color: var(--lns-color-grey5);
  }
  ${e=>e.isDisabled?"opacity: 0.5; pointer-events: none;":""}
`,m=({shouldShowErrorState:e=!1,shouldIndentLeft:t,TextArea:n,comment:a,fullSize:m,textAreaFocused:u,shouldShowLoadingState:g=!1})=>{let p=(0,i.useCurrentUserSelector)(e=>(0,s.B)(e.avatars),void 0);return l.createElement(c.LZC,{bottom:e?"unset":2,left:t?4:"unset"},l.createElement(d,{isFocused:u??!1,shouldShowErrorState:e,isDisabled:g},l.createElement(c.ggW,{columns:["auto","1fr"],alignItems:"start"},l.createElement("div",{style:m?{}:{paddingTop:"6px"}},l.createElement(o.Z,{avatarSrc:p,name:a.user_name,avatarSize:m?r.I.FULL:r.I.SMALL})),n)))}},33444:function(e,t,n){"use strict";n.r(t),n.d(t,{CommentInput:function(){return ep}});var a=n(72931),i=n(40754),o=n(26998),r=n(79839),l=n(89600),s=n(23555),c=n(26704),d=n(69386),m=n(55117),u=n(67121),g=n(89169),p=n(7935),v=n(17338),f=n(2232),h=n(46858),E=n(66420),_=n(73845),y=n(14728),b=n(96480),k=n(56655),w=n(39014);let C=u.Z.div`
  position: relative;
  display: inline-block;
  padding: 1px;
  background-color: var(--lns-color-blurpleMedium);
  background-size: cover;
  border-radius: ${13}px;
  z-index: 0;

  &:hover {
    background-color: var(--lns-color-blurpleStrong);
  }

  /* Using pseudo elements to create layers of border for fading effect */

  &::before,
  &::after {
    content: '';
    opacity: 0;
    border-radius: ${13}px;
    position: absolute;
    top: 0;
    right: 0;
    bottom: 0;
    left: 0;
  }

  &::before {
    background-color: #d8d5dd;
    z-index: -2;
    animation: fadeOut ${1.5}s;
  }

  &::after {
    background-image: linear-gradient(to bottom, #9747ff, #dc43be);
    z-index: -1;
    animation: fadeInOut ${3}s;
  }
`,S=(0,u.Z)(y.zxk)`
  width: 100%;
  border-radius: 12px;
  background-color: var(--lns-color-blurpleMedium);
  height: 4rem;
  color: var(--lns-color-blurpleStrong);
  animation: fadeIn ${3}s;

  &:hover {
    background-color: var(--lns-color-blurpleStrong);
    color: #ffffff;
  }

  span {
    max-width: 100%;
    text-wrap: wrap;
    word-break: break-word;
  }
`,T=({nudgeContent:e,isNudgeSelected:t,onClick:n,onMouseEnter:a,onMouseLeave:i})=>E.createElement(C,null,E.createElement(S,{size:"medium",variant:"primary",disabled:t,onClick:n,onMouseEnter:a,onMouseLeave:i},E.createElement(y.xvT,{hasEllipsis:!0,ellipsisLines:2,alignment:"left",size:"body-sm",style:{animation:"fadeInText 3s"}},e))),x=u.Z.div`
  flex-direction: column;
  align-items: stretch;
  max-width: 100%;
  column-gap: 10px;
  background-color: #f7f7f8;
  border-radius: 0 0 28px 28px;
  background-clip: padding-box;
  border: 2px solid transparent;
  padding: 0px 16px;
  ${e=>e.isNudgeSelected?"":"margin-top: 10px;"}
  transition-duration: 0.3s, 0.4s;
  transition-delay: ${e=>e.isNudgeSelected?"0.3s, 0s":"0.3s, 0.6s"};
  transition-property: height, opacity;
  height: ${e=>null===e.isNudgeSelected?"0px":!1===e.isNudgeSelected?"125px":"0px"};
  opacity: ${e=>null===e.isNudgeSelected?"0":!1===e.isNudgeSelected?"1":"0"};
  order: ${e=>e.isNudgeSelected?"1":"-1"};
`,I=({nudges:e,textAreaRef:t,setComment:n,setNudgeAndHasNudgeBeenSelected:a,hasAiNudgeBeenSelectedRef:i,commentEdited:o})=>{let{video:r}=(0,s.dPl)(),l=()=>t.current?.focus(),c=(0,E.useCallback)(e=>{if(!o&&!i.current)return()=>n(e)},[o,i,n]);(0,w.b)(()=>{a(),i.current||n("")});let d=e=>{n(e.content),a(e),l(),(0,s.jas)({event:k.zW.AI_EOVN_NUDGE_CLICKED,payload:{video_id:r?.id,prompt_version:e.prompt_version,nudge_type:e.nudge_type,source:"right panel"}})};return e?E.createElement(x,{isNudgeSelected:i.current},E.createElement(y.LZC,{top:"medium",bottom:"small"},E.createElement(y.ggW,{gap:"8px"},E.createElement(y.xvT,{color:"#6c6684",size:"body-sm"},"Start with a suggestion from Loom AI"),E.createElement(y.TRl,{variant:"symbol",maxWidth:"12px",brand:"ai",customId:"taskHeader"}))),E.createElement(y.ggW,{gap:"10px",columns:"repeat(auto-fit, minmax(1rem, 1fr))"},e.map((e,t)=>E.createElement(T,{nudgeContent:e.content,isNudgeSelected:!!i.current,key:t,onClick:()=>d(e),onMouseEnter:c(e.content),onMouseLeave:c("")})))):null};var A=n(75793),N=n(97684);let L=({textAreaRef:e,comment:t,setComment:n})=>{let a=e.current;if(!a)return null;let i=()=>{let e=0===t.length||t.endsWith(" ")?"@":" @";n(t+e),a.focus()};return E.createElement(y.ua7,{tabIndex:-1},E.createElement(y.hU,{altText:"At Mention",icon:E.createElement(N.p,null),iconColor:"bodyDimmed",onClick:i,onKeyDown:e=>{"Enter"!==e.key||e.shiftKey||(e.preventDefault(),e.stopPropagation(),i())}}))};var P=n(7273),D=n(73362),R=n.p+"img/record-a-reply-tooltip-f3d9edc71eb4d7f01c47.png",V=n(9067),W=n(20076);let O=(0,W.r)(()=>n.e(6615).then(n.bind(n,66615)).then(e=>({default:e.RecordReplyButton}))),F=({compact:e,iconColor:t="body",buttonText:n="Record a Reply",source:a})=>E.createElement(E.Suspense,{fallback:E.createElement(V.R,{isDisabled:!0,compact:e,buttonText:n,iconColor:t})},E.createElement(O,{compact:e,iconColor:t,buttonText:n,source:a})),B=()=>E.createElement(P.v,{placement:"bottomRight",tooltipContent:E.createElement(P.f,{text:"Respond by recording a new Loom",altText:"Record a Reply",img:R,imgWidth:"210px"})},E.createElement(F,{compact:!0,iconColor:"bodyDimmed",source:D.b.SIDEBAR_ENTRY_POINT})),z=u.Z.div`
  display: flex;
`,$=u.Z.div`
  width: 1px;
  margin: 10% 4px;
  background: var(--lns-color-border);
`,M=({textAreaRef:e,shouldShowSecondaryIconButtons:t,comment:n,setComment:a})=>{let i=(0,A.e)(),r=(0,o.useIsCurrentUserLoggedIn)();return E.createElement(z,null,i&&E.createElement(B,null),t&&i&&r&&E.createElement($,null),t&&r?E.createElement(L,{textAreaRef:e,comment:n,setComment:a}):null)};var U=n(16089),Z=n.n(U),j=n(75162);let{secondsToVideoTS:H}=b,G=u.Z.div`
  transition: box-shadow 0.3s;
  ${e=>e.shouldShowErrorState?`box-shadow: inset 0 0 0 var(--lns-formFieldBorderWidth) var(--lns-color-danger);
    &:hover {
      box-shadow: inset 0 0 0 var(--lns-formFieldBorderWidthFocus)
      var(--lns-color-danger);
    }`:e.isFocused?`box-shadow: inset 0 0 0 var(--lns-formFieldBorderWidthFocus) var(--lns-color-primaryHover),
            0 0 0 var(--lns-formFieldBorderWidthFocus) var(--lns-color-focusRing);`:`box-shadow: inset 0 0 0 var(--lns-formFieldBorderWidth) var(--lns-color-border);
          &:hover {
            box-shadow: inset 0 0 0 var(--lns-formFieldBorderWidthFocus)
            var(--lns-color-primaryHover);
          }`}

  border-radius: 28px;
  ${e=>e.shouldAddBgGradient?`background: linear-gradient(to bottom, var(--lns-color-formFieldBackground) ${e.bgGradientBreakpoint}%, #f7f7f8 ${e.bgGradientBreakpoint}%);`:"background-color: var(--lns-color-formFieldBackground) !important;"}

  padding: 12px 16px;

  ${e=>e.isExpanded?"":"display: flex; justify-content: space-between;"}

  ${e=>e.isDisabled?"opacity: 0.5; pointer-events: none;":""}

  width: auto;
`,Y=u.Z.div`
  display: flex;
  flex-grow: 1;
`,K=u.Z.div`
  display: flex;
  justify-content: space-between;

  ${e=>e.isExpanded?"padding-top: var(--lns-space-small);":""}
`,q=({textAreaRef:e,comment:t,setComment:n,setNudgeAndHasNudgeBeenSelected:a,hasAiNudgeBeenSelectedRef:i,canSubmit:r,onSubmit:l,isReply:c,shouldShowLoadingState:d,shouldShowErrorState:u=!1})=>{let{video:{id:b,nudges:k,isOwner:w,owner:{displayName:C}}}=(0,s.dPl)(),S=(0,E.useRef)(null),T=(0,h.cE)(),{currentTime:x}=(0,s.YYI)(b),A=(0,o.useCurrentUserSelector)(e=>e.avatars,[]),N=(0,o.useCurrentUserSelector)(o.selectDisplayName,void 0),L=(0,s.nn3)(b),P=(0,_.B)(A),[D,R]=(0,E.useState)(!1),[V,W]=(0,E.useState)(!1),[O,F]=(0,E.useState)(!1),[B,z]=(0,E.useState)(!1),$=(0,p.C)(),U=$&&!i?.current&&D,q=function(e){let t=(0,E.useRef)(100),n=(0,E.useMemo)(()=>Z()(e=>{for(let n of e){let{borderBoxSize:e}=n;e.forEach(e=>{let n=function(e){let t=100-135/e*100;return t>30?t:100}(e.blockSize);t.current=n})}}),[]);return(0,E.useEffect)(()=>{if(e.current){let t=e.current,a=new j.Z(n);return a.observe(t),()=>{a.unobserve(t),a.disconnect()}}},[e,n]),t.current}(S),J=(0,E.useCallback)(()=>{O||F(!0)},[O]),X=()=>{L?.pause(),R(!0),W(!0)};return(0,E.useEffect)(()=>{!B||d||u||(R(!1),z(!1),W(!1))},[B,d,u]),E.createElement(G,{ref:S,isExpanded:D,isFocused:V,isDisabled:!!d,onFocus:()=>{D&&!V&&X()},onBlur:e=>{e.currentTarget.contains(e.relatedTarget)||($||W(!1),d||0!==t.length||R(!1),e?.relatedTarget?.tagName==="BUTTON"&&e.relatedTarget.click())},shouldShowErrorState:u,bgGradientBreakpoint:q,shouldAddBgGradient:U},E.createElement(Y,null,E.createElement("div",{style:T?{}:{paddingTop:"6px"}},E.createElement(g.Z,{avatarSrc:P,name:N,avatarSize:T?f.I.FULL:f.I.SMALL})),E.createElement(v.B,{textAreaRef:e,comment:t,placeholder:w?"Leave a comment...":`Respond to ${C}...`,setComment:n,setCommentEdited:J,onKeyDown:e=>{"Enter"===e.key&&!e.shiftKey&&(e.preventDefault(),t.length>0&&z(!0)),d&&e.preventDefault()},onFocus:X,autofocus:!1,inputSize:T?"medium":"small",showCustomPlaceHolder:!0,isSingleRow:!0,id:c?void 0:m.Iy,dataTestId:"comment-entry-field-in-sidebar",shouldIncreaseCommentInputHeight:U})),E.createElement(K,{isExpanded:D},E.createElement(M,{textAreaRef:e,shouldShowSecondaryIconButtons:D,comment:t,setComment:n}),D&&E.createElement(y.ggW,{gap:"small"},d&&E.createElement(y.aNw,null),E.createElement(y.zxk,{variant:"primary",size:"small",disabled:!r||d,onClick:e=>{r&&(l(e),z(!0))}},d?"Posting...":`Comment at ${H(Math.round(x))}`))),D&&$?E.createElement(I,{nudges:k,textAreaRef:e,setComment:n,setNudgeAndHasNudgeBeenSelected:a,hasAiNudgeBeenSelectedRef:i,commentEdited:O}):null)};var J=n(43781),X=n(54525),Q=n(49419),ee=n(89895),et=n(80512),en=n(6180),ea=n(25878),ei=n(86336),eo=n(72924),er=n(2677);let el="small",es=({textAreaRef:e,comment:t,placeholderText:n,setComment:a,canSubmit:o,isSubmitting:r,onSubmit:l})=>{let c=(0,s.n_$)(),[d,m]=(0,E.useState)(!1),u=(0,h.cE)(),g=u?["1fr","auto"]:"1fr",p=[E.createElement(y.zxk,{disabled:!o,onClick:e=>{l(e)},key:1,size:el,variant:"primary",hasLoader:r,id:"comment-reaction-submit-button"},n),E.createElement(y.Avr,{key:2,onClick:()=>{c?.commentFormToggle()},size:el},"Cancel")];return E.createElement(y.xMy,{alignment:"center"},E.createElement(y.ggW,{columns:g,gap:"small",width:"100%",maxWidth:120,alignItems:"end"},E.createElement(y.W20,{className:"flex relative"},E.createElement(v.B,{textAreaRef:e,comment:t,placeholder:n,showCustomPlaceHolder:!0,setComment:a,onKeyDown:e=>{e.keyCode!==i.K5||e.shiftKey||e.preventDefault(),d&&m(!1)},autofocus:!0,inputSize:"small",isSingleRow:!0,isInPlayer:!0,hasError:d,dataTestId:"comment-entry-field-in-player",id:"comment-entry-field-in-player"})),E.createElement(y.ggW,{gap:"small",justifyContent:"end"},u?p:p.reverse())))};var ec=n(55255);let ed=({textAreaRef:e,comment:t,placeholderText:n,setComment:a,closeReply:o,isReply:r,isFirstReply:l,canSubmit:s,onSubmit:c,shouldShowErrorState:d=!1,shouldShowLoadingState:m})=>{let u=(0,h.cE)(),g=u?"medium":"small",p=r?"Reply":n,[f,_]=(0,E.useState)(!1);return E.createElement(ec.R,{comment:t,fullSize:u,shouldShowErrorState:d,shouldShowLoadingState:m,shouldIndentLeft:r&&!l,textAreaFocused:f,TextArea:E.createElement(y.ggW,{gap:"small",autoFlow:"row",justifyContent:"stretch",minWidth:"0"},E.createElement(v.B,{textAreaRef:e,comment:t,placeholder:n,setComment:a,onKeyDown:e=>{e.keyCode!==i.K5||e.shiftKey||e.preventDefault()},onFocus:()=>{_(!0)},onBlur:()=>{t?.length===0&&o&&o(),_(!1)},autofocus:r,inputSize:g}),E.createElement(y.ggW,{justifyContent:"end",gap:"small"},m?E.createElement(y.aNw,null):null,r&&E.createElement(y.Avr,{size:g,onClick:o},"Cancel"),E.createElement(y.zxk,{onClick:c,disabled:!s,size:g,variant:"primary"},p)))})},em=e=>!!e.trim(),{SignedOutEndOfVideoNudges:eu,SignedOutAiSidebarNudgeComments:eg}=l.ASGSource,ep=({inPlayer:e,replyTo:t,isFirstReply:n,closeReply:l,closeModal:m,isNewCommentEntryPoint:u,creationMethod:g=null})=>{let p=E.useRef(null),v=E.useRef(null),f=(0,s.n_$)(),{video:h}=(0,s.dPl)(),_=(0,o.useIsCurrentUserLoggedIn)(),[b,k]=E.useState(""),w=(0,d.Ve)(),[C,S]=E.useState(!1);E.useState(!1);let T=h.salesforceEngagementTracking,x=h.emailGateVideoType!==ei.q.None,I=T||x,A=(0,ee.I0)(),N=!!t,L=N?"Leave a Reply":`Comment at ${(0,c.mr)(Math.round(f?.currentTime||0))}`,P=h?.owner?.displayName||"",D=Math.round(f?.currentTime||0),[R,V]=E.useState(void 0),W=E.useRef(null),O=em(b)&&!C,F=()=>{S(!1),k(""),l&&l(),v.current?.blur()},{createComment:B,loading:z,error:$}=(0,J.b)({handleOnCompleteCreateComment:F,shouldUseGlobalError:!!e}),M=e=>{S(!0),B({content:e,parentPostId:t?parseInt(t):void 0});let n=N?a.Rf6:a.jde;er.track(n,{video_id:h.modelId,comment_length:e.length,freshPlayer:!0,comment_reply_type:"text",creation_method:N?null:g,ai_nudge_type_selected:u&&R?R.nudge_type:void 0,exact_ai_nudge_posted:u&&R?e===R?.content:void 0})},U=e=>{if(e.preventDefault(),!O)return!1;if(!_&&!I){if(!w){(0,Q.r)()&&f?.toggleFullscreen(),A((0,eo.lZ)(!0));let e=W.current?eg:eu;A((0,et.h7)({modalType:r.rE.HARD_GATE_COMMENT_EMOJI_MODAL,options:{anonName:"Anonymous",comment:b,commentVideoId:h.id,creationMethod:g,gate:X.K.REACTION,header:"Add your name to this comment",hideModeSwitcher:!0,onboardingType:"modal-onboarding",parentPostId:t?parseInt(t):void 0,signupParams:{anonComment:b,anonCommentTimestamp:D,anonCommentVideoId:h.id,anonParentPostId:t?parseInt(t):void 0},source:e,subheader:`${P??"They"} sent this Loom instead of a meeting invite. Use async video to stay connected to your team while staying focused on what counts.`,tertiaryButtonIcon:ea.YO.Comment,tertiaryButtonText:"Post comment anonymously",videoOwnerName:P}})),F();return}let e=h?.platform==="slackPlayer";if(w&&!en.tq&&!e)return window.open(`/share/${h.modelId}?asg_comment=true&comment=${b}&video_time_stamp=${D}`,"_blank","noopener"),!1}M(b),m&&m()};(0,E.useEffect)(()=>{let e=p.current;e&&N&&e.scrollIntoView({block:"center"})},[p,N]);let Z=$&&!e;return E.createElement("div",{onKeyDown:e=>{e.keyCode!==i.K5||e.shiftKey||U(e),e.keyCode===i.hY&&l&&(e.nativeEvent.stopImmediatePropagation(),l())},ref:p},u?E.createElement(q,{textAreaRef:v,comment:b,setComment:k,setNudgeAndHasNudgeBeenSelected:e=>{V(e),W.current||(W.current=!!e)},hasAiNudgeBeenSelectedRef:W,canSubmit:O,isReply:N,onSubmit:U,shouldShowErrorState:!!$,shouldShowLoadingState:z}):e?E.createElement(es,{textAreaRef:v,comment:b,setComment:k,placeholderText:L,canSubmit:O,isSubmitting:C,onSubmit:U}):E.createElement(ed,{textAreaRef:v,comment:b,setComment:k,placeholderText:L,closeReply:l,isReply:N,isFirstReply:n,canSubmit:O,onSubmit:U,shouldShowErrorState:!!$,shouldShowLoadingState:z,videoId:h.modelId}),Z?E.createElement(y.LZC,{left:N&&!n?4:"unset"},E.createElement(y.W20,{paddingX:"medium",paddingY:"small"},E.createElement(y.xvT,{size:"body-md",fontWeight:"book",color:"danger"},"We weren't able to post your comment. Please try again"))):null)}},17338:function(e,t,n){"use strict";n.d(t,{B:function(){return R}});var a=n(40754),i=n(64131),o=n(23555),r=n(57155),l=n(60152),s=n(37335),c=n(84888),d=n(5862),m=n(66420),u=n(54533),g=n(61824),p=n(75480),v=n.n(p),f=n(14728),h=n(89377),E=n(51252),_=n(33993),y=n(13891),b=n(39014);let{getContentWithParsedMentionMarkups:k}=h,w=e=>{if(!e)return!1;let t=e.scrollHeight>e.clientHeight,n=window.getComputedStyle(e).overflowY,a=-1!==n.indexOf("hidden")||-1!==n.indexOf("visible");return t&&!a},C=e=>e&&e!==document.documentElement?w(e)?e:C(e.parentElement):document.documentElement,S=e=>y.groupedEmojis.map(t=>(0,_.S)({group:t,filterValue:e})).filter(e=>e.emojis.length>0),T=(e,t)=>{let n=k(t),a=e?.selectionEnd;return n.slice(0,a)},x=(e,t,n,a)=>{let i=T(n,e),r=i.match(/:(.*?):/g);if(r){let n=r.pop(),l=n.replaceAll(":",""),s=t(l);if(s){let t=e.replace(n,s),r=i.indexOf(n)+s.length;return(0,o.jas)({event:o.zW2.QUICK_ADD_EMOJI_USED,payload:{video_id:a,selected_emoji:l,from:"full typed name"}}),{commentWithEmoji:t,indexAfterEmoji:r}}}return{commentWithEmoji:null,indexAfterEmoji:null}},I=(e,t,n,a,i,o)=>{let r=T(t,e),l=r.match(/:([^:\s]*?)$/gm);if(l&&l.length>0){let e=l.pop(),s=r.replace(e,""),c=/\S$/.test(s?.slice(-1)),d=e&&/:[^a-zA-Z0-9]/.test(e);if(c||d){o();return}let m="";if(e&&(m=e?.replaceAll(":","").replaceAll(" ","")),n(m),""!==m)0===S(m).length?o():i();else{let e=A(t);a(e),o()}}else{let e=A(t);a(e),o()}},A=e=>{if(!e)return new DOMRect;let t=v()(e,e?.selectionEnd),{width:n,height:a,x:i,y:o}=e.getBoundingClientRect();return new DOMRect(i+t.left,o,n,a)},N=(e,t)=>{t&&e&&setTimeout(()=>{e.setSelectionRange(t,t)},0)},L=({emojiPickerIsOpen:e,closeEmojiPopup:t,searchValue:n,setComment:a,currentComment:i,textArea:r,isInPlayer:s})=>{let{getEmojiUnicodeByName:c}=(0,l.C)(),{video:d}=(0,o.dPl)(),u=d.id,g=m.useMemo(()=>(0,o.DsO)(()=>{(0,o.jas)({event:o.zW2.QUICK_ADD_EMOJI_PICKER_OPENED,payload:{video_id:u}})},500),[u]);return(0,b.b)(()=>{g()}),m.createElement(f.W20,{width:"calc(44 * var(--lns-unit, 8px))",height:"calc(40 * var(--lns-unit, 8px))",backgroundColor:"background",radius:"medium","data-lens-theme":s?"dark":void 0},m.createElement(E.EmojiPicker,{externalSearchValue:n,onClick:e=>{let l=T(r,i),s=RegExp(`:${n}$`),d=l.search(s),m=i.slice(0,d),g=i.slice(d),p=c(e),v=g.replace(`:${n}`,p);t(),a(m+v),r?.focus();let f=d+p.length;N(r,f),(0,o.jas)({event:o.zW2.QUICK_ADD_EMOJI_USED,payload:{video_id:u,selected_emoji:e,from:"picker"}})},placeUsed:"inComment",isOpen:e,shouldHideCustomizableReactionList:!0}))},P=({triggerBounds:e,emojiPickerIsOpen:t,closeEmojiPopup:n,searchValue:a,currentComment:i,setComment:o,textArea:r,isInPlayer:l})=>{let s=l?document.getElementById("container"):void 0,{layerProps:c,renderLayer:d}=(0,g.sJ)({isOpen:t,placement:"bottom-start",auto:!0,possiblePlacements:["bottom-start","bottom-end","top-start","top-end"],trigger:{getBounds:()=>e},onOutsideClick:()=>n(),container:s??void 0}),[u,p]=(0,m.useState)(),[v,f]=(0,m.useState)("");return(0,m.useEffect)(()=>{if(t){let e=C(r);f(e?.style.overflow||""),e&&(p(e),e.style.overflow="hidden")}else u&&(u.style.overflow=v)},[t,r]),m.createElement(m.Fragment,null,t&&d(m.createElement("div",{...c,style:{...c.style,zIndex:100}},m.createElement(L,{emojiPickerIsOpen:t,closeEmojiPopup:n,searchValue:a,currentComment:i,setComment:o,textArea:r,isInPlayer:l}))))},D=4,R=({textAreaRef:e,comment:t,placeholder:n,setComment:g,setCommentEdited:p,onKeyDown:v,onFocus:f,onBlur:h,autofocus:E,inputSize:_,isSingleRow:y,maxRows:b=D,isEndOfVideoNudge:k,shouldIncreaseCommentInputHeight:w=!1,hasError:C,showCustomPlaceHolder:S,id:T,isInPlayer:A,dataTestId:L})=>{let R=A||k,{video:V}=(0,o.dPl)(),W=V.id,O=new DOMRect,[F,B]=(0,m.useState)(!1),[z,$]=(0,m.useState)(O),[M,U]=(0,m.useState)(""),{getEmojiUnicodeByName:Z}=(0,l.C)(),{setCurrentSelection:j}=(0,r.mE)(),H=s.userContext.isLoggedUser,G=()=>{B(!0)},Y=()=>{B(!1),e.current?.focus()},K=t=>{let n=t?.target?.value;p?.();let{commentWithEmoji:a,indexAfterEmoji:i}=x(n,Z,e.current,W);if(a){g(a),Y(),N(e.current,i);return}I(n,e.current,U,$,G,Y),g(n)},q=(0,c.hP)(),J=(0,u.N)(q.id);m.useEffect(()=>{let t=e.current;t&&E&&t.focus({preventScroll:!0})},[E,e]);let X=2,Q=b;k?(X=5,Q=6):y&&(X=1);let ee=e=>{let t=e.key;t===a.B7&&Y(),[a.VC,a.Hk,"ArrowDown","ArrowUp"].includes(t)&&(e.preventDefault(),e.stopPropagation(),document.getElementById("emoji-picker-external-search-focus-element").focus(),j(r.dR))},et=e=>{F&&ee(e),v&&v(e)},en=e=>{H?et(e):v?.(e)},ea="Leave a comment";return S&&(ea=n),m.createElement(m.Fragment,null,H?m.createElement(i.o,{dataTestId:L,fetch:J,forceMentionMenuAboveInput:A,hasError:C,id:T,isEndOfVideoNudge:k,onBlur:h,onChange:K,onFocus:f,onKeyDown:en,placeholder:ea,shouldHighlight:R,shouldIncreaseCommentInputHeight:w,textRef:e,value:t,singleLine:1===b}):m.createElement(d.a,{autoFocus:E,"data-testid":L,id:T,size:_,value:t,placeholder:ea,onChange:K,minRows:X,maxRows:Q,onKeyDown:en,textRef:e,hasError:C,onFocus:f,onBlur:h,shouldHighlight:R}),m.createElement(P,{triggerBounds:z,emojiPickerIsOpen:F,closeEmojiPopup:Y,searchValue:M,currentComment:t,setComment:g,textArea:e.current,isInPlayer:A}))}},44740:function(e,t,n){"use strict";n.d(t,{MH:function(){return c},WC:function(){return l},WG:function(){return i},_r:function(){return s},oj:function(){return r},vT:function(){return a},yK:function(){return o}});let a="task_accepted",i="task_discarded",o="task_edited",r="manual_task_generated",l="tasks_collapsed",s="tasks_expanded",c="viewer_acknowledged_task"},2232:function(e,t,n){"use strict";n.d(t,{I:function(){return i}});var a=n(14728);let i={SMALL:3,FULL:4,UNITLESS:4,SIZE:(0,a.u)(4)}},79513:function(e,t,n){"use strict";n.d(t,{m:function(){return s}});var a=n(28668),i=n(3245),o=n(34017);let r={},l=(0,a.Ps)`
    mutation RespondToVideoTask($id: ID!, $responded: Boolean!, $password: String) {
  respondToVideoTask(id: $id, responded: $responded, password: $password) {
    __typename
    ... on RespondToVideoTaskPayload {
      task {
        id
        responses(useMaster: true) {
          ...VideoTaskResponseFragment
        }
      }
    }
    ... on InvalidRequestWarning {
      message
    }
    ... on UserNotAuthorizedError {
      message
    }
    ... on GenericError {
      message
    }
  }
}
    ${i.w}`;function s(e){let t={...r,...e};return o.D(l,t)}},12932:function(e,t,n){"use strict";n.d(t,{Q:function(){return l}});var a=n(67121),i=n(39556),o=n(66420);let r=a.Z.div`
  white-space: pre-wrap;
  overflow-wrap: anywhere;
  font-size: var(--lns-fontSize-medium);
  font-family: var(
    --lns-fontFamily-body,
    Circular,
    Twemoji Mozilla,
    Apple Color Emoji,
    Noto Color Emoji,
    Segoe UI Emoji,
    Segoe UI Symbol,
    Segoe UI,
    EmojiOne Color,
    Android Emoji
  );
`,l=o.memo(({comment:e})=>o.createElement(r,null,o.createElement(i.H,{comment:e,withPills:!0,useNewEmbedPlayer:!0})));l.displayName="PostBodyFreshEmbed"},21400:function(e,t,n){"use strict";n.d(t,{e:function(){return tm}});var a,i=n(67121),o=n(23555),r=n(78783),l=n(22947),s=n(58329),c=n(26998),d=n(10376),m=n(58440),u=n(66420),g=n(19267),p=n(32778);let v="20px 20px 24px 24px",f=`
  margin-left: calc(-1 * var(--lns-space-small));
  margin-right: calc(-1 * var(--lns-space-small));
  padding-left: var(--lns-space-small);
  padding-right: var(--lns-space-small);
  padding-bottom: calc(-1 * var(--lns-space-small));
`,h=`
  background-color: var(--lns-color-highlight);
  ${f}
`,E=`
  background-color: var(--lns-color-backgroundSecondary);
  ${f}
`,_=(0,p.F4)`
10% {
  background-color: none;
}
30% {
  ${h}
}
80% {
  ${h}
}
100% {
  background-color: none;
}
`,y=(0,p.F4)`
0% {
  ${h}
}

80% {
  ${h}
}

100% {
  background-color:none;
}
`,b=i.Z.div`
  &.sidebar-comment-thread-hover-auto {
    ${E}
    border-radius: ${v};
  }

  &.sidebar-comment-thread-hover-manual {
    ${h};
    border-radius: ${v};
  }

  margin-bottom: 4px;
`,k=i.Z.div({borderRadius:v,animation:`${y} 1500ms ease-in-out`}),w=i.Z.div({borderRadius:v,animation:`${_} 3000ms ease-in-out`}),C=i.Z.div(e=>e.show&&`
      &:hover {
        ${E}
        border-radius: ${v};

      }
    `),S=({children:e,shouldScroll:t,inActivitySidebar:n,onPageLoad:a,cleanupAfterHighlight:i})=>{let{sharePageSelectedComments:o,setSharePageSelectedComments:r}=(0,m.j)(),p=!!o.length||a,v=(0,g.ag)(`(max-width: ${l.U2}px)`)||!n,f=(0,c.useIsCurrentUserLoggedIn)(),h=(0,u.useCallback)(e=>{e&&t&&(e.scrollIntoView({block:p?"start":"center",behavior:"smooth"}),i&&i(e),e.addEventListener("animationend",()=>{r([])}))},[r,p,t,i]),E=(0,u.useMemo)(()=>{let e="0";if(p&&t){if(v)e=`calc(${s.v} + 16px)`;else{let t=(0,d.ny)()+16;f&&(t+=(0,d.a6)()),e=`${t}px`}}return e},[p,t,v,f]);return a?t?u.createElement(w,{ref:h,style:{scrollMarginTop:E}},e):e:u.createElement(k,{ref:h,style:{scrollMarginTop:E}},e)};var T=n(2232),x=n(7935),I=n(14728),A=n(11351);let N=()=>u.createElement("svg",{width:"253",height:"188",viewBox:"0 0 270 204",fill:"none"},u.createElement("g",{filter:"url(#filter0_d_3251_179862)"},u.createElement("rect",{x:"8.5",y:"5",width:"221",height:"103",rx:"18.5688",fill:"var(--lns-color-background)"}),u.createElement("rect",{x:"32.2583",y:"16.3792",width:"28",height:"28",rx:"14",fill:"var(--lns-color-disabledBackground)",strokeWidth:"2"}),u.createElement("rect",{x:"67.2583",y:"25.019",width:"62.6697",height:"10.8318",rx:"3.0948",fill:"var(--lns-color-disabledBackground)"}),u.createElement("rect",{x:"135.344",y:"25.019",width:"25.5321",height:"10.8318",rx:"3.0948",fill:"var(--lns-color-disabledBackground)"}),u.createElement("rect",{x:"67.2583",y:"45.1353",width:"115.82",height:"10.8318",rx:"3.0948",fill:"var(--lns-color-disabledBackground)"}),u.createElement("rect",{x:"67.2583",y:"62.1567",width:"137.483",height:"10.8318",rx:"3.0948",fill:"var(--lns-color-disabledBackground)"}),u.createElement("rect",{x:"67.2583",y:"79.178",width:"99.5719",height:"10.8318",rx:"3.0948",fill:"var(--lns-color-disabledBackground)"}),u.createElement("rect",{x:"9.2737",y:"5.7737",width:"219.453",height:"101.453",rx:"17.7951",stroke:"var(--lns-color-disabledBackground)",strokeWidth:"1.5474"})),u.createElement("g",{filter:"url(#filter1_d_3251_179862)"},u.createElement("rect",{x:"59.5645",y:"121.174",width:"201.936",height:"71.4434",rx:"18.5688",fill:"var(--lns-color-background)"}),u.createElement("rect",{x:"83.3228",y:"132.553",width:"28",height:"28",rx:"14",fill:"var(--lns-color-disabledBackground)",strokeWidth:"2"}),u.createElement("rect",{x:"118.323",y:"142.193",width:"62.6697",height:"10.8318",rx:"3.0948",fill:"var(--lns-color-disabledBackground)"}),u.createElement("rect",{x:"186.408",y:"142.193",width:"25.5321",height:"10.8318",rx:"3.0948",fill:"var(--lns-color-disabledBackground)"}),u.createElement("rect",{x:"118.323",y:"162.31",width:"118.419",height:"10.8318",rx:"3.0948",fill:"var(--lns-color-disabledBackground)"}),u.createElement("rect",{x:"60.3382",y:"121.948",width:"200.388",height:"69.896",rx:"17.7951",stroke:"var(--lns-color-disabledBackground)",strokeWidth:"1.5474"})),u.createElement("path",{d:"M41.769 107.635V131.232C41.769 137.642 46.965 142.838 53.3745 142.838H60.3379",stroke:"var(--lns-color-disabledBackground)",strokeWidth:"1.5474"}),u.createElement("defs",null,u.createElement("filter",{id:"filter0_d_3251_179862",x:"0.762997",y:"0.357798",width:"236.474",height:"118.474",filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB"},u.createElement("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),u.createElement("feColorMatrix",{in:"SourceAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0",result:"hardAlpha"}),u.createElement("feOffset",{dy:"3.0948"}),u.createElement("feGaussianBlur",{stdDeviation:"3.8685"}),u.createElement("feColorMatrix",{type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.05 0"}),u.createElement("feBlend",{mode:"normal",in2:"BackgroundImageFix",result:"effect1_dropShadow_3251_179862"}),u.createElement("feBlend",{mode:"normal",in:"SourceGraphic",in2:"effect1_dropShadow_3251_179862",result:"shape"})),u.createElement("filter",{id:"filter1_d_3251_179862",x:"51.8275",y:"116.532",width:"217.41",height:"86.9174",filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB"},u.createElement("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),u.createElement("feColorMatrix",{in:"SourceAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0",result:"hardAlpha"}),u.createElement("feOffset",{dy:"3.0948"}),u.createElement("feGaussianBlur",{stdDeviation:"3.8685"}),u.createElement("feColorMatrix",{type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.05 0"}),u.createElement("feBlend",{mode:"normal",in2:"BackgroundImageFix",result:"effect1_dropShadow_3251_179862"}),u.createElement("feBlend",{mode:"normal",in:"SourceGraphic",in2:"effect1_dropShadow_3251_179862",result:"shape"})))),L=({videoOwnerName:e})=>u.createElement(I.W20,{paddingY:"10vh",style:{textAlign:"center"}},u.createElement(N,null),u.createElement(I.LZC,{bottom:3}),u.createElement(I.xvT,{fontWeight:"bold",size:"body-lg"},"No comments… yet"),u.createElement(I.LZC,{top:1,bottom:2},u.createElement(I.xMy,{alignment:"center"},u.createElement(I.xvT,{size:"body-sm"},u.createElement(I.ggW,{gap:"xsmall"},"Hit ",u.createElement(I.W20,{backgroundColor:"tabBackground",paddingX:.5,style:{borderRadius:"4px"}},u.createElement(I.xvT,{fontWeight:"bold",size:"body-sm",color:"bodyDimmed"},"C")),` to reply to ${e}.`))))),P=()=>u.createElement(I.W20,{paddingY:"10vh",style:{textAlign:"center"}},u.createElement(N,null),u.createElement(A.i,null)),D=({inActivitySidebar:e})=>{let{video:{owner:{displayName:t}}}=(0,o.dPl)(),n=(0,c.useIsCurrentUserLoggedIn)(),a=(0,x.C)();return e?n||a?u.createElement(L,{videoOwnerName:t??""}):u.createElement(P,null):u.createElement(I.W20,{backgroundColor:"backgroundSecondary",radius:"large",paddingY:"medium",style:{textAlign:"center"}},u.createElement(I.xvT,{fontWeight:"bold"},"There aren't any comments yet."),u.createElement(I.xvT,{fontWeight:"book",color:"bodyDimmed"},"Be the first. Add a comment on the video above."))};var R=n(33444),V=n(49419);let W=i.Z.div`
  display: grid;
  justify-items: center;
  grid-template-rows: auto 1fr;
  height: 100%;
  gap: var(--elementsSpacing);
  min-width: var(--avatarSize);
  --lineSize: ${T.I.UNITLESS/2}px;
  padding-bottom: var(--elementsSpacing);
  & > div.straightLine {
    width: 1.5px;
    background: var(--lns-color-border);
    height: 100%;
    border-radius: 5px;
  }
`;var O=n(81083),F=n(56154);let B=({isCollapsed:e,onClick:t,extraRepliesCount:n})=>u.createElement(I.zxk,{icon:e?u.createElement(F._,null):u.createElement(O.c,null),iconPosition:e?"left":"right",onClick:t,size:"small",style:{border:"none",color:"var(--lns-color-bodyDimmed)"}},e?`${n} more ${Number(n)>1?"replies":"reply"}`:"Collapse replies");var z=n(55117),$=n(72931),M=n(77848),U=n.n(M),Z=n(97947),j=n(18541),H=n(39014),G=n(84888);let Y=i.Z.div`
  display: grid;
  justify-items: center;
  grid-template-rows: auto 1fr;
  height: 100%;
  gap: var(--elementsSpacing);
  min-width: var(--avatarSize);
  padding-bottom: ${e=>e.singleComment?"var(--lns-space-small)":"0px"};
  --lineSize: ${T.I.UNITLESS/2}px;
  & > div.straightLine {
    width: 1.5px;
    background: var(--lns-color-border);
    height: 100%;
    border-radius: 5px 5px 0px 0px;
  }
`;var K=n(89767),q=n(40754),J=n(17338),X=n(46858),Q=n(2677),ee=n(55255),et=n(53422),en=n(34017),ea=n(65655),ei=n(94705),eo=n(31671),er=n(77673),el=n(14374),es=n(58461),ec=n(77643),ed=n.n(ec);let em="Error editing comment",eu=({comment:e,onClose:t,trackEditComment:n})=>{let a=u.useRef(null),[i,r]=(0,u.useState)(e.inFlightContent||e.content),[l,s]=(0,u.useState)(!1),d=(0,X.cE)(),m=d?"medium":"small",g=function(e,t){let{video:n}=(0,o.dPl)(),{password:a}=(0,ei.u)(),{pushError:i}=(0,eo.X)(),{showErrorBar:r}=(0,ea.gV)(),[l]=(0,en.D)(ed(),{optimisticResponse:{editComment:{__typename:"editCommentPayload",success:!0}},onError:e=>{i(em),r({message:"Failed to edit comment.",severity:et.W9.ERROR}),el.error(e,{message:em,error:e},{feature:es.L0.CommentReactions})},update:(t,{data:n},{variables:a})=>{let o=n?.editComment;if(o?.success)t.modify({id:t.identify(e),fields:{content:()=>a?.content,edited:()=>!0,inFlightContent:()=>null}});else{t.modify({id:t.identify(e),fields:{inFlightContent:()=>a?.content}});let n="Failed to update comment";o?.__typename==="InvalidRequestWarning"&&(n+=`: ${o.message}`),i(em),el.error(n,{message:em},{feature:es.L0.CommentReactions})}},onCompleted:()=>{t()}});return({comment:e,newContent:t})=>{l({variables:{id:e.id,type:(0,er.B)(e)?"REPLY":"COMMENT",videoId:n.modelId,password:a,content:t}})}}(e,n),p=()=>{Q.track($.KVr,{user_id:e.user_id,anon_user_id:e.anon_user_id,comment_id:e.id}),t()},v=()=>{g({comment:e,newContent:i}),t()};(0,u.useEffect)(()=>{if(e.content.includes("<a>")){let t=[...new DOMParser().parseFromString(e.content,"text/html").body.childNodes].map(e=>"A"===e.nodeName?e.toString():e.textContent).join("");e.content!==t&&r(t)}},[e]);let f=(0,c.useIsCurrentUserLoggedIn)();return u.createElement(ee.R,{comment:e,fullSize:d,shouldHighlight:f,textAreaFocused:l,TextArea:u.createElement(I.ggW,{gap:"small",autoFlow:"row",justifyContent:"stretch"},u.createElement(J.B,{textAreaRef:a,comment:i,setComment:r,onKeyDown:t=>{t.keyCode!==q.K5||t.shiftKey||(t.preventDefault(),e.content.trim()!==i.trim()&&""!==i.trim()&&v()),t.keyCode===q.hY&&p()},autofocus:!0,inputSize:"small",placeholder:"",onFocus:e=>{let t=e.target,n=t.value.length;t.setSelectionRange(n,n),s(!0)},onBlur:()=>{s(!1)},hasError:null!==e.inFlightContent}),u.createElement(I.ggW,{justifyContent:"space-between"},u.createElement(I.W20,null,e.inFlightContent&&u.createElement(I.xvT,{color:"danger",fontWeight:"bold"},"Your comment was not saved. Please try again.")),u.createElement(I.ggW,{gap:"small",justifyContent:"end"},u.createElement(I.Avr,{onClick:p,size:m},"Cancel"),u.createElement(I.zxk,{onClick:v,variant:"primary",isDisabled:e.content.trim()===i.trim()||""===i.trim(),size:m},"Save"))))})};var eg=n(60152),ep=n(91210),ev=n(34418),ef=n(69386),eh=n(45373),eE=n(43781),e_=n(37894),ey=n(6180),eb=n(7910);let ek=["white_check_mark","+1","pray","heart_eyes","fire","raised_hands"],ew=["+1","pray","raised_hands"],eC=i.Z.div`
  display: grid;
  grid-template-columns: auto 1fr;
  align-items: center;
  &:hover {
    > div {
      opacity: 1;
      pointer-events: initial;
      width: auto;
      height: auto;
      gap: var(--lns-space-small);
    }

    + .collapse-replies-btn {
      opacity: 0;
      width: 0;

      // we only want transition when appearing, and not when disappearing
      transition: none;
    }
  }
`,eS=i.Z.div`
  transition: opacity 300ms ease-in, padding 200ms;
  opacity: 0;
  height: 0;
  overflow: hidden;
  white-space: nowrap;
  width: 0;
  padding-left: var(--lns-space-small);
  font-family: 'Twemoji Mozilla', 'Apple Color Emoji', 'Noto Color Emoji',
    'Segoe UI Emoji', 'Segoe UI Symbol', 'Segoe UI', 'EmojiOne Color',
    'Android Emoji';
  display: inline-flex;
`,eT=i.Z.div`
  display: grid;
  grid-template-columns: auto auto 1fr;
  gap: 0;
  align-items: center;
  padding-top: var(--lns-space-xsmall);
`,ex=i.Z.div`
  --bckg-alpha: ${e=>e.inEmbed?"0.2":"0"};
  --padding: var(--elementsSpacing);
  cursor: pointer;
  align-items: center;
  border-radius: ${(0,I.u)(5)};
  padding: var(--padding);
  padding-right: var(--lns-space-small);
  padding-left: var(--lns-space-small);
  margin-left: calc(-1 * var(--lns-space-small));
  transition: background-color 200ms ease;
  &:hover {
    background-color: var(--lns-color-backgroundHover);
  }
`,eI=i.Z.div`
  justify-self: end;
  opacity: 1;
  width: unset;

  transition: opacity 300ms ease-in;
`,eA=({type:e,onClick:t,skinTone:n})=>{let{getEmojiUnicodeByName:a}=(0,eg.C)(),i=(0,X.cE)(),o=e;return ew.includes(e)&&(e=(0,eh.n)({type:e,skinTone:n})),u.createElement(I.hU,{altText:e,title:o,icon:u.createElement("span",null,a(e)),onClick:()=>t(e),size:i?"medium":"small"})},eN=({commentId:e,reactionPickerProp:t})=>{let{getEmojiUnicodeByName:n}=(0,eg.C)(),{createComment:a}=(0,eE.b)(),{skinTone:i}=(0,ep.I)(),{video:{id:r}}=(0,o.dPl)(),s=e=>{Q.track($.Rf6,{video_id:r,comment_length:1,freshPlayer:!0,comment_reply_type:"emojiOnly",selected_emoji:e})},d=t=>{a({content:n(t),parentPostId:parseInt(e),extendedReaction:t})},m=e=>{s(e),d(e)},p=e=>{setTimeout(()=>{d(e)},250)},v=!!(0,V.r)(),f=(0,g.ag)(`(max-width: ${l.U2}px)`);return u.createElement(c.LoggedInOnly,null,u.createElement(eC,null,u.createElement(e_.b,{customEmojiSet:!0,reactionPickerProp:t,onClick:e=>p(e),inCommentsSidebar:!v&&!f}),ey.tq?null:u.createElement(eS,null,ek.map(e=>u.createElement(eA,{key:e,type:e,skinTone:i,onClick:m})))))},eL=({showAddReply:e})=>{let t=(0,X.cE)(),n=(0,eb.U9)(),{video:{modelId:a}}=(0,o.dPl)(),i=(0,c.useIsCurrentUserLoggedIn)(),r=(0,ef.Ve)(),l=!i&&r;return u.createElement("div",{onClick:()=>{l?window.open(`/share/${a}?asg_comment=true`,"_blank","noopener"):e()}},u.createElement(ex,{inEmbed:n},u.createElement(I.xvT,{color:"body",fontWeight:"bold",size:t?"medium":"small"},"Reply")))},eP=({commentId:e,onCollapseRepliesButtonClick:t})=>{let{video:{id:n}}=(0,o.dPl)(),{setReplyId:a,replyId:i}=(0,m.j)(),r=i===e,[l,s,c]=(0,ev.zi)({videoId:n,disabled:!0});return u.createElement(eT,null,!r&&!(0,V.s)(e)&&u.createElement(u.Fragment,null,u.createElement(eL,{showAddReply:()=>a(e)}),u.createElement(eN,{reactionPickerProp:{reactionPickerPopupOpen:l,onReactionKey:s,reactionPickerPopupRef:c},commentId:e}),t&&u.createElement(eI,{className:"collapse-replies-btn"},u.createElement(B,{isCollapsed:!1,onClick:t}))))};var eD=n(44295),eR=n(96480),eV=n(63240),eW=n(5902),eO=n(9905),eF=n(24117);let eB=()=>u.createElement(I.ggW,{gap:"xsmall",alignContent:"space-between"},u.createElement(I.JO$,{size:"1rem",color:"bodyDimmed",icon:u.createElement(eF.P,null)}),u.createElement(I.xvT,{size:"body-sm",color:"bodyDimmed"},"Only you can see this"));var ez=n(89169),e$=n(82830),eM=n(73845),eU=n(16369);let eZ=e=>e===e$.ZT,ej=({comment:e,fullSize:t})=>{let n=(0,eM.B)([e.avatar]);return e?.avatar?.thumb&&eZ(e?.avatar?.thumb)&&(n=e$.ZT),u.createElement(I.LZC,{top:1},u.createElement(eU.P,{avatarSrc:n,hasFocus:!1,name:e.user_name,profileId:e.user_id},u.createElement(ez.Z,{avatarSrc:n,name:e.user_name,avatarSize:t?T.I.FULL:T.I.SMALL})))};var eH=n(2075),eG=n(11552),eY=n(89849),eK=n(30016);let eq=({commentId:e,editButton:t,deleteButton:n,copyButton:a})=>{let i=(0,eE.t)();return u.createElement(u.Fragment,null,ey.tq||i?u.createElement(I.Ltx,{trigger:u.createElement(I.hU,{altText:"dropdown",icon:u.createElement(eY.s,null),size:"small",iconColor:"bodyDimmed"}),options:[...t.show?[{title:"Edit",icon:u.createElement(eH.b,null),onClick:t.onClick}]:[],...n.show?[{title:"Delete",icon:u.createElement(eK.z,null),onClick:n.onClick}]:[],...(0,V.s)(e)?[]:[{title:"Copy Link",icon:u.createElement(eG.w,null),onClick:a.onClick}]]}):u.createElement(I.ggW,null,t.show&&u.createElement(I.ua7,{content:"Edit",placement:"topCenter"},u.createElement(I.hU,{onClick:t.onClick,className:"hover-btn",altText:"Edit",icon:u.createElement(eH.b,null),iconColor:"bodyDimmed",size:"small"})),n.show&&u.createElement(I.ua7,{content:"Delete",placement:"topCenter"},u.createElement(I.hU,{onClick:n.onClick,className:"hover-btn",altText:"Delete",icon:u.createElement(eK.z,null),iconColor:"bodyDimmed",size:"small"})),!(0,V.s)(e)&&u.createElement(I.ua7,{content:a.isCopied?"Link copied!":"Copy link",placement:"topCenter"},u.createElement(I.hU,{onClick:a.onClick,className:"hover-btn",altText:"Copy Link",icon:u.createElement(eG.w,null),size:"small",iconColor:"bodyDimmed"}))))},eJ=()=>u.createElement(I.W20,{paddingBottom:"small"},u.createElement(I.W20,{padding:"medium",radius:"medium",backgroundColor:"backgroundSecondary",maxWidth:72},u.createElement(I.ggW,{gap:"small"},u.createElement(I.JO$,{icon:u.createElement(eK.z,null),color:"bodyDimmed"}),u.createElement(I.xvT,{color:"bodyDimmed"},"This comment was deleted."))));var eX=n(4718);let eQ=({comment:e,trackRestoreComment:t,addCommentOrReplyDeleted:n})=>{let[a,i]=u.useState(!1),o=(0,er.B)(e)?`Deleted a comment from ${e.user_name??"someone"}.`:"Deleted a comment thread.",r=(0,eX.rS)(e,t),{refetch:s}=(0,eX.ZS)(),c=(0,I.GSU)([`(min-width: ${l.VC}px)`],["medium"],"small");return a?null:u.createElement(I.W20,{paddingY:"small"},u.createElement(I.W20,{paddingLeft:"medium",paddingRight:"medium",radius:"medium",backgroundColor:"backgroundSecondary",paddingY:"small",maxWidth:72},u.createElement(I.Pag,{justifyContent:"space-between"},u.createElement(I.I7m,{minWidth:"0px"},u.createElement(I.W20,{paddingRight:4},u.createElement(I.xvT,{size:c,hasEllipsis:!0,color:"bodyDimmed"},o))),u.createElement(I.I7m,null,u.createElement(I.Avr,{size:c,onClick:r},"Undo"),u.createElement(I.Avr,{size:c,onClick:()=>{i(!0),n&&n(e.id),s()}},"Dismiss")))))};var e0=n(12932),e1=n(26704);let e2=({time:e,fontSize:t,inActivitySidebar:n=!1})=>{let{setOverlayOpen:a,setTimestampClicked:i}=(0,m.j)(),r=(0,o.n_$)(),l=u.useCallback(()=>{r&&("number"==typeof e&&(r.currentTime=e),(0,V.r)()||r.play(),i(!0),a(!1))},[r,a,i,e]);return n?u.createElement(I.Avr,{size:t,onClick:l,"data-seconds":e,style:{color:"var(--lns-color-primary)",fontWeight:"var(--lns-fontWeight-book)",padding:"0px 4px"}},(0,e1.mr)(e)):u.createElement(u.Fragment,null,u.createElement(I.xvT,{size:t,color:"bodyDimmed"},"at"),u.createElement(I.xvT,{size:t,color:"bodyDimmed"},u.createElement(I.rUS,{color:"bodyDimmed",variant:"neutral",onClick:l,"data-seconds":e},(0,e1.mr)(e))))};var e3=n(16479),e5=n(47722),e4=n.n(e5),e6=((a=e6||{})[a.Edit=0]="Edit",a[a.Delete=1]="Delete",a[a.Restore=2]="Restore",a);let{formatDateToHumanReadableString:e7}=eR,e8=()=>{let e=(0,Z.xm)();return(0,H.b)(()=>{e()}),u.createElement(u.Fragment,null)},e9=e=>{let t=(0,eb.jS)(eV.cD),n=(0,eb.jS)(eV.$m),a=(0,eb.jS)(eW.pj);return""!==t?t===e:""!==n?n===e:""!==a&&a===e},te={google_meet:"Google Meet",microsoft_teams:"Microsoft Teams",webex:"Webex",zoom:"Zoom"},tt=({comment:e,videoMeetingPlatform:t,isReply:n,isEditingParentComment:a,isLastReply:i=!1,onCollapseRepliesButtonClick:r,parentId:l,setIsEditingParentComment:s,recentlyDeleted:d,addCommentOrReplyDeleted:m,lastCommentLocallyDeleted:g,setLastCommentLocallyDeleted:p,replyFieldShowing:v})=>{let f=(0,X.cE)(),h=function(e){let{video:t}=(0,o.dPl)(),n=(0,c.useCurrentUserSelector)(e=>e.id,void 0),a=t.isOwner,i=e.user_id===n,r=e?.anon_user_id===(0,e3.$e)();return a||i||r||(0,V.s)(e.id)}(e),E=function(e){let t=(0,c.useCurrentUserSelector)(e=>e.id,void 0),n=e.user_id===t,a=e?.anon_user_id===(0,e3.$e)(),{isChatMessage:i}=e,o="string"==typeof e?.extended_reaction;return!i&&!o&&(n||a)}(e),_=f?"medium":"small",{video:{id:y}}=(0,o.dPl)(),b=(0,eO.rx)(y).concat("?",n?eV.$m:eV.cD,"=",e.id),[k,w]=(0,u.useState)(!1),T=(0,G.hP)(),x=e7(e.createdAt),A=(0,eb.U9)(),N=t=>{let a,i;switch(t){case 0:a=$.JIC,i=z.Xo;break;case 1:a=$.J11,i=z.Zj;break;case 2:a=$.KGy,i=z.R9}Q.track(a,{user_id:e.user_id,anonymous_user_id:e.anon_user_id,organization_id:T.id,video_id:y,comment_id:e.id,[i]:n?"Reply":"Comment"})},L=function(e,t,n){let{password:a}=(0,ei.u)(),{pushError:i}=(0,eo.X)(),{showErrorBar:o}=(0,ea.gV)(),[r]=(0,en.D)(e4(),{optimisticResponse:{deleteComment:!0},variables:{type:(0,er.B)(e)?"REPLY":"COMMENT",id:e.id,password:a},onError:()=>{i("Error deleting comment"),o({message:"Failed to delete comment.",severity:et.W9.ERROR})},update:t=>{t.modify({id:t.identify(e),fields:{locallyDeleted:()=>!0,deletedAt:()=>new Date}}),n&&n()},onCompleted:()=>{t()}});return r}(e,()=>{N(1)},()=>{p({type:n?"reply":"comment",id:e.id})}),{deleteAutoComment:P}=(0,K.kl)();"number"==typeof e.time_stamp&&(b=b.concat("&t=",String(e.time_stamp)));let[D,R]=(0,j.Z)(b,{successDuration:2e3}),O=t?te[t]:null,F=u.useCallback(e=>e.addEventListener("animationend",()=>{(0,eb.$5)(window)(eV.$m),(0,eb.$5)(window)(eV.cD),(0,eb.$5)(window)(eW.pj),(0,eb.$5)(window)("t")}),[]),[B,M]=(0,u.useState)(!0);(0,u.useEffect)(()=>{let e=setTimeout(()=>{M(!1)},1e3);return()=>clearTimeout(e)},[]);let Z=(0,u.useMemo)(()=>e9(e.id),[e.id])&&!B,H=u.useCallback(()=>{w(!0),n||void 0===s||s(!0)},[n,s]),q=u.useCallback(()=>{w(!1),n||void 0===s||s(!1)},[n,s]);if((0,u.useEffect)(()=>{e.inFlightContent&&H()},[e.inFlightContent]),!n&&e.deletedAt&&(!e.locallyDeleted||e.locallyDeleted&&d.commentIds.includes(e.id)))return u.createElement(eJ,null);if(e.locallyDeleted){let t=n&&"reply"===g.type,a=!n&&"comment"===g.type,i=(t||a)&&g.id===e.id,o="reply"===g.type?d.replyIds.includes(g.id):d.commentIds.includes(g.id),r=n?d.replyIds.includes(e.id):d.commentIds.includes(e.id);return(i||o)&&!r?u.createElement(eQ,{comment:e,trackRestoreComment:()=>N(2),addCommentOrReplyDeleted:m}):(m(e.id),null)}let J=e.children_comments,ee=!J?.length||J?.every(e=>d.replyIds.includes(e.id)),el=()=>n?!i||i&&v:ee?v:void 0;return k?u.createElement(eu,{comment:e,onClose:q,trackEditComment:()=>N(0)}):u.createElement(u.Fragment,null,u.createElement(S,{shouldScroll:Z,onPageLoad:!0,inActivitySidebar:!0,cleanupAfterHighlight:F},u.createElement(C,{show:!ey.tq},u.createElement(I.ggW,{gap:f?"medium":"xsmall",columns:["auto","1fr"],alignItems:"start"},n?u.createElement(W,null,u.createElement(ej,{comment:e,fullSize:f}),el()&&u.createElement("div",{className:"straightLine"})):ee?u.createElement(Y,{singleComment:!0},u.createElement(ej,{comment:e,fullSize:f}),el()&&u.createElement("div",{className:"straightLine"})):u.createElement(Y,{singleComment:!1},u.createElement(ej,{comment:e,fullSize:f}),u.createElement("div",{className:"straightLine",style:a?{opacity:"30%"}:{}})),u.createElement("div",{className:U()("comment-container")},u.createElement(u.Fragment,null,u.createElement(I.Pag,{justifyContent:"space-between"},u.createElement(I.I7m,null,u.createElement(I.ggW,{gap:"xsmall"},u.createElement(I.xvT,{fontWeight:"bold"},e.user_name??"Anonymous"),!n&&u.createElement(e2,{time:e.time_stamp,fontSize:_,inActivitySidebar:!0}),e.isChatMessage&&O?u.createElement(I.xvT,{size:"body-sm",color:"bodyDimmed"},"from ",O):u.createElement(I.ua7,{content:x,placement:"topCenter"},u.createElement(I.xvT,{size:_,color:"bodyDimmed"},(0,eD.S4)(e.createdAt,{showShorthand:!0}))),e.edited&&u.createElement(I.xvT,{size:_,color:"bodyDimmed"},"(edited)"))),u.createElement(I.I7m,null,u.createElement(eq,{commentId:e.id,copyButton:{isCopied:D,onClick:()=>{R()}},editButton:{show:E,onClick:H},deleteButton:{show:h,onClick:(0,V.s)(e.id)?P:L}}))),u.createElement("div",null,(0,V.s)(e.id)&&u.createElement(eB,null),u.createElement(e0.Q,{comment:e})),i?u.createElement(eP,{commentId:n&&l?l:e.id,onCollapseRepliesButtonClick:r}):null))))),!A&&Z&&u.createElement(e8,null))},tn=i.Z.div`
  display: ${e=>e.shouldHide?"none":"block"};
`,ta=i.Z.span`
  --curveSize: ${(0,I.u)(T.I.UNITLESS/2)};
  display: block;
  position: relative;
  height: var(--lineSize);
  width: ${e=>e.fullSize?"calc((50% + var(--lns-space-medium)) - var(--elementsSpacing))":"12px"};
  transform: translate(50%, calc(0.5 * var(--avatarSize)));
  &:before {
    display: block;
    position: absolute;
    content: '';
    width: 100%;
    height: var(--curveSize);
    border: var(--lineSize) solid var(--lns-color-border);
    border-top: 0;
    border-right: 0;
    border-radius: 0 0 0 calc(var(--curveSize) / 2);
    bottom: 100%;
    left: calc(-0.5 * var(--lineSize));
  }
`,ti=i.Z.div(e=>e.show&&{opacity:"30%",pointerEvents:"none"}),to=({commentId:e,videoMeetingPlatform:t,replies:n,isEditingParentComment:a,recentlyDeleted:i,addReplyDeleted:o,lastCommentLocallyDeleted:r,setLastCommentLocallyDeleted:l,replyFieldShowing:s})=>{let c=(0,u.useMemo)(()=>a,[a]),d=(0,X.cE)(),m=n?.length&&!n.every(e=>i.replyIds.includes(e.id))?n.length:0,g=m>2,[p,v]=(0,u.useState)(!1),f=u.useCallback(()=>v(!0),[]),h=u.useCallback(()=>v(!1),[]),E=(0,u.useMemo)(()=>m<=2?{firstNReplies:n,lastFewReplies:[]}:{firstNReplies:n.slice(0,-2),lastFewReplies:n.slice(-2,m)},[n,m]),{firstNReplies:_,lastFewReplies:y}=E;return(0,u.useEffect)(()=>{g&&v(g)},[g]),m?u.createElement(ti,{show:c},g&&p&&u.createElement(B,{isCollapsed:!0,onClick:h,extraRepliesCount:n.length-2}),u.createElement(I.ggW,{gap:d?"medium":"",columns:["auto","1fr"],alignItems:"start"},u.createElement(W,{style:{gap:0}},u.createElement("div",{className:"straightLine",style:{height:"var(--lns-space-small)",borderRadius:"unset"}}),u.createElement(ta,{fullSize:d})),u.createElement(I.ggW,{autoFlow:"row",justifyContent:"stretch"},u.createElement(u.Fragment,null,_.map((n,a)=>{let c=a===m-1;return u.createElement(tn,{key:a,shouldHide:p&&g},u.createElement(tt,{videoMeetingPlatform:t,comment:n,isReply:!0,parentId:e,isLastReply:c,recentlyDeleted:i,addCommentOrReplyDeleted:o,lastCommentLocallyDeleted:r,setLastCommentLocallyDeleted:l,replyFieldShowing:s}))}),y.map((n,a)=>{let c=a===y.length-1,d=c&&!p&&g;return u.createElement(tt,{videoMeetingPlatform:t,key:a+_.length,comment:n,isReply:!0,parentId:e,isLastReply:c,onCollapseRepliesButtonClick:d?f:void 0,recentlyDeleted:i,addCommentOrReplyDeleted:o,lastCommentLocallyDeleted:r,setLastCommentLocallyDeleted:l,replyFieldShowing:s})}))))):null},tr=({comment:e,videoMeetingPlatform:t,lastCommentLocallyDeleted:n,setLastCommentLocallyDeleted:a,recentlyDeleted:i,addToRecentlyDeleted:o})=>{let[r,l]=(0,u.useState)(!1),{setReplyId:s,replyId:c}=(0,m.j)(),d=c===e.id,g=e.children_comments,p=!!g.length;if(!(e.deletedAt&&p)&&i.commentIds.includes(e.id))return null;let v=!g.length||g.every(e=>i.replyIds.includes(e.id));return u.createElement(b,{id:`sidebar-comment-thread-parent-id-${e.id}`},u.createElement(tt,{comment:e,videoMeetingPlatform:t,isLastReply:v,isEditingParentComment:r,setIsEditingParentComment:l,recentlyDeleted:i,addCommentOrReplyDeleted:e=>{o("comment",e)},lastCommentLocallyDeleted:n,setLastCommentLocallyDeleted:a,replyFieldShowing:d}),u.createElement(to,{commentId:e.id,videoMeetingPlatform:t,replies:g,isEditingParentComment:r,recentlyDeleted:i,addReplyDeleted:e=>{o("reply",e)},lastCommentLocallyDeleted:n,setLastCommentLocallyDeleted:a,replyFieldShowing:d}),d&&!(0,V.s)(e.id)&&u.createElement(R.CommentInput,{replyTo:e.id,isFirstReply:!p,closeReply:()=>s(null)}))},tl=()=>u.createElement("svg",{width:"315",height:"94",viewBox:"0 0 315 94",fill:"none",xmlns:"http://www.w3.org/2000/svg"},u.createElement("g",{filter:"url(#filter0_d_1274_15345)"},u.createElement("rect",{x:"10.5",y:"6",width:"294",height:"74",rx:"24",fill:"white"}),u.createElement("rect",{x:"11",y:"6.5",width:"293",height:"73",rx:"23.5",stroke:"#DAD0B4",strokeOpacity:"0.2"}),u.createElement("rect",{x:"42.5",y:"22",width:"26",height:"26",rx:"13",fill:"#ECECEF"}),u.createElement("rect",{x:"76.5",y:"29.6401",width:"62.6697",height:"10.8318",rx:"3.0948",fill:"#ECECEF"}),u.createElement("rect",{x:"144.586",y:"29.6401",width:"25.5321",height:"10.8318",rx:"3.0948",fill:"#ECECEF"}),u.createElement("rect",{x:"76.5",y:"49.7563",width:"196",height:"10.8318",rx:"3.0948",fill:"#ECECEF"})),u.createElement("defs",null,u.createElement("filter",{id:"filter0_d_1274_15345",x:"0.5",y:"0",width:"314",height:"94",filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB"},u.createElement("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),u.createElement("feColorMatrix",{in:"SourceAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0",result:"hardAlpha"}),u.createElement("feOffset",{dy:"4"}),u.createElement("feGaussianBlur",{stdDeviation:"5"}),u.createElement("feColorMatrix",{type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.05 0"}),u.createElement("feBlend",{mode:"normal",in2:"BackgroundImageFix",result:"effect1_dropShadow_1274_15345"}),u.createElement("feBlend",{mode:"normal",in:"SourceGraphic",in2:"effect1_dropShadow_1274_15345",result:"shape"})))),ts=()=>{let{video:e}=(0,o.dPl)(),{id:t,owner:{name:n}}=e,a=(0,o.nn3)(t);return u.createElement("div",{className:"text:center"},u.createElement(I.LZC,{top:17}),u.createElement("div",{className:"no-comment-logged-in-placeholder-with-ai-workflow_imageContainer_1gW"},u.createElement(tl,null),u.createElement("div",{className:"no-comment-logged-in-placeholder-with-ai-workflow_wavingEmojiContainer_15u"},u.createElement("span",{className:"inlineBlock text:heading-sm"},"\uD83D\uDC4B"))),u.createElement(I.xvT,{fontWeight:"bold",size:"body-lg"},"Let ",n.split(" ")[0]," know what you think"),u.createElement(I.LZC,{top:1,bottom:2},u.createElement(I.xvT,{color:"bodyDimmed"},"Share your thoughts and leave feedback.")),u.createElement(I.zxk,{variant:"primary",size:"large",onClick:()=>a?.commentFormToggle(!0)},"Write a comment"))},tc=(e,t)=>{let n=e.children_comments,a=!!(e.deletedAt&&n?.length>0),i=n?.every(e=>t.includes(e.id));return a&&!i},td=i.Z.section`
  & > * {
    padding-bottom: ${e=>e.inActivitySidebar?"0":"var(--lns-space-large) !important"};
    &:last-child {
      padding: 0;
    }
  }
  --avatarSize: ${T.I.SIZE};
  --avatarSizeSmall: var(--lns-space-large);
  --elementsSpacing: var(--lns-space-xsmall);

  padding-top: 1px;

  .comment-container {
    padding-top: var(--lns-space-small);
    padding-bottom: var(--lns-space-small);
    padding-right: var(--lns-space-small);

    .hover-btn {
      visibility: hidden;
    }
  }

  .comment-container:hover {
    .hover-btn {
      visibility: visible;
    }
  }
`,tm=({comments:e,videoMeetingPlatform:t,highlightGroup:n,showPlaceholderWhenNoComments:a,inActivitySidebar:i})=>{let[l,s]=(0,u.useState)({type:"",id:""}),[c,d]=(0,u.useState)({commentIds:[],replyIds:[]}),{video:m}=(0,o.dPl)(),{isEnabled:g}=(0,r.Z)(m),p=(e,t)=>{let n="comment"===e&&!c.commentIds.includes(t),a="reply"===e&&!c.replyIds.includes(t);n?d(e=>({commentIds:[...e.commentIds,t],replyIds:e.replyIds})):a&&d(e=>({commentIds:e.commentIds,replyIds:[...e.replyIds,t]}))},v=!e?.length||e?.every(e=>c.commentIds.includes(e.id)&&!tc(e,c.replyIds));if(a&&v)return g?u.createElement(ts,null):u.createElement(D,{inActivitySidebar:i});let f=!1;return u.createElement(td,{inActivitySidebar:i},e.map(e=>{let a=e.id,o=n.includes(a),r=o&&!f;return r&&(f=!0),o?u.createElement(S,{shouldScroll:r,inActivitySidebar:i,key:a},u.createElement(tr,{videoMeetingPlatform:t,comment:e,lastCommentLocallyDeleted:l,setLastCommentLocallyDeleted:s,recentlyDeleted:c,addToRecentlyDeleted:p})):u.createElement(tr,{videoMeetingPlatform:t,key:a,comment:e,lastCommentLocallyDeleted:l,setLastCommentLocallyDeleted:s,recentlyDeleted:c,addToRecentlyDeleted:p})}))}},522:function(e,t,n){"use strict";n.d(t,{B:function(){return r}});var a=n(55158);let i=(e,t)=>e.time_stamp===t.time_stamp?(0,a.Z)(new Date(e.createdAt),new Date(t.createdAt)):(e.time_stamp||0)-(t.time_stamp||0),o=e=>e.slice().sort(i),r=e=>{let t=e.map(e=>e.children_comments?{...e,children_comments:o([...e.children_comments])}:e);return o(t)}},31315:function(e,t,n){"use strict";n.d(t,{D:function(){return l}});var a=n(66420),i=n(14728),o=n(68842);let r=({title:e,subtitle:t,onPrimaryClick:n})=>a.createElement(i.W20,{contentColor:"body",backgroundColor:"background",radius:"large",shadow:"medium",padding:"medium",width:40,borderSide:"all",borderWidth:".2rem",position:"relative",zIndex:2,style:{backgroundOrigin:"padding-box, border-box",backgroundClip:"padding-box, border-box"},borderColor:"transparent",backgroundImage:"linear-gradient(white, white), linear-gradient(to right, #565ADD, #9F92EC, #DC43BE);"},a.createElement(i.ggW,{rows:"true",gap:"small"},a.createElement(i.xvT,{variant:"title"},e),t||null,a.createElement(i.W20,{paddingTop:"small"},a.createElement(i.ggW,{justifyContent:"space-between"},a.createElement(i.ggW,{gap:"small"},a.createElement(i.zxk,{onClick:n,icon:a.createElement(o.s,null),iconPosition:"right",size:"small"},"Manage")))))),l=({onPrimaryClick:e,isOpen:t,placement:n,subtitle:o,title:l})=>a.createElement(i.J2e,{isOpen:t,placement:n,transitionDuration:200,transitionDelay:50,content:a.createElement(r,{title:l,subtitle:o,onPrimaryClick:e})})},37894:function(e,t,n){"use strict";n.d(t,{b:function(){return r}});var a=n(66420),i=n(20076);let o=(0,i.r)(()=>n.e(6415).then(n.bind(n,56415)).then(e=>({default:e.EmojiReactionSetAndEmojiPicker}))),r=e=>a.createElement(a.Suspense,{fallback:null},a.createElement(o,{...e}))},63320:function(e,t,n){"use strict";n.d(t,{W:function(){return o}});var a=n(23555),i=n(29256);let o=()=>{let{video:{personalizationType:e,isParentOfPersonalizedCopies:t}}=(0,a.dPl)(),n=e===i.at.Audio;return!!(n&&!t)||!(n&&t)}},9067:function(e,t,n){"use strict";n.d(t,{R:function(){return r}});var a=n(66420),i=n(14728),o=n(29319);let r=({isDisabled:e,compact:t,buttonText:n,iconColor:r})=>{let l=(0,i.GSU)(["(min-width: 560px)"],[!0],!1)?"medium":"small";return t?a.createElement(a.Fragment,null,a.createElement(i.hU,{isDisabled:e,icon:a.createElement(o.x,null),iconColor:r})):a.createElement(i.Avr,{isDisabled:e,icon:a.createElement(o.x,null),size:l},n)}},75793:function(e,t,n){"use strict";n.d(t,{d:function(){return _},e:function(){return T}});var a=n(55117),i=n(72931),o=n(73362),r=n(26998),l=n(79839),s=n(27462),c=n(23555),d=n(43781),m=n(17132),u=n(66420),g=n(89895),p=n(80512),v=n(34698),f=n(15596),h=n(2677);let E=e=>{switch(e){case o.b.ENGAGEMENT_BAR:return a.uE;case o.b.VIDEO_END_SCREEN:return a.Q1;case o.b.SIDEBAR_ENTRY_POINT:return a.C0;default:return null}},_=e=>{let{anonUserName:t}=(0,s.P)(),n=(0,g.I0)(),a=(0,g.v9)(v.qx),o=(0,r.useIsCurrentUserLoggedIn)(),{video:{id:_}}=(0,c.dPl)(),{createComment:y}=(0,d.b)();return(0,u.useCallback)(async()=>{(await (0,m.X)().waitOnInstance()).configureButton({hooks:{onRecordingComplete:()=>{},onUploadComplete:()=>{},onInsertClicked:r=>{if(o&&a){let n=r.sharedUrl;y({content:n,addReplyId:null,anonUserName:t}),h.track(i.jde,{video_id:_,creation_method:E(e.source),comment_length:n?.length,freshPlayer:!0,video_ended:!0})}else n((0,p.h7)({modalType:l.Hk,options:{videoId:r.id,comment:r.sharedUrl,addReplyId:null}}));(0,f.v3)("recorder.insert_recording",{source:e.source,isLoggedIn:o})},onStart:()=>{h.track(i.Thw,e),(0,f.v3)("recorder.start_recording",{source:e.source,isLoggedIn:o})},onCancel:()=>{h.track(i.nnD,e),(0,f.v3)("recorder.cancel_recording",{source:e.source,isLoggedIn:o})},onComplete:()=>{h.track(i.l6n,e),(0,f.v3)("recorder.recording_complete",{source:e.source,isLoggedIn:o})}}}).openPreRecordPanel()},[t,y,n,e,a,o,_])};var y=n(94705),b=n(5309),k=n(56977),w=n(6180),C=n(62189),S=n(18807);let T=()=>{let{video:{recordReplyEnabled:e,videoWorkspacePlan:t}}=(0,c.dPl)(),n=(0,k.hP)(),{isSDKSupported:a}=(0,b.a)(),{needsPassword:i,password:o}=(0,y.u)(),r=t===S.Fs;return!!(n?.memberRole!==C.b3&&e&&a&&!r&&!w.tq&&(!i||""!==o))}},74900:function(e,t,n){"use strict";n.d(t,{U:function(){return f}});var a=n(17563),i=n(44314),o=n(14374),r=n(99532),l=n(58461),s=n(85845),c=n(20076);let d=()=>(0,c.X)(()=>n.e(45).then(n.bind(n,60045)),s.H);var m=Object.defineProperty,u=(e,t,n)=>t in e?m(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,g=(e,t,n)=>u(e,"symbol"!=typeof t?t+"":t,n);let p=async e=>{try{let t=await (0,i.Z)("/integrations-app/sdk/create-jws");if(t.status!==r.Us)throw Error("Fetching access token to setup recordSDK failed.");let{createInstance:n}=await d(),{jws:a}=await t.json();return n({mode:"custom",jws:a,config:e})}catch(t){return o.error(t,{message:"recordSDK setup with secure key failed."},{feature:l.L0.SDKRecorder}),v(e)}},v=async e=>{let{createInstance:t}=await d();return t({mode:"standard",publicAppId:a.KP,config:e})};class f{constructor(e={}){g(this,"instance"),g(this,"config"),this.config=e}setup(){return p(this.config)}async waitOnInstance(){return this.instance||(this.instance=await this.setup()),this.instance}}},17132:function(e,t,n){"use strict";let a;n.d(t,{X:function(){return r}});var i=n(74900);let o={enablePictureInPicture:!0,productName:"loom",entryPointName:"record_a_reply"};function r(){return a||(a=new i.U(o)),a}},27275:function(e,t,n){"use strict";n.d(t,{i:function(){return d},w:function(){return g}});var a=n(71770),i=n(23555),o=n(28668),r=n(84515);let l={},s=(0,o.Ps)`
    query GetAudioVariablesEligibilityForVariablesEntryPoint($videoId: ID!) {
  determineAudioPersonalizationEligibility(videoId: $videoId) {
    ... on DetermineAudioPersonalizationEligibilityPayload {
      isEligible
      reason
    }
    ... on GenericError {
      message
    }
    __typename
  }
}
    `,c=(e,t,n,a)=>{let i=!1,o="Feature unavailable on this video";return!t||n?{hasAccess:i,reason:null}:(a&&e?.determineAudioPersonalizationEligibility?.__typename==="DetermineAudioPersonalizationEligibilityPayload"&&(i=!!e.determineAudioPersonalizationEligibility.isEligible,o=e.determineAudioPersonalizationEligibility.reason),{hasAccess:i,reason:o})},d=()=>{let{video:{id:e,uploadComplete:t}}=(0,i.dPl)(),{transcriptInProgress:n,transcriptUnavailable:o}=(0,a.h7)(),{data:d}=function(e){let t={...l,...e};return r.a(s,t)}({variables:{videoId:e},skip:!t||o||n,fetchPolicy:"cache-first"});return c(d,!!t,n,!o)};var m=n(89536),u=n(6621);let g=({isTitleVariablesVideo:e})=>{let t=(0,m.W9)(u.aEE);return e?{shouldShowEmailColumn:!1,shouldShowImportCsvButton:!1}:void 0===t?{shouldShowEmailColumn:void 0,shouldShowImportCsvButton:void 0}:"variant-1"===t?{shouldShowImportCsvButton:!0,shouldShowEmailColumn:!1}:"variant-2"===t?{shouldShowImportCsvButton:!0,shouldShowEmailColumn:!0}:{shouldShowEmailColumn:!1,shouldShowImportCsvButton:!1}}},55647:function(e,t,n){"use strict";n.d(t,{O:function(){return b}});var a=n(26998),i=n(74137),o=n(42145),r=n(89536),l=n(25872),s=n(58119),c=n(72357),d=n(56977),m=n(66420),u=n(60398),g=n(27584),p=n(6621),v=n(62189),f=n(45218),h=n(85578),E=n(18807),_=n(19267),y=n(20537);let b=()=>{let e=(0,l.l)(),{shouldShowAtlassianWelcomeModal:t,loading:n}=(0,s.a)(),{selectedWorkspace:b,isFetching:k}=(0,d.mf)(),w=(0,r.Mr)({flag:p.EjA,activationValues:i.y}),{value:C,loading:S}=(0,c.B)(h.BR.SEASONAL_LAUNCH_MODAL_VARIANTS),T=(0,a.useCurrentUserSelector)(e=>e.memberships?.[0]?.organization.is_pure_trial??!1,!1),x=!!(0,r.W9)(p.EI5),I=b?.memberRole===v.Xx||b?.memberRole===v.dt,{data:A}=(0,o.rj)({variables:{workspaceId:b?.id},skip:!b?.id}),N=A?.customer?.__typename==="LoomCustomer"?A.customer:null,L=(0,u.yO)(N),{loading:P,value:D}=(0,y.h)(f.aM.ALLOWS_AI),R=(0,g.df)(b),V=b?.type===E.q1&&T&&!L,W=b?.type===E.Fs,O=!!e.get("request_ai_addon")||!!e.get("ai_addon_upgrade"),F=(0,_.MS)()&&w&&!S&&!O&&!W&&!k&&void 0!==b&&!t&&!n&&I&&x&&!R&&!V&&!P&&!!D,B=(0,m.useRef)(!!C);return{showSeasonalLaunchVariantsFtuxModal:F,hasSeenSeasonalLaunchVariantFtuxOnPageLoad:B}}},73038:function(e,t,n){"use strict";n.d(t,{c:function(){return eM},G:function(){return ez}});var a,i=n(72931),o=n(40754),r=n(91564),l=n(74583),s=n(34017),c=n(77848),d=n.n(c),m=n(26998),u=n(30709),g=n(80795),p=n(45731),v=n(23555),f=n(97947),h=n(803),E=n(89536),_=n(84435),y=n(3603),b=n(99739),k=n(67591),w=n(56977),C=n(31315),S=n(5862),T=n(30328),x=n(42089),I=n(66420),A=n(61824),N=n(89895),L=n(62989),P=n(74598),D=n(81923),R=n(2191),V=n(54545),W=n(14728),O=n(30016),F=n(54913),B=n(96480),z=n(6621),$=n(96367),M=n(62189),U=n(58461),Z=n(3273),j=n(72924),H=n(40458),G=n(61435),Y=n(2677),K=n(28668),q=n(84515);let J={},X=(0,K.Ps)`
    query GetVideoCurrentUserCanEdit($videoId: ID!, $password: String) {
  getVideo(id: $videoId, password: $password) {
    ... on RegularUserVideo {
      id
      currentUserCanEdit
    }
  }
}
    `;var Q=n(54889),ee=n(11378),et=n(98134),en=n(80149),ea=n(87548),ei=n(89637),eo=n(76715),er=n(37235),el=n(56641),es=n(43986),ec=n(6666),ed=n(57294),em=n(13592),eu=((a=eu||{}).Loom="loom",a.Confluence="confluence",a.Jira="jira",a.BitBucket="bitbucket",a.GoogleDoc="google_doc",a.GoogleSheet="google_sheet",a.GoogleSlides="google_slides",a.Figma="figma",a.GithubPr="github_pr",a.GithubGist="github_gist",a.Word="word",a.Excel="excel",a.Powerpoint="powerpoint",a.Onenote="onenote",a);RegExp("https://docs.google.com/document","ig"),RegExp("https://docs.google.com/spreadsheets","ig"),RegExp("https://docs.google.com/presentation","ig"),RegExp("https://([^.]+).atlassian.net/browse/\\S+","ig"),RegExp("https://([^.]+).atlassian.net/wiki/\\S+","ig"),RegExp("https://(?:www.)?loom.com/share/\\S+","ig"),RegExp("https://(?:www.)?figma.com(/|\\z)","ig"),RegExp("https://gist.github.com(/|\\z)","ig"),RegExp("https://github.com/\\S+/\\S+/pull/\\S+","ig"),RegExp("https://1drv.ms/w/\\S+","ig"),RegExp("https://1drv.ms/x/\\S+","ig"),RegExp("https://1drv.ms/p/\\S+","ig"),RegExp("https://1drv.ms/o/\\S+","ig");let eg={},ep=(0,K.Ps)`
    query GetVideoAttachments($videoId: ID!, $password: String) {
  getVideo(id: $videoId, password: $password) {
    ... on RegularUserVideo {
      id
      attachments {
        id
        url
        service {
          name
          humanName
        }
      }
    }
  }
}
    `,ev={[eu.Loom]:I.createElement("div",{style:{height:"16px"}},I.createElement(W.TRl,{variant:"symbol",maxWidth:"16px",style:{height:"16px"}})),[eu.Jira]:I.createElement(el.w,null),[eu.Confluence]:I.createElement(ee.M,null),[eu.BitBucket]:I.createElement(Q.Y,null),[eu.GoogleDoc]:I.createElement(ei.w,null),[eu.GoogleSheet]:I.createElement(eo.D,null),[eu.GoogleSlides]:I.createElement(er.o,null),[eu.Figma]:I.createElement(en.T,null),[eu.GithubGist]:I.createElement(ea.m,null),[eu.GithubPr]:I.createElement(ea.m,null),[eu.Word]:I.createElement(em.$,null),[eu.Excel]:I.createElement(es.L,null),[eu.Powerpoint]:I.createElement(ed.v,null),[eu.Onenote]:I.createElement(ec.V,null)},ef=()=>{let{video:{id:e}}=(0,v.dPl)(),{password:t}=(0,p.u)(),{data:n}=function(e){let t={...eg,...e};return q.a(ep,t)}({variables:{videoId:e,password:t}}),a=[];return n?.getVideo?.__typename==="RegularUserVideo"&&(a=n.getVideo.attachments.map(({id:e,service:t,url:n})=>I.createElement("a",{key:e,href:n,target:"_blank",rel:"noreferrer"},I.createElement(W.DRh,{icon:t&&ev[t.name]?ev[t.name]:I.createElement(et.l,null),iconPosition:"left",style:{border:"1px solid var(--lns-color-border)"}},t?.humanName||n)))),0===a.length?I.createElement(I.Fragment,null):I.createElement(W.W20,{marginTop:"large"},I.createElement(W.xvT,{variant:"title",htmlTag:"h3"},"Shared links"),I.createElement(W.LZC,{top:"small"}),I.createElement(W.Pag,{gap:"small"},a))},eh=e=>null==e||0===e.length;var eE=n(49003),e_=n(80557),ey=n(53562),eb=n.n(ey),ek=n(78333);let ew=(e,{timestampClassName:t="timestamp",videoUrl:n,videoLength:a})=>{let i=e.utils.arrayReplaceAt,o=e.utils.escapeRE,r=e.utils.lib.ucmicro.P.source,l=e.utils.lib.ucmicro.Z.source,s="["+" \r\n$+<=>^`|~".split("").map(o).join("")+"]",c="".concat(r,"|").concat(l,"|").concat(s);e.core.ruler.after("linkify","timestamp_replace",function(e){let a=e.tokens,o=/\d/,r=RegExp("(^|".concat(c,")")+"(".concat("\\d?\\d:\\d\\d",")")+"($|".concat(c,")"),"g");for(let l=0,s=a.length;l<s;l++){if("inline"!==a[l].type)continue;let s=a[l].children;for(let c=s.length-1;c>=0;c--){let d;let m=s[c];if("text"!==m.type)continue;let u=0,g=m.content;r.lastIndex=0;let p=[];if(o.test(g)){for(;d=r.exec(g);){if(d.index>0||d[1].length>0){let t=g.slice(u,d.index+d[1].length),n=new e.Token("text","",0);n.content=t,p.push(n)}let[a,i]=d[2].split(":").map(e=>parseInt(e)),o=new e.Token("timestamp_open","a",1);o.attrs=[["class",t],["data-seconds",60*a+i],["href","".concat(n,"?t=").concat(60*a+i)]],p.push(o);let l=new e.Token("text","",0);l.content=d[2],p.push(l);let s=new e.Token("timestamp_close","a",-1);p.push(s),r.lastIndex-=d[3].length,u=r.lastIndex}if(p.length){if(u<g.length){let t=new e.Token("text","",0);t.content=g.slice(u),p.push(t)}a[l].children=s=i(s,c,p)}}}}})};var eC=n(54533),eS={descriptionHover:"linked-description_descriptionHover_3GN",matchPlaceholderColor:"linked-description_matchPlaceholderColor_2cq",show:"linked-description_show_3nA",textCursor:"linked-description_textCursor_34x",whiteSpaceBreak:"linked-description_whiteSpaceBreak_-qW",timestamp:"linked-description_timestamp_hkW",meetingSummaryAi:"linked-description_meetingSummaryAi_1Rl"};let eT=({description:e,videoUrl:t,videoLength:n,setPlayerTime:a})=>{let i=(0,I.useRef)(null);return(0,I.useEffect)(()=>{if(!i.current)return;let e=e=>{e.preventDefault(),eC.j.call(e.target,e),a(parseInt(e.currentTarget.getAttribute("data-seconds"))),window.scroll(0,0)},t=i.current.querySelectorAll(`.${eS.timestamp}[data-seconds]`);for(let n=0;n<t.length;n++)t[n].addEventListener("click",e);return()=>{for(let n=0;n<t.length;n++)t[n].removeEventListener("click",e)}},[a]),I.createElement("div",{ref:i,dangerouslySetInnerHTML:{__html:(0,ek.Z)().use(ew,{videoUrl:t,videoLength:n,timestampClassName:eS.timestamp}).render(eb()(window).sanitize(e,{ALLOWED_TAGS:[]}))}})},ex=({description:e,isMarkdown:t,defaultText:n,onClick:a,canEdit:o,seeMore:r,setSeeMore:l,wordsCutoff:s=50,className:c})=>{let m=eh(e),{video:{id:u,videoProperties:{playableDuration:g}}}=(0,v.dPl)(),p=(0,v.nn3)(u),[f,h]=(0,I.useState)(e),_=(0,E.Mr)({flag:z.Hjs,activationValues:[$.zY,$.oS]}),y=g?(0,e_.TT)(e,g):[],b=d()(c,eS.show,{[eS.descriptionHover]:o,[eS.textCursor]:o,[eS.matchPlaceholderColor]:m&&o,[eS.whiteSpaceBreak]:!t,[eS.meetingSummaryAi]:t});(0,I.useEffect)(()=>{if(_&&r&&!t){let t=e.split(" ");(t?.length??0)>s?h(t.slice(0,s).join(" ")):(h(e),l(!1)),Y.track(i.r0H)}else h(e)},[e,_,r,l,s,t]);let k=f||"",w=(0,I.useCallback)(e=>{p&&(p.currentTime=e,p.play())},[p]),C=`${eE.OA}/share/${u}`,S=[m?(0,e_.H3)(k,0,""):(0,e_.Xu)(y,k,w)],T=_&&r&&!t?I.createElement(I.Fragment,null,I.createElement(W.W20,{htmlTag:"span",paddingRight:"small"},"…"),I.createElement(W.Avr,{onClick:()=>{h(e),l(!1),Y.track(i.NW8)},size:"small",offsetSide:"left"},"See more")):null;return o?I.createElement(W.xvT,{size:"body-md",onClick:a,className:d()(b)},m?n:S,T):t?I.createElement(I.Fragment,null,I.createElement(W.W20,{marginTop:"small"},I.createElement(W.xvT,{size:"body-md",className:d()(b)},I.createElement(eT,{videoUrl:C,videoLength:g??0,description:k,setPlayerTime:w})))):I.createElement(W.xvT,{size:"body-md",className:d()(b)},S,T)};var eI={autoHeight:"video-description_autoHeight_3Ps",input:"video-description_input_3n8",backgroundColor:"video-description_backgroundColor_2L6",inputContainer:"video-description_inputContainer_3er",removeDescriptionButton:"video-description_removeDescriptionButton_1Vi",gradient:"video-description_gradient_2ft",mask:"video-description_mask_3lH",assistant:"video-description_assistant__Pa"},eA=n(53422),eN=n(65655),eL=n(76724);let eP={},eD=(0,K.Ps)`
    mutation UpdateVideoDescription($id: ID!, $description: String!) {
  updateVideoDescription(id: $id, description: $description) {
    id
    description
  }
}
    `,eR=()=>{let{showErrorBar:e}=(0,eN.gV)(),[t]=function(e){let t={...eP};return s.D(eD,t)}(),{setVideo:n}=(0,v.dPl)(),[a,o]=I.useState(!1);return{updateDescription:I.useCallback(async(a,r,l,s,c)=>{let d=(0,e_.TT)(l,s);if(""===l&&Y.track(i.dPy,{video_id:a}),r!==l){Y.track(i.Xe6,{video_id:a,length:l.length,includesTimestamp:0!==d.length,timestampCount:d.length,isFirst:c,hasLink:eL({apostrophes:!0,strict:!0,re2:!1}).test(l)});let{loading:r}=await t({variables:{id:a,description:l},onError:()=>{e({message:"Failed to update description.",severity:eA.W9.ERROR})},onCompleted:e=>{e.updateVideoDescription.description&&n({description:e.updateVideoDescription.description})}});o(r)}},[n,e,t]),isUpdatingDescription:a}},{secondsToVideoTS:eV}=B,eW="Add a summary...",eO="Remove summary",eF=e=>e||"",eB=e=>null==e,ez=e=>{let{password:t}=(0,p.u)(),{data:n}=function(e){let t={...J,...e};return q.a(X,t)}({variables:{videoId:e,password:t}});return n?.getVideo?.__typename==="RegularUserVideo"&&n.getVideo.currentUserCanEdit},e$=()=>{let[e,t]=(0,A.XI)(),{video:{description:n,id:a,videoProperties:{playableDuration:c}}}=(0,v.dPl)(),{updateDescription:p,isUpdatingDescription:P}=eR(),{featureLoadedRef:D}=(0,R.kX)(),B=(0,N.I0)(),U=(0,f.xm)(),K=(0,m.useCurrentUserSelector)(e=>e.videoSettings?.auto_summary!==!1,!1),{currentTime:q}=(0,v.YYI)(a),J=(0,y.v)({videoId:a}),X=!!m.useCurrentUserSelector(e=>e.aiAccess,null)?.autoSummaries,Q=N.v9(G.z8)?.transcript_details?.transcription_status,ee=(0,I.useRef)(null),{isDescriptionInputVisible:et,setIsDescriptionInputVisible:en,focusDescriptionInput:ea}=(0,T.Gq)(),[ei,eo]=(0,I.useState)(eF(n)),[er,el]=(0,I.useState)(!0),[es]=(0,I.useState)(new Date),ec=(0,N.v9)(G.yo),ed=(0,N.v9)(G._s),[em,eu]=(0,I.useState)(!1),[eg,ep]=(0,I.useState)(!1),ev=(0,u.O)(a),eE=ez(a)&&!ev;(0,I.useEffect)(()=>{let t=e&&ec===$.YJ.AUTO&&eE;ep(t)},[e,ec,eE,ep]);let e_=(0,E.Mr)({flag:z.Hjs,activationValues:[$.zY,$.oS]}),ey=!!(e_&&K&&X),eb=ey&&J&&!em&&(!ec||ec===$.YJ.PENDING),[ek]=(0,s.D)(H.EmitDatadogEvents),ew=(0,I.useCallback)(e=>{e===n?.trim()||P||(eo(e),p(a,n,e,c,eB(n)))},[P,eo,n,a,c,p]);(0,I.useEffect)(()=>{void 0!==e_&&!ey&&J&&(0,Y.track)(i.T9r,{summary_content:$.u9.DEFAULT,video_id:a})},[e_,ey,a,J]),(0,I.useEffect)(()=>{X&&(ec===$.YJ.AUTO&&(0,Y.track)(i.T9r,{summary_content:$.u9.AUTO_GENERATED,video_id:a}),ec&&eu(ec===$.YJ.USER))},[eu,ek,X,ec,es,a,c]);let eC=()=>{let e=ei?.trim();e===n?.trim()&&ei.length!==n.length&&eo(e),e!==n?.trim()&&(ew(e??""),ey&&(ec===$.YJ.AUTO?(0,Y.track)(i.T9r,{summary_content:$.u9.USER_EDITED_AUTO_GENERATED,video_id:a}):(0,Y.track)(i.T9r,{summary_content:$.u9.USER_EDITED_DEFAULT,video_id:a})),eu(!0)),en(!1)},eS=(0,I.useCallback)(()=>{eo("")},[]);(0,I.useEffect)(()=>{if(ee&&ee.current&&et){let e=ee.current;e.focus();let t=e.value.length;e.setSelectionRange(t,t),e.scrollIntoView({block:"center"})}},[et]),(0,I.useEffect)(()=>{e&&eE&&ey&&Y.track(i.Q0w)},[e,eE,ey]),(0,I.useEffect)(()=>{et||(0,Z.KQ)(Q)&&eu(!0)},[Q,eu,et]),(0,I.useEffect)(()=>{if(!(!eE||P)&&!em&&!et&&ec){if(ec===$.YJ.INVALID){eu(!0),(0,Y.track)(i.T9r,{summary_content:$.u9.ATTEMPTED_AUTO_GENERATION,video_id:a});return}ec===$.YJ.AUTO&&ew(ed),eu(ec===$.YJ.USER)}},[ed,ec,eE,P,et,em,eu,ew,a]),(0,I.useEffect)(()=>{let e=setTimeout(()=>{ec&&ec!==$.YJ.PENDING||(ey&&J&&(0,Y.track)(i.T9r,{summary_content:$.u9.ATTEMPTED_AUTO_GENERATION,video_id:a}),eu(!0))},J?35e3:0);return()=>{clearTimeout(e)}},[a,ey,ec,eu,J]);let eT=()=>{U(h.YS.Edit),B((0,j.oi)(!0))},eA=ec===($.YJ.AUTO&&ei)||ev&&ei,eN=I.createElement(ex,{canEdit:eE,onClick:()=>ea(a,"description_area"),defaultText:eW,description:ei,isMarkdown:ev,wordsCutoff:50,seeMore:er&&!eE,setSeeMore:el}),eL=(0,_.q)(),eP=(0,b.e)(),eD=(0,k.c)(),e$=!eL||eP,eM=(0,w.nw)()===M.Xx,eU=e$&&ev&&eD&&eM;(0,I.useEffect)(()=>{eU&&Y.track(i.bDd)},[eU]);let{onClick:eZ}=(0,g.X)(r.y.AI_MEETING_RECAP_CTA);return I.createElement("div",{ref:D},e$&&ev&&eD?I.createElement(W.W20,{borderSide:"all",backgroundColor:"background",borderColor:eP?"border":"primary",marginBottom:"large",paddingX:"medium",paddingY:"medium",radius:"large"},I.createElement(W.Pag,{justifyContent:"space-between",gap:"medium"},I.createElement(W.ggW,{gap:"xsmall",autoFlow:"row"},I.createElement(W.ggW,{gap:"xsmall"},I.createElement(W.xvT,{size:"body-lg",fontWeight:"bold"},eP?"Loom AI":"Get Loom AI"),I.createElement(W.xMy,{alignment:"topCenter"},I.createElement(W.TRl,{brand:"ai",maxWidth:1.5,variant:"symbol"})),eP&&I.createElement(W.DRh,{color:"white",backgroundColor:"blurpleStrong"},"Trial")),I.createElement(W.xvT,null,eU?`Upgrade now to ${eP?"keep":"get"} Loom AI for all your meetings.`:`Ask your workspace admin to upgrade now and ${eP?"keep":"get"} Loom AI for all your meetings.`)),eU&&I.createElement(W.zxk,{icon:I.createElement(F.R,null),variant:"upgrade",size:"small",onClick:()=>{Y.track(i.SVM),eZ()}},"Upgrade now"))):ev&&eL&&!ei&&I.createElement(W.W20,{borderSide:"all",backgroundColor:"background",borderColor:"border",marginBottom:"large",paddingX:"medium",paddingY:"medium",radius:"large"},I.createElement(W.Pag,{justifyContent:"space-between",gap:"medium"},I.createElement(W.ggW,{gap:"xsmall",autoFlow:"row"},I.createElement(W.ggW,{gap:"xsmall"},I.createElement(W.xvT,{size:"body-lg",fontWeight:"bold"},"The Loom AI recap is unavailable")),I.createElement(W.xvT,null,"Unfortunately the Loom AI recap is unavailable for this meeting.",eL&&eD&&!eP?" If you recently upgraded, any new meetings will be summarized with Loom AI.":" If you think this is an error, please contact support.")))),ev?I.createElement(I.Fragment,null,ei&&I.createElement(I.Fragment,null,I.createElement(W.xvT,{fontWeight:"bold",size:"heading-sm",htmlTag:"h2",style:{width:"fit-content"}},l.Ah),eA&&I.createElement(x.O,null))):I.createElement(I.Fragment,null,I.createElement(W.xvT,{fontWeight:"bold",size:"large",htmlTag:"h2",style:{width:"fit-content"}},l.ED),eA&&I.createElement(x.O,null)),ev&&eL?I.createElement(ef,null):null,et&&eE?I.createElement("div",{className:eI.inputContainer},I.createElement(S.a,{textRef:ee,className:d()(eI.autoHeight,eI.input,eI.backgroundColor),value:ei,placeholder:eW,onChange:e=>eo(e.target.value),onKeyDown:e=>{if(e.keyCode===o.Zo&&e.ctrlKey&&e.shiftKey){let e=`${eh(ei)?"":`
`}${eV(Math.round(q))} - `;eo(ei+e)}e.keyCode===o.hY?(eo(eF(n)),en(!1)):e.keyCode!==o.K5||e.shiftKey||eC()},onBlur:()=>{ei!==n&&eC()},shouldHighlight:!0}),I.createElement(W.W20,{className:eI.removeDescriptionButton},I.createElement(W.ua7,{tabIndex:-1,content:eO},I.createElement(W.hU,{altText:eO,icon:I.createElement(O.z,null),isDisabled:!ei,onMouseDown:eS})))):I.createElement(I.Fragment,null,I.createElement("div",{...t},(ei||eE)&&(eb?I.createElement(I.Fragment,null,I.createElement(W.ua7,{isInline:!1,content:"We are using AI to create a summary tailored to your Loom.",placement:"topLeft",isDisabled:!ey||ec!==$.YJ.PENDING},I.createElement(W.W20,{className:eI.assistant,onMouseEnter:()=>Y.track(i.Q0w)},I.createElement(W.W20,{className:eI.gradient}),I.createElement(W.W20,{className:eI.mask}),I.createElement(W.W20,{position:"relative",zIndex:2},eN))),I.createElement(V.BO,{name:L.Mi.AutoSummaryLoading})):I.createElement(I.Fragment,null,I.createElement(C.D,{isOpen:eg,onPrimaryClick:()=>{ep(!1),eT()},title:"Loom AI generated summary",subtitle:"We've automatically created a summary of the content of your video.",placement:"topLeft"}),eN,ey&&J&&I.createElement(V.BO,{name:L.Mi.AutoSummary}))))))},eM=()=>I.createElement(P.$,{feature:U.L0.VideoPackaging,errorType:D.s.DEFAULT,additionalLoggingValues:{version:"video description"}},I.createElement(e$,null))},21440:function(e,t,n){"use strict";n.d(t,{r:function(){return l}});var a=n(28668),i=n(34017);let o={},r=(0,a.Ps)`
    mutation UpdateUserVideoSettings($videoSettings: UserVideoSettingsInput!) {
  updateUserVideoSettings(videoSettings: $videoSettings) {
    __typename
    ... on UpdateUserVideoSettingsPayload {
      user {
        id
        videoSettings {
          auto_filler_word_removal
          auto_silence_removal
          show_transcript_to_viewer
          show_analytics_to_viewer
          suggested_playback_rate
          download_enabled
          record_reply_enabled
          viewers_can_weave_default
          comments_enabled
          comments_email_enabled
          use_emojis
          use_gif
          auto_cta
          auto_title
          auto_eovn
          auto_summary
          auto_chapters
          auto_tasks
          loom_branded_player
          noise_suppression
          email_gate_video_type
          salesforce_engagement_tracking
          stylizedCaptions
          viewerCaptionsOn
        }
      }
    }
  }
}
    `;function l(e){let t={...o,...e};return i.D(r,t)}},2071:function(e,t,n){"use strict";n.d(t,{K:function(){return l}});var a=n(28668),i=n(34017);let o={},r=(0,a.Ps)`
    mutation UpdateVideoSettings($videoId: ID!, $settings: VideoSettingsInput!, $password: String) {
  updateVideoSettings(videoId: $videoId, settings: $settings, password: $password) {
    __typename
    ... on UpdateVideoSettingsPayload {
      video {
        id
        comments_email_enabled
        comments_enabled
        download_enabled
        loom_branded_player
        processing_information {
          noise_cancellation_type
        }
        record_reply_enabled
        show_analytics_to_viewer
        show_transcript_to_viewer
        suggested_playback_rate
        use_emojis
        use_gif
        viewers_can_weave
        stylizedCaptions
        viewerCaptionsOn
      }
    }
    ... on InvalidRequestWarning {
      message
    }
    ... on Error {
      message
    }
  }
}
    `;function l(e){let t={...o,...e};return i.D(r,t)}},88447:function(e,t,n){"use strict";n.d(t,{Ct:function(){return v},I5:function(){return S},VS:function(){return b},Xp:function(){return y},aJ:function(){return C},rI:function(){return E},sc:function(){return f},tg:function(){return h},ue:function(){return w},vG:function(){return k},zL:function(){return _}});var a=n(93549),i=n(98090),o=n(48445),r=n(66423),l=n(90148),s=n(81679),c=n(80897),d=n(74171),m=n.n(d),u=n(70978),g=n.n(u),p=n(61709);let v=60,f=(e,t)=>{let n;let l=new Date;switch(e){case p.Nm.WEEK:{let e=(0,a.Z)(l,{weeks:t});n=`${(0,i.Z)((0,o.Z)(e),"M/d/yyyy")} - ${(0,i.Z)((0,r.Z)(e),"M/d/yyyy")}`}break;case p.Nm.MONTH:{let e=(0,a.Z)(l,{months:t});n=(0,i.Z)(e,"MMMM")}}return n},h=(e,t,n)=>{let a;let o=(0,l.Z)(t,"yyyy.M.dd",new Date),r=(0,l.Z)(n,"yyyy.M.dd",new Date);switch(e){case p.Nm.MONTH:a=`${(0,i.Z)(o,"LLLL d")} \u2013 ${(0,i.Z)(r,"LLLL d")}`;break;case p.Nm.WEEK:a=(0,i.Z)(o,"LLLL d, yyyy")}return a},E=(e,t)=>{let n;switch(e){case p.Nm.MONTH:n=(0,i.Z)((0,l.Z)(t,"yyyy.MM.dd",new Date),"M/d");break;case p.Nm.WEEK:n=(0,i.Z)((0,l.Z)(t,"yyyy.MM.dd",new Date),"EEEEEE")}return n},_=(e,t)=>{let n;switch(e){case p.Nm.MONTH:n=`Week of ${(0,i.Z)((0,l.Z)(t,"yyyy.M.dd",new Date),"M/d")} was a highlight.`;break;case p.Nm.WEEK:n=`${(0,i.Z)((0,l.Z)(t,"yyyy.M.dd",new Date),"eeee")} was your most async work day.`}return n},y=e=>{let t=[];return Object.keys(p.Wx).forEach(n=>{e?.[n]?.isValid&&(t=t.concat(e?.[n]?.videoList))}),t=m()(t,t.length)},b=(e,t)=>{let n;switch(e?.type){case p.Wx?.INFLUENTIAL:n=`Your video helped ${g()("person",e?.totalUniqueViews,!0)}  stay in sync.`;break;case p.Wx?.OLD_GEM:n="Here’s an old video that’s getting value.";break;case p.Wx?.ONE_ON_ONE_LOOP:n=`Here are ${t?.toString()} ways you helped your team.`;break;case p.Wx?.SINGLE_VIDEO:n="Time to celebrate your first view!";break;default:n=""}return n},k=e=>{let t;switch(e?.type){case p.Wx?.INFLUENTIAL:{let n=C({videoViews:e?.totalViews,videoDuration:e?.videoDuration}),a=S({secondsSaved:n});t=a?`${a} saved`:""}break;case p.Wx?.OLD_GEM:case p.Wx?.ONE_ON_ONE_LOOP:case p.Wx?.SINGLE_VIDEO:t=`${(0,s.Z)(new Date(e?.createdDate*1e3))} ago`;break;default:t=""}return t},w=(e,t)=>{let n;let i=new Date;switch(e){case p.Nm.WEEK:{let e=(0,a.Z)(i,{weeks:t});n=(0,o.Z)(e)}break;case p.Nm.MONTH:{let e=(0,a.Z)(i,{months:t});n=(0,c.Z)(e)}}return n},C=({videoViews:e,videoDuration:t})=>e&&t?(e-1)*t:0,S=({secondsSaved:e})=>{let t=Math.round(e/v),n=Math.min(Math.round(e/(60*v)),80);return t?t<60?`${t} ${g()("minute",t)}`:`${n} ${g()("hour",n)}`:""}},57576:function(e){var t={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"getInsightsValueForTimeframes"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"dateRangeType"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"interval"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Int"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"getInsightsValueForTimeframes"},arguments:[{kind:"Argument",name:{kind:"Name",value:"dateRangeType"},value:{kind:"Variable",name:{kind:"Name",value:"dateRangeType"}}},{kind:"Argument",name:{kind:"Name",value:"interval"},value:{kind:"Variable",name:{kind:"Name",value:"interval"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"InsightsForTimeframes"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"owner"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"videoView"},arguments:[],directives:[]}]}}]}}]}}]}}],loc:{start:0,end:264}};t.loc.source={body:"query getInsightsValueForTimeframes($dateRangeType: String!, $interval: Int!) {\n  getInsightsValueForTimeframes(\n    dateRangeType: $dateRangeType\n    interval: $interval\n  ) {\n    ... on InsightsForTimeframes {\n      owner {\n        videoView\n      }\n    }\n  }\n}\n",name:"GraphQL request",locationOffset:{line:1,column:1}};var n={};function a(e,t){for(var n=0;n<e.definitions.length;n++){var a=e.definitions[n];if(a.name&&a.name.value==t)return a}}t.definitions.forEach(function(e){if(e.name){var t=new Set;(function e(t,n){if("FragmentSpread"===t.kind)n.add(t.name.value);else if("VariableDefinition"===t.kind){var a=t.type;"NamedType"===a.kind&&n.add(a.name.value)}t.selectionSet&&t.selectionSet.selections.forEach(function(t){e(t,n)}),t.variableDefinitions&&t.variableDefinitions.forEach(function(t){e(t,n)}),t.definitions&&t.definitions.forEach(function(t){e(t,n)})})(e,t),n[e.name.value]=t}}),e.exports=t,e.exports.getInsightsValueForTimeframes=function(e,t){var i={kind:e.kind,definitions:[a(e,t)]};e.hasOwnProperty("loc")&&(i.loc=e.loc);var o=n[t]||new Set,r=new Set,l=new Set;for(o.forEach(function(e){l.add(e)});l.size>0;){var s=l;l=new Set,s.forEach(function(e){r.has(e)||(r.add(e),(n[e]||new Set).forEach(function(e){l.add(e)}))})}return r.forEach(function(t){var n=a(e,t);n&&i.definitions.push(n)}),i}(t,"getInsightsValueForTimeframes")},77643:function(e){var t={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"EditComment"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"id"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"type"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"PublicVideoCommentType"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"videoId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"password"}},type:{kind:"NamedType",name:{kind:"Name",value:"String"}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"content"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"mentions"}},type:{kind:"NamedType",name:{kind:"Name",value:"VideoCommentContentMentionsInput"}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"editComment"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"id"}}},{kind:"Argument",name:{kind:"Name",value:"type"},value:{kind:"Variable",name:{kind:"Name",value:"type"}}},{kind:"Argument",name:{kind:"Name",value:"videoId"},value:{kind:"Variable",name:{kind:"Name",value:"videoId"}}},{kind:"Argument",name:{kind:"Name",value:"password"},value:{kind:"Variable",name:{kind:"Name",value:"password"}}},{kind:"Argument",name:{kind:"Name",value:"content"},value:{kind:"Variable",name:{kind:"Name",value:"content"}}},{kind:"Argument",name:{kind:"Name",value:"mentions"},value:{kind:"Variable",name:{kind:"Name",value:"mentions"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"editCommentPayload"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"success"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"InvalidRequestWarning"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"message"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"GenericError"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"message"},arguments:[],directives:[]}]}}]}}]}}],loc:{start:0,end:472}};t.loc.source={body:"mutation EditComment(\n  $id: ID!\n  $type: PublicVideoCommentType!\n  $videoId: ID!\n  $password: String\n  $content: String!\n  $mentions: VideoCommentContentMentionsInput\n) {\n  editComment(\n    id: $id\n    type: $type\n    videoId: $videoId\n    password: $password\n    content: $content\n    mentions: $mentions\n  ) {\n    ... on editCommentPayload {\n      success\n    }\n    ... on InvalidRequestWarning {\n      message\n    }\n    ... on GenericError {\n      message\n    }\n  }\n}\n",name:"GraphQL request",locationOffset:{line:1,column:1}};var n={};function a(e,t){for(var n=0;n<e.definitions.length;n++){var a=e.definitions[n];if(a.name&&a.name.value==t)return a}}t.definitions.forEach(function(e){if(e.name){var t=new Set;(function e(t,n){if("FragmentSpread"===t.kind)n.add(t.name.value);else if("VariableDefinition"===t.kind){var a=t.type;"NamedType"===a.kind&&n.add(a.name.value)}t.selectionSet&&t.selectionSet.selections.forEach(function(t){e(t,n)}),t.variableDefinitions&&t.variableDefinitions.forEach(function(t){e(t,n)}),t.definitions&&t.definitions.forEach(function(t){e(t,n)})})(e,t),n[e.name.value]=t}}),e.exports=t,e.exports.EditComment=function(e,t){var i={kind:e.kind,definitions:[a(e,t)]};e.hasOwnProperty("loc")&&(i.loc=e.loc);var o=n[t]||new Set,r=new Set,l=new Set;for(o.forEach(function(e){l.add(e)});l.size>0;){var s=l;l=new Set,s.forEach(function(e){r.has(e)||(r.add(e),(n[e]||new Set).forEach(function(e){l.add(e)}))})}return r.forEach(function(t){var n=a(e,t);n&&i.definitions.push(n)}),i}(t,"EditComment")},47722:function(e){var t={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"DeleteVideoComment"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"id"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"type"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"PublicVideoCommentType"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"password"}},type:{kind:"NamedType",name:{kind:"Name",value:"String"}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"deleteComment"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"id"}}},{kind:"Argument",name:{kind:"Name",value:"type"},value:{kind:"Variable",name:{kind:"Name",value:"type"}}},{kind:"Argument",name:{kind:"Name",value:"password"},value:{kind:"Variable",name:{kind:"Name",value:"password"}}}],directives:[]}]}}],loc:{start:0,end:158}};t.loc.source={body:"mutation DeleteVideoComment(\n  $id: ID!\n  $type: PublicVideoCommentType!\n  $password: String\n) {\n  deleteComment(id: $id, type: $type, password: $password)\n}\n",name:"GraphQL request",locationOffset:{line:1,column:1}};var n={};function a(e,t){for(var n=0;n<e.definitions.length;n++){var a=e.definitions[n];if(a.name&&a.name.value==t)return a}}t.definitions.forEach(function(e){if(e.name){var t=new Set;(function e(t,n){if("FragmentSpread"===t.kind)n.add(t.name.value);else if("VariableDefinition"===t.kind){var a=t.type;"NamedType"===a.kind&&n.add(a.name.value)}t.selectionSet&&t.selectionSet.selections.forEach(function(t){e(t,n)}),t.variableDefinitions&&t.variableDefinitions.forEach(function(t){e(t,n)}),t.definitions&&t.definitions.forEach(function(t){e(t,n)})})(e,t),n[e.name.value]=t}}),e.exports=t,e.exports.DeleteVideoComment=function(e,t){var i={kind:e.kind,definitions:[a(e,t)]};e.hasOwnProperty("loc")&&(i.loc=e.loc);var o=n[t]||new Set,r=new Set,l=new Set;for(o.forEach(function(e){l.add(e)});l.size>0;){var s=l;l=new Set,s.forEach(function(e){r.has(e)||(r.add(e),(n[e]||new Set).forEach(function(e){l.add(e)}))})}return r.forEach(function(t){var n=a(e,t);n&&i.definitions.push(n)}),i}(t,"DeleteVideoComment")},72232:function(e,t){"use strict";t.Z={sticky:"viewer-insights_sticky_L4M",viewerInfo:"viewer-insights_viewerInfo_1-t",viewsMetadata:"viewer-insights_viewsMetadata_3ii",card:"viewer-insights_card_3BS",partial:"viewer-insights_partial_3iq",disabled:"viewer-insights_disabled_3c9",slideableContainer:"viewer-insights_slideableContainer_6xP",slideable:"viewer-insights_slideable_2w3",detailsHeader:"viewer-insights_detailsHeader_2Wj",eventItem:"viewer-insights_eventItem_3P7",isClickable:"viewer-insights_isClickable_zTp",infoLink:"viewer-insights_infoLink_24m",infoIcon:"viewer-insights_infoIcon_1tN",containerBox:"viewer-insights_containerBox_29m",shrinked:"viewer-insights_shrinked_2rL",emoji:"viewer-insights_emoji_GVM",viewers:"viewer-insights_viewers_3Nx"}},42396:function(e,t,n){"use strict";e.exports=n.p+"img/add-a-link-tooltip-32bb735405ec9589d77f.png"},46856:function(e,t,n){"use strict";e.exports=n.p+"img/audio-variables-tooltip-1-2d07d1a1162b45ab387d.png"},39079:function(e,t,n){"use strict";e.exports=n.p+"img/consolidated-edit-tooltip-with-overlays-ec65020f68ed6d44d555.png"},15313:function(e,t,n){"use strict";e.exports=n.p+"img/consolidated-edit-tooltip-23cf237f42ce5561ae85.jpg"}}]);
//# sourceMappingURL=https://www.loom.com/admin/sourcemaps/js/9324-ac2abb6b35ae36ea2963.js.map