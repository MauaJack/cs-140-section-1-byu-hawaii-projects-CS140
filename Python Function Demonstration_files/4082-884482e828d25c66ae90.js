(self.webpackChunk_loomhq_web_client=self.webpackChunk_loomhq_web_client||[]).push([[4082],{36311:function(e,t,r){"use strict";r.d(t,{u:function(){return f}});var n=r(66420),i=Object.defineProperty,o=Object.getOwnPropertySymbols,s=Object.prototype.hasOwnProperty,a=Object.prototype.propertyIsEnumerable,l=(e,t,r)=>t in e?i(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,u=(e,t)=>{for(var r in t||(t={}))s.call(t,r)&&l(e,r,t[r]);if(o)for(var r of o(t))a.call(t,r)&&l(e,r,t[r]);return e};function f(e){return n.createElement("svg",u({viewBox:"0 0 24 24",fill:"none"},e),n.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M6.29289 9.29289C6.68342 8.90237 7.31658 8.90237 7.70711 9.29289L12 13.5858L16.2929 9.29289C16.6834 8.90237 17.3166 8.90237 17.7071 9.29289C18.0976 9.68342 18.0976 10.3166 17.7071 10.7071L12.7071 15.7071C12.3166 16.0976 11.6834 16.0976 11.2929 15.7071L6.29289 10.7071C5.90237 10.3166 5.90237 9.68342 6.29289 9.29289Z",fill:"currentColor"}))}},31298:function(e,t,r){"use strict";r.d(t,{M:function(){return f}});var n=r(66420),i=Object.defineProperty,o=Object.getOwnPropertySymbols,s=Object.prototype.hasOwnProperty,a=Object.prototype.propertyIsEnumerable,l=(e,t,r)=>t in e?i(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,u=(e,t)=>{for(var r in t||(t={}))s.call(t,r)&&l(e,r,t[r]);if(o)for(var r of o(t))a.call(t,r)&&l(e,r,t[r]);return e};function f(e){return n.createElement("svg",u({viewBox:"0 0 24 24",fill:"none"},e),n.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M12 5a7 7 0 100 14 7 7 0 000-14zm-9 7a9 9 0 1118 0 9 9 0 01-18 0z",fill:"currentColor"}),n.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M13 11v5.2h-2V11h2zM10.5 8.8A1.5 1.5 0 0112 7.3h.01a1.5 1.5 0 010 3H12a1.5 1.5 0 01-1.5-1.5z",fill:"currentColor"}))}},30016:function(e,t,r){"use strict";r.d(t,{z:function(){return f}});var n=r(66420),i=Object.defineProperty,o=Object.getOwnPropertySymbols,s=Object.prototype.hasOwnProperty,a=Object.prototype.propertyIsEnumerable,l=(e,t,r)=>t in e?i(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,u=(e,t)=>{for(var r in t||(t={}))s.call(t,r)&&l(e,r,t[r]);if(o)for(var r of o(t))a.call(t,r)&&l(e,r,t[r]);return e};function f(e){return n.createElement("svg",u({viewBox:"0 0 24 24",fill:"none"},e),n.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M4 7.2a1 1 0 011-1h14.4a1 1 0 110 2H5a1 1 0 01-1-1z",fill:"currentColor"}),n.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M10.6 5a.6.6 0 00-.6.6v.6h4.4v-.6a.6.6 0 00-.6-.6h-3.2zm5.8 1.2v-.6A2.6 2.6 0 0013.8 3h-3.2A2.6 2.6 0 008 5.6v.6H6.6a1 1 0 00-1 1v11.2A2.6 2.6 0 008.2 21h8a2.6 2.6 0 002.6-2.6V7.2a1 1 0 00-1-1h-1.4zm-8.8 2v10.2a.6.6 0 00.6.6h8a.6.6 0 00.6-.6V8.2H7.6z",fill:"currentColor"}),n.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M10.6 10.2a1 1 0 011 1V16a1 1 0 11-2 0v-4.8a1 1 0 011-1zM13.8 10.2a1 1 0 011 1V16a1 1 0 01-2 0v-4.8a1 1 0 011-1z",fill:"currentColor"}))}},54913:function(e,t,r){"use strict";r.d(t,{R:function(){return f}});var n=r(66420),i=Object.defineProperty,o=Object.getOwnPropertySymbols,s=Object.prototype.hasOwnProperty,a=Object.prototype.propertyIsEnumerable,l=(e,t,r)=>t in e?i(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,u=(e,t)=>{for(var r in t||(t={}))s.call(t,r)&&l(e,r,t[r]);if(o)for(var r of o(t))a.call(t,r)&&l(e,r,t[r]);return e};function f(e){return n.createElement("svg",u({viewBox:"0 0 24 24",fill:"none"},e),n.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M13.398 3.083a1 1 0 01.594 1.041l-.66 5.276H19.4a1 1 0 01.768 1.64l-8 9.6a1 1 0 01-1.76-.764l.66-5.276H5a1 1 0 01-.768-1.64l8-9.6a1 1 0 011.166-.277z",fill:"currentColor"}))}},54245:function(e,t,r){var n=r(87282),i=r(29869),o=r(76199),s=r(9257);e.exports=function(e,t,r){if(!s(r))return!1;var a=typeof t;return("number"==a?!!(i(r)&&o(t,r.length)):"string"==a&&t in r)&&n(r[t],e)}},10996:function(e,t,r){"use strict";r.d(t,{Nr:function(){return a},y1:function(){return i}});var n=r(66420);function i(e,t,r){var i=this,o=(0,n.useRef)(null),s=(0,n.useRef)(0),a=(0,n.useRef)(null),l=(0,n.useRef)([]),u=(0,n.useRef)(),f=(0,n.useRef)(),h=(0,n.useRef)(e),c=(0,n.useRef)(!0);h.current=e;var d="u">typeof window,p=!t&&0!==t&&d;if("function"!=typeof e)throw TypeError("Expected a function");t=+t||0;var g=!!(r=r||{}).leading,m=!("trailing"in r)||!!r.trailing,_="maxWait"in r,y="debounceOnServer"in r&&!!r.debounceOnServer,v=_?Math.max(+r.maxWait||0,t):null;return(0,n.useEffect)(function(){return c.current=!0,function(){c.current=!1}},[]),(0,n.useMemo)(function(){var e=function(e){var t=l.current,r=u.current;return l.current=u.current=null,s.current=e,f.current=h.current.apply(r,t)},r=function(e,t){p&&cancelAnimationFrame(a.current),a.current=p?requestAnimationFrame(e):setTimeout(e,t)},n=function(e){if(!c.current)return!1;var r=e-o.current;return!o.current||r>=t||r<0||_&&e-s.current>=v},b=function(t){return a.current=null,m&&l.current?e(t):(l.current=u.current=null,f.current)},w=function e(){var i=Date.now();if(n(i))return b(i);if(c.current){var a=t-(i-o.current);r(e,_?Math.min(a,v-(i-s.current)):a)}},E=function(){if(d||y){var h=Date.now(),p=n(h);if(l.current=[].slice.call(arguments),u.current=i,o.current=h,p){if(!a.current&&c.current)return s.current=o.current,r(w,t),g?e(o.current):f.current;if(_)return r(w,t),e(o.current)}return a.current||r(w,t),f.current}};return E.cancel=function(){a.current&&(p?cancelAnimationFrame(a.current):clearTimeout(a.current)),s.current=0,l.current=o.current=u.current=a.current=null},E.isPending=function(){return!!a.current},E.flush=function(){return a.current?b(Date.now()):f.current},E},[g,_,t,v,m,p,d,y])}function o(e,t){return e===t}function s(e,t){return t}function a(e,t,r){var a=r&&r.equalityFn||o,l=(0,n.useReducer)(s,e),u=l[0],f=l[1],h=i((0,n.useCallback)(function(e){return f(e)},[f]),t,r),c=(0,n.useRef)(e);return a(c.current,e)||(h(e),c.current=e),a(u,e)&&h.cancel(),[u,h]}},22574:function(e,t,r){"use strict";r.d(t,{Qc:function(){return tS}});var n,i=r(16585),o="u">typeof global?global:"u">typeof self?self:"u">typeof window?window:{},s=[],a=[],l="u">typeof Uint8Array?Uint8Array:Array,u=!1;function f(){u=!0;for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",t=0,r=e.length;t<r;++t)s[t]=e[t],a[e.charCodeAt(t)]=t;a[45]=62,a[95]=63}function h(e){u||f();for(var t,r=e.length,n=r%3,i="",o=[],a=0,l=r-n;a<l;a+=16383)o.push(function(e,t,r){for(var n,i=[],o=t;o<r;o+=3)i.push(s[(n=(e[o]<<16)+(e[o+1]<<8)+e[o+2])>>18&63]+s[n>>12&63]+s[n>>6&63]+s[63&n]);return i.join("")}(e,a,a+16383>l?l:a+16383));return 1===n?i+=s[(t=e[r-1])>>2]+s[t<<4&63]+"==":2===n&&(i+=s[(t=(e[r-2]<<8)+e[r-1])>>10]+s[t>>4&63]+s[t<<2&63]+"="),o.push(i),o.join("")}function c(e,t,r,n,i){var o,s,a=8*i-n-1,l=(1<<a)-1,u=l>>1,f=-7,h=r?i-1:0,c=r?-1:1,d=e[t+h];for(h+=c,o=d&(1<<-f)-1,d>>=-f,f+=a;f>0;o=256*o+e[t+h],h+=c,f-=8);for(s=o&(1<<-f)-1,o>>=-f,f+=n;f>0;s=256*s+e[t+h],h+=c,f-=8);if(0===o)o=1-u;else{if(o===l)return s?NaN:(d?-1:1)*(1/0);s+=Math.pow(2,n),o-=u}return(d?-1:1)*s*Math.pow(2,o-n)}function d(e,t,r,n,i,o){var s,a,l,u=8*o-i-1,f=(1<<u)-1,h=f>>1,c=23===i?5960464477539062e-23:0,d=n?0:o-1,p=n?1:-1,g=t<0||0===t&&1/t<0?1:0;for(isNaN(t=Math.abs(t))||t===1/0?(a=isNaN(t)?1:0,s=f):(s=Math.floor(Math.log(t)/Math.LN2),t*(l=Math.pow(2,-s))<1&&(s--,l*=2),s+h>=1?t+=c/l:t+=c*Math.pow(2,1-h),t*l>=2&&(s++,l/=2),s+h>=f?(a=0,s=f):s+h>=1?(a=(t*l-1)*Math.pow(2,i),s+=h):(a=t*Math.pow(2,h-1)*Math.pow(2,i),s=0));i>=8;e[r+d]=255&a,d+=p,a/=256,i-=8);for(s=s<<i|a,u+=i;u>0;e[r+d]=255&s,d+=p,s/=256,u-=8);e[r+d-p]|=128*g}var p={}.toString,g=Array.isArray||function(e){return"[object Array]"==p.call(e)};function m(){return y.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function _(e,t){if(m()<t)throw RangeError("Invalid typed array length");return y.TYPED_ARRAY_SUPPORT?(e=new Uint8Array(t)).__proto__=y.prototype:(null===e&&(e=new y(t)),e.length=t),e}function y(e,t,r){if(!y.TYPED_ARRAY_SUPPORT&&!(this instanceof y))return new y(e,t,r);if("number"==typeof e){if("string"==typeof t)throw Error("If encoding is specified then the first argument must be a string");return w(this,e)}return v(this,e,t,r)}function v(e,t,r,n){if("number"==typeof t)throw TypeError('"value" argument must not be a number');return"u">typeof ArrayBuffer&&t instanceof ArrayBuffer?function(e,t,r,n){if(t.byteLength,r<0||t.byteLength<r)throw RangeError("'offset' is out of bounds");if(t.byteLength<r+(n||0))throw RangeError("'length' is out of bounds");return t=void 0===r&&void 0===n?new Uint8Array(t):void 0===n?new Uint8Array(t,r):new Uint8Array(t,r,n),y.TYPED_ARRAY_SUPPORT?(e=t).__proto__=y.prototype:e=E(e,t),e}(e,t,r,n):"string"==typeof t?function(e,t,r){if(("string"!=typeof r||""===r)&&(r="utf8"),!y.isEncoding(r))throw TypeError('"encoding" must be a valid string encoding');var n=0|O(t,r),i=(e=_(e,n)).write(t,r);return i!==n&&(e=e.slice(0,i)),e}(e,t,r):function(e,t){if(R(t)){var r,n=0|S(t.length);return 0===(e=_(e,n)).length||t.copy(e,0,0,n),e}if(t){if("u">typeof ArrayBuffer&&t.buffer instanceof ArrayBuffer||"length"in t)return"number"!=typeof t.length||(r=t.length)!=r?_(e,0):E(e,t);if("Buffer"===t.type&&g(t.data))return E(e,t.data)}throw TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}(e,t)}function b(e){if("number"!=typeof e)throw TypeError('"size" argument must be a number');if(e<0)throw RangeError('"size" argument must not be negative')}function w(e,t){if(b(t),e=_(e,t<0?0:0|S(t)),!y.TYPED_ARRAY_SUPPORT)for(var r=0;r<t;++r)e[r]=0;return e}function E(e,t){var r=t.length<0?0:0|S(t.length);e=_(e,r);for(var n=0;n<r;n+=1)e[n]=255&t[n];return e}function S(e){if(e>=m())throw RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+m().toString(16)+" bytes");return 0|e}function R(e){return!!(null!=e&&e._isBuffer)}function O(e,t){if(R(e))return e.length;if("u">typeof ArrayBuffer&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(e)||e instanceof ArrayBuffer))return e.byteLength;"string"!=typeof e&&(e=""+e);var r=e.length;if(0===r)return 0;for(var n=!1;;)switch(t){case"ascii":case"latin1":case"binary":return r;case"utf8":case"utf-8":case void 0:return U(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*r;case"hex":return r>>>1;case"base64":return z(e).length;default:if(n)return U(e).length;t=(""+t).toLowerCase(),n=!0}}function I(e,t,r){var n,i,o=!1;if((void 0===t||t<0)&&(t=0),t>this.length||((void 0===r||r>this.length)&&(r=this.length),r<=0)||(r>>>=0)<=(t>>>=0))return"";for(e||(e="utf8");;)switch(e){case"hex":return function(e,t,r){var n,i=e.length;(!t||t<0)&&(t=0),(!r||r<0||r>i)&&(r=i);for(var o="",s=t;s<r;++s)o+=(n=e[s])<16?"0"+n.toString(16):n.toString(16);return o}(this,t,r);case"utf8":case"utf-8":return T(this,t,r);case"ascii":return function(e,t,r){var n="";r=Math.min(e.length,r);for(var i=t;i<r;++i)n+=String.fromCharCode(127&e[i]);return n}(this,t,r);case"latin1":case"binary":return function(e,t,r){var n="";r=Math.min(e.length,r);for(var i=t;i<r;++i)n+=String.fromCharCode(e[i]);return n}(this,t,r);case"base64":return n=t,i=r,0===n&&i===this.length?h(this):h(this.slice(n,i));case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return function(e,t,r){for(var n=e.slice(t,r),i="",o=0;o<n.length;o+=2)i+=String.fromCharCode(n[o]+256*n[o+1]);return i}(this,t,r);default:if(o)throw TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),o=!0}}function A(e,t,r){var n=e[t];e[t]=e[r],e[r]=n}function L(e,t,r,n,i){if(0===e.length)return -1;if("string"==typeof r?(n=r,r=0):r>2147483647?r=2147483647:r<-2147483648&&(r=-2147483648),isNaN(r=+r)&&(r=i?0:e.length-1),r<0&&(r=e.length+r),r>=e.length){if(i)return -1;r=e.length-1}else if(r<0){if(!i)return -1;r=0}if("string"==typeof t&&(t=y.from(t,n)),R(t))return 0===t.length?-1:C(e,t,r,n,i);if("number"==typeof t)return t&=255,y.TYPED_ARRAY_SUPPORT&&"function"==typeof Uint8Array.prototype.indexOf?i?Uint8Array.prototype.indexOf.call(e,t,r):Uint8Array.prototype.lastIndexOf.call(e,t,r):C(e,[t],r,n,i);throw TypeError("val must be string, number or Buffer")}function C(e,t,r,n,i){var o,s=1,a=e.length,l=t.length;if(void 0!==n&&("ucs2"===(n=String(n).toLowerCase())||"ucs-2"===n||"utf16le"===n||"utf-16le"===n)){if(e.length<2||t.length<2)return -1;s=2,a/=2,l/=2,r/=2}function u(e,t){return 1===s?e[t]:e.readUInt16BE(t*s)}if(i){var f=-1;for(o=r;o<a;o++)if(u(e,o)===u(t,-1===f?0:o-f)){if(-1===f&&(f=o),o-f+1===l)return f*s}else -1!==f&&(o-=o-f),f=-1}else for(r+l>a&&(r=a-l),o=r;o>=0;o--){for(var h=!0,c=0;c<l;c++)if(u(e,o+c)!==u(t,c)){h=!1;break}if(h)return o}return -1}function T(e,t,r){r=Math.min(e.length,r);for(var n=[],i=t;i<r;){var o,s,a,l,u=e[i],f=null,h=u>239?4:u>223?3:u>191?2:1;if(i+h<=r)switch(h){case 1:u<128&&(f=u);break;case 2:(192&(o=e[i+1]))==128&&(l=(31&u)<<6|63&o)>127&&(f=l);break;case 3:o=e[i+1],s=e[i+2],(192&o)==128&&(192&s)==128&&(l=(15&u)<<12|(63&o)<<6|63&s)>2047&&(l<55296||l>57343)&&(f=l);break;case 4:o=e[i+1],s=e[i+2],a=e[i+3],(192&o)==128&&(192&s)==128&&(192&a)==128&&(l=(15&u)<<18|(63&o)<<12|(63&s)<<6|63&a)>65535&&l<1114112&&(f=l)}null===f?(f=65533,h=1):f>65535&&(f-=65536,n.push(f>>>10&1023|55296),f=56320|1023&f),n.push(f),i+=h}return function(e){var t=e.length;if(t<=4096)return String.fromCharCode.apply(String,e);for(var r="",n=0;n<t;)r+=String.fromCharCode.apply(String,e.slice(n,n+=4096));return r}(n)}function x(e,t,r){if(e%1!=0||e<0)throw RangeError("offset is not uint");if(e+t>r)throw RangeError("Trying to access beyond buffer length")}function N(e,t,r,n,i,o){if(!R(e))throw TypeError('"buffer" argument must be a Buffer instance');if(t>i||t<o)throw RangeError('"value" argument is out of bounds');if(r+n>e.length)throw RangeError("Index out of range")}function M(e,t,r,n){t<0&&(t=65535+t+1);for(var i=0,o=Math.min(e.length-r,2);i<o;++i)e[r+i]=(t&255<<8*(n?i:1-i))>>>(n?i:1-i)*8}function D(e,t,r,n){t<0&&(t=4294967295+t+1);for(var i=0,o=Math.min(e.length-r,4);i<o;++i)e[r+i]=t>>>(n?i:3-i)*8&255}function k(e,t,r,n,i,o){if(r+n>e.length||r<0)throw RangeError("Index out of range")}function P(e,t,r,n,i){return i||k(e,t,r,4),d(e,t,r,n,23,4),r+4}function j(e,t,r,n,i){return i||k(e,t,r,8),d(e,t,r,n,52,8),r+8}y.TYPED_ARRAY_SUPPORT=void 0===o.TYPED_ARRAY_SUPPORT||o.TYPED_ARRAY_SUPPORT,m(),y.poolSize=8192,y._augment=function(e){return e.__proto__=y.prototype,e},y.from=function(e,t,r){return v(null,e,t,r)},y.TYPED_ARRAY_SUPPORT&&(y.prototype.__proto__=Uint8Array.prototype,y.__proto__=Uint8Array,"u">typeof Symbol&&Symbol.species&&y[Symbol.species]),y.alloc=function(e,t,r){return b(e),e<=0?_(null,e):void 0!==t?"string"==typeof r?_(null,e).fill(t,r):_(null,e).fill(t):_(null,e)},y.allocUnsafe=function(e){return w(null,e)},y.allocUnsafeSlow=function(e){return w(null,e)},y.isBuffer=V,y.compare=function(e,t){if(!R(e)||!R(t))throw TypeError("Arguments must be Buffers");if(e===t)return 0;for(var r=e.length,n=t.length,i=0,o=Math.min(r,n);i<o;++i)if(e[i]!==t[i]){r=e[i],n=t[i];break}return r<n?-1:n<r?1:0},y.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},y.concat=function(e,t){if(!g(e))throw TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return y.alloc(0);if(void 0===t)for(t=0,r=0;r<e.length;++r)t+=e[r].length;var r,n=y.allocUnsafe(t),i=0;for(r=0;r<e.length;++r){var o=e[r];if(!R(o))throw TypeError('"list" argument must be an Array of Buffers');o.copy(n,i),i+=o.length}return n},y.byteLength=O,y.prototype._isBuffer=!0,y.prototype.swap16=function(){var e=this.length;if(e%2!=0)throw RangeError("Buffer size must be a multiple of 16-bits");for(var t=0;t<e;t+=2)A(this,t,t+1);return this},y.prototype.swap32=function(){var e=this.length;if(e%4!=0)throw RangeError("Buffer size must be a multiple of 32-bits");for(var t=0;t<e;t+=4)A(this,t,t+3),A(this,t+1,t+2);return this},y.prototype.swap64=function(){var e=this.length;if(e%8!=0)throw RangeError("Buffer size must be a multiple of 64-bits");for(var t=0;t<e;t+=8)A(this,t,t+7),A(this,t+1,t+6),A(this,t+2,t+5),A(this,t+3,t+4);return this},y.prototype.toString=function(){var e=0|this.length;return 0===e?"":0==arguments.length?T(this,0,e):I.apply(this,arguments)},y.prototype.equals=function(e){if(!R(e))throw TypeError("Argument must be a Buffer");return this===e||0===y.compare(this,e)},y.prototype.inspect=function(){var e="";return this.length>0&&(e=this.toString("hex",0,50).match(/.{2}/g).join(" "),this.length>50&&(e+=" ... ")),"<Buffer "+e+">"},y.prototype.compare=function(e,t,r,n,i){if(!R(e))throw TypeError("Argument must be a Buffer");if(void 0===t&&(t=0),void 0===r&&(r=e?e.length:0),void 0===n&&(n=0),void 0===i&&(i=this.length),t<0||r>e.length||n<0||i>this.length)throw RangeError("out of range index");if(n>=i&&t>=r)return 0;if(n>=i)return -1;if(t>=r)return 1;if(t>>>=0,r>>>=0,n>>>=0,i>>>=0,this===e)return 0;for(var o=i-n,s=r-t,a=Math.min(o,s),l=this.slice(n,i),u=e.slice(t,r),f=0;f<a;++f)if(l[f]!==u[f]){o=l[f],s=u[f];break}return o<s?-1:s<o?1:0},y.prototype.includes=function(e,t,r){return -1!==this.indexOf(e,t,r)},y.prototype.indexOf=function(e,t,r){return L(this,e,t,r,!0)},y.prototype.lastIndexOf=function(e,t,r){return L(this,e,t,r,!1)},y.prototype.write=function(e,t,r,n){if(void 0===t)n="utf8",r=this.length,t=0;else if(void 0===r&&"string"==typeof t)n=t,r=this.length,t=0;else if(isFinite(t))t|=0,isFinite(r)?(r|=0,void 0===n&&(n="utf8")):(n=r,r=void 0);else throw Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");var i,o,s,a,l,u,f,h,c,d,p,g,m=this.length-t;if((void 0===r||r>m)&&(r=m),e.length>0&&(r<0||t<0)||t>this.length)throw RangeError("Attempt to write outside buffer bounds");n||(n="utf8");for(var _=!1;;)switch(n){case"hex":return function(e,t,r,n){r=Number(r)||0;var i=e.length-r;n?(n=Number(n))>i&&(n=i):n=i;var o=t.length;if(o%2!=0)throw TypeError("Invalid hex string");n>o/2&&(n=o/2);for(var s=0;s<n;++s){var a=parseInt(t.substr(2*s,2),16);if(isNaN(a))break;e[r+s]=a}return s}(this,e,t,r);case"utf8":case"utf-8":return l=t,u=r,$(U(e,this.length-l),this,l,u);case"ascii":return f=t,h=r,$(q(e),this,f,h);case"latin1":case"binary":return i=this,o=e,s=t,a=r,$(q(o),i,s,a);case"base64":return c=t,d=r,$(z(e),this,c,d);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return p=t,g=r,$(function(e,t){for(var r,n,i=[],o=0;o<e.length&&!((t-=2)<0);++o)n=(r=e.charCodeAt(o))>>8,i.push(r%256),i.push(n);return i}(e,this.length-p),this,p,g);default:if(_)throw TypeError("Unknown encoding: "+n);n=(""+n).toLowerCase(),_=!0}},y.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}},y.prototype.slice=function(e,t){var r,n=this.length;if(e=~~e,t=void 0===t?n:~~t,e<0?(e+=n)<0&&(e=0):e>n&&(e=n),t<0?(t+=n)<0&&(t=0):t>n&&(t=n),t<e&&(t=e),y.TYPED_ARRAY_SUPPORT)(r=this.subarray(e,t)).__proto__=y.prototype;else{var i=t-e;r=new y(i,void 0);for(var o=0;o<i;++o)r[o]=this[o+e]}return r},y.prototype.readUIntLE=function(e,t,r){e|=0,t|=0,r||x(e,t,this.length);for(var n=this[e],i=1,o=0;++o<t&&(i*=256);)n+=this[e+o]*i;return n},y.prototype.readUIntBE=function(e,t,r){e|=0,t|=0,r||x(e,t,this.length);for(var n=this[e+--t],i=1;t>0&&(i*=256);)n+=this[e+--t]*i;return n},y.prototype.readUInt8=function(e,t){return t||x(e,1,this.length),this[e]},y.prototype.readUInt16LE=function(e,t){return t||x(e,2,this.length),this[e]|this[e+1]<<8},y.prototype.readUInt16BE=function(e,t){return t||x(e,2,this.length),this[e]<<8|this[e+1]},y.prototype.readUInt32LE=function(e,t){return t||x(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},y.prototype.readUInt32BE=function(e,t){return t||x(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},y.prototype.readIntLE=function(e,t,r){e|=0,t|=0,r||x(e,t,this.length);for(var n=this[e],i=1,o=0;++o<t&&(i*=256);)n+=this[e+o]*i;return n>=(i*=128)&&(n-=Math.pow(2,8*t)),n},y.prototype.readIntBE=function(e,t,r){e|=0,t|=0,r||x(e,t,this.length);for(var n=t,i=1,o=this[e+--n];n>0&&(i*=256);)o+=this[e+--n]*i;return o>=(i*=128)&&(o-=Math.pow(2,8*t)),o},y.prototype.readInt8=function(e,t){return t||x(e,1,this.length),128&this[e]?-((255-this[e]+1)*1):this[e]},y.prototype.readInt16LE=function(e,t){t||x(e,2,this.length);var r=this[e]|this[e+1]<<8;return 32768&r?4294901760|r:r},y.prototype.readInt16BE=function(e,t){t||x(e,2,this.length);var r=this[e+1]|this[e]<<8;return 32768&r?4294901760|r:r},y.prototype.readInt32LE=function(e,t){return t||x(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},y.prototype.readInt32BE=function(e,t){return t||x(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},y.prototype.readFloatLE=function(e,t){return t||x(e,4,this.length),c(this,e,!0,23,4)},y.prototype.readFloatBE=function(e,t){return t||x(e,4,this.length),c(this,e,!1,23,4)},y.prototype.readDoubleLE=function(e,t){return t||x(e,8,this.length),c(this,e,!0,52,8)},y.prototype.readDoubleBE=function(e,t){return t||x(e,8,this.length),c(this,e,!1,52,8)},y.prototype.writeUIntLE=function(e,t,r,n){if(e=+e,t|=0,r|=0,!n){var i=Math.pow(2,8*r)-1;N(this,e,t,r,i,0)}var o=1,s=0;for(this[t]=255&e;++s<r&&(o*=256);)this[t+s]=e/o&255;return t+r},y.prototype.writeUIntBE=function(e,t,r,n){if(e=+e,t|=0,r|=0,!n){var i=Math.pow(2,8*r)-1;N(this,e,t,r,i,0)}var o=r-1,s=1;for(this[t+o]=255&e;--o>=0&&(s*=256);)this[t+o]=e/s&255;return t+r},y.prototype.writeUInt8=function(e,t,r){return e=+e,t|=0,r||N(this,e,t,1,255,0),y.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),this[t]=255&e,t+1},y.prototype.writeUInt16LE=function(e,t,r){return e=+e,t|=0,r||N(this,e,t,2,65535,0),y.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):M(this,e,t,!0),t+2},y.prototype.writeUInt16BE=function(e,t,r){return e=+e,t|=0,r||N(this,e,t,2,65535,0),y.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):M(this,e,t,!1),t+2},y.prototype.writeUInt32LE=function(e,t,r){return e=+e,t|=0,r||N(this,e,t,4,4294967295,0),y.TYPED_ARRAY_SUPPORT?(this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e):D(this,e,t,!0),t+4},y.prototype.writeUInt32BE=function(e,t,r){return e=+e,t|=0,r||N(this,e,t,4,4294967295,0),y.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):D(this,e,t,!1),t+4},y.prototype.writeIntLE=function(e,t,r,n){if(e=+e,t|=0,!n){var i=Math.pow(2,8*r-1);N(this,e,t,r,i-1,-i)}var o=0,s=1,a=0;for(this[t]=255&e;++o<r&&(s*=256);)e<0&&0===a&&0!==this[t+o-1]&&(a=1),this[t+o]=(e/s>>0)-a&255;return t+r},y.prototype.writeIntBE=function(e,t,r,n){if(e=+e,t|=0,!n){var i=Math.pow(2,8*r-1);N(this,e,t,r,i-1,-i)}var o=r-1,s=1,a=0;for(this[t+o]=255&e;--o>=0&&(s*=256);)e<0&&0===a&&0!==this[t+o+1]&&(a=1),this[t+o]=(e/s>>0)-a&255;return t+r},y.prototype.writeInt8=function(e,t,r){return e=+e,t|=0,r||N(this,e,t,1,127,-128),y.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),e<0&&(e=255+e+1),this[t]=255&e,t+1},y.prototype.writeInt16LE=function(e,t,r){return e=+e,t|=0,r||N(this,e,t,2,32767,-32768),y.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):M(this,e,t,!0),t+2},y.prototype.writeInt16BE=function(e,t,r){return e=+e,t|=0,r||N(this,e,t,2,32767,-32768),y.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):M(this,e,t,!1),t+2},y.prototype.writeInt32LE=function(e,t,r){return e=+e,t|=0,r||N(this,e,t,4,2147483647,-2147483648),y.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24):D(this,e,t,!0),t+4},y.prototype.writeInt32BE=function(e,t,r){return e=+e,t|=0,r||N(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),y.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):D(this,e,t,!1),t+4},y.prototype.writeFloatLE=function(e,t,r){return P(this,e,t,!0,r)},y.prototype.writeFloatBE=function(e,t,r){return P(this,e,t,!1,r)},y.prototype.writeDoubleLE=function(e,t,r){return j(this,e,t,!0,r)},y.prototype.writeDoubleBE=function(e,t,r){return j(this,e,t,!1,r)},y.prototype.copy=function(e,t,r,n){if(r||(r=0),n||0===n||(n=this.length),t>=e.length&&(t=e.length),t||(t=0),n>0&&n<r&&(n=r),n===r||0===e.length||0===this.length)return 0;if(t<0)throw RangeError("targetStart out of bounds");if(r<0||r>=this.length)throw RangeError("sourceStart out of bounds");if(n<0)throw RangeError("sourceEnd out of bounds");n>this.length&&(n=this.length),e.length-t<n-r&&(n=e.length-t+r);var i,o=n-r;if(this===e&&r<t&&t<n)for(i=o-1;i>=0;--i)e[i+t]=this[i+r];else if(o<1e3||!y.TYPED_ARRAY_SUPPORT)for(i=0;i<o;++i)e[i+t]=this[i+r];else Uint8Array.prototype.set.call(e,this.subarray(r,r+o),t);return o},y.prototype.fill=function(e,t,r,n){if("string"==typeof e){if("string"==typeof t?(n=t,t=0,r=this.length):"string"==typeof r&&(n=r,r=this.length),1===e.length){var i,o=e.charCodeAt(0);o<256&&(e=o)}if(void 0!==n&&"string"!=typeof n)throw TypeError("encoding must be a string");if("string"==typeof n&&!y.isEncoding(n))throw TypeError("Unknown encoding: "+n)}else"number"==typeof e&&(e&=255);if(t<0||this.length<t||this.length<r)throw RangeError("Out of range index");if(r<=t)return this;if(t>>>=0,r=void 0===r?this.length:r>>>0,e||(e=0),"number"==typeof e)for(i=t;i<r;++i)this[i]=e;else{var s=R(e)?e:U(new y(e,n).toString()),a=s.length;for(i=0;i<r-t;++i)this[i+t]=s[i%a]}return this};var B=/[^+\/0-9A-Za-z-_]/g;function U(e,t){t=t||1/0;for(var r,n=e.length,i=null,o=[],s=0;s<n;++s){if((r=e.charCodeAt(s))>55295&&r<57344){if(!i){if(r>56319||s+1===n){(t-=3)>-1&&o.push(239,191,189);continue}i=r;continue}if(r<56320){(t-=3)>-1&&o.push(239,191,189),i=r;continue}r=(i-55296<<10|r-56320)+65536}else i&&(t-=3)>-1&&o.push(239,191,189);if(i=null,r<128){if((t-=1)<0)break;o.push(r)}else if(r<2048){if((t-=2)<0)break;o.push(r>>6|192,63&r|128)}else if(r<65536){if((t-=3)<0)break;o.push(r>>12|224,r>>6&63|128,63&r|128)}else if(r<1114112){if((t-=4)<0)break;o.push(r>>18|240,r>>12&63|128,r>>6&63|128,63&r|128)}else throw Error("Invalid code point")}return o}function q(e){for(var t=[],r=0;r<e.length;++r)t.push(255&e.charCodeAt(r));return t}function z(e){return function(e){u||f();var t,r,n,i,o,s,h=e.length;if(h%4>0)throw Error("Invalid string. Length must be a multiple of 4");o="="===e[h-2]?2:"="===e[h-1]?1:0,s=new l(3*h/4-o),n=o>0?h-4:h;var c=0;for(t=0,r=0;t<n;t+=4,r+=3)i=a[e.charCodeAt(t)]<<18|a[e.charCodeAt(t+1)]<<12|a[e.charCodeAt(t+2)]<<6|a[e.charCodeAt(t+3)],s[c++]=i>>16&255,s[c++]=i>>8&255,s[c++]=255&i;return 2===o?(i=a[e.charCodeAt(t)]<<2|a[e.charCodeAt(t+1)]>>4,s[c++]=255&i):1===o&&(i=a[e.charCodeAt(t)]<<10|a[e.charCodeAt(t+1)]<<4|a[e.charCodeAt(t+2)]>>2,s[c++]=i>>8&255,s[c++]=255&i),s}(function(e){var t;if((e=((t=e).trim?t.trim():t.replace(/^\s+|\s+$/g,"")).replace(B,"")).length<2)return"";for(;e.length%4!=0;)e+="=";return e}(e))}function $(e,t,r,n){for(var i=0;i<n&&!(i+r>=t.length||i>=e.length);++i)t[i+r]=e[i];return i}function V(e){return null!=e&&(!!e._isBuffer||F(e)||"function"==typeof e.readFloatLE&&"function"==typeof e.slice&&F(e.slice(0,0)))}function F(e){return!!e.constructor&&"function"==typeof e.constructor.isBuffer&&e.constructor.isBuffer(e)}function J(){}function Y(){Y.init.call(this)}function Q(e){return void 0===e._maxListeners?Y.defaultMaxListeners:e._maxListeners}function W(e,t,r,n){var o,s,a;if("function"!=typeof r)throw TypeError('"listener" argument must be a function');if((s=e._events)?(s.newListener&&(e.emit("newListener",t,r.listener?r.listener:r),s=e._events),a=s[t]):(s=e._events=new J,e._eventsCount=0),a){if("function"==typeof a?a=s[t]=n?[r,a]:[a,r]:n?a.unshift(r):a.push(r),!a.warned&&(o=Q(e))&&o>0&&a.length>o){a.warned=!0;var l=Error("Possible EventEmitter memory leak detected. "+a.length+" "+t+" listeners added. Use emitter.setMaxListeners() to increase limit");l.name="MaxListenersExceededWarning",l.emitter=e,l.type=t,l.count=a.length,"function"==typeof i.warn?i.warn(l):i.log(l)}}else a=s[t]=r,++e._eventsCount;return e}function H(e,t,r){var n=!1;function i(){e.removeListener(t,i),n||(n=!0,r.apply(e,arguments))}return i.listener=r,i}function G(e){var t=this._events;if(t){var r=t[e];if("function"==typeof r)return 1;if(r)return r.length}return 0}function Z(e,t){for(var r=Array(t);t--;)r[t]=e[t];return r}function K(){throw Error("setTimeout has not been defined")}function X(){throw Error("clearTimeout has not been defined")}J.prototype=Object.create(null),Y.EventEmitter=Y,Y.usingDomains=!1,Y.prototype.domain=void 0,Y.prototype._events=void 0,Y.prototype._maxListeners=void 0,Y.defaultMaxListeners=10,Y.init=function(){this.domain=null,Y.usingDomains&&en.active,this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=new J,this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},Y.prototype.setMaxListeners=function(e){if("number"!=typeof e||e<0||isNaN(e))throw TypeError('"n" argument must be a positive number');return this._maxListeners=e,this},Y.prototype.getMaxListeners=function(){return Q(this)},Y.prototype.emit=function(e){var t,r,n,i,o,s,a,l="error"===e;if(s=this._events)l=l&&null==s.error;else if(!l)return!1;if(a=this.domain,l){if(t=arguments[1],a)t||(t=Error('Uncaught, unspecified "error" event')),t.domainEmitter=this,t.domain=a,t.domainThrown=!1,a.emit("error",t);else{if(t instanceof Error)throw t;var u=Error('Uncaught, unspecified "error" event. ('+t+")");throw u.context=t,u}return!1}if(!(r=s[e]))return!1;var f="function"==typeof r;switch(n=arguments.length){case 1:!function(e,t,r){if(t)e.call(r);else for(var n=e.length,i=Z(e,n),o=0;o<n;++o)i[o].call(r)}(r,f,this);break;case 2:!function(e,t,r,n){if(t)e.call(r,n);else for(var i=e.length,o=Z(e,i),s=0;s<i;++s)o[s].call(r,n)}(r,f,this,arguments[1]);break;case 3:!function(e,t,r,n,i){if(t)e.call(r,n,i);else for(var o=e.length,s=Z(e,o),a=0;a<o;++a)s[a].call(r,n,i)}(r,f,this,arguments[1],arguments[2]);break;case 4:!function(e,t,r,n,i,o){if(t)e.call(r,n,i,o);else for(var s=e.length,a=Z(e,s),l=0;l<s;++l)a[l].call(r,n,i,o)}(r,f,this,arguments[1],arguments[2],arguments[3]);break;default:for(i=Array(n-1),o=1;o<n;o++)i[o-1]=arguments[o];!function(e,t,r,n){if(t)e.apply(r,n);else for(var i=e.length,o=Z(e,i),s=0;s<i;++s)o[s].apply(r,n)}(r,f,this,i)}return!0},Y.prototype.addListener=function(e,t){return W(this,e,t,!1)},Y.prototype.on=Y.prototype.addListener,Y.prototype.prependListener=function(e,t){return W(this,e,t,!0)},Y.prototype.once=function(e,t){if("function"!=typeof t)throw TypeError('"listener" argument must be a function');return this.on(e,H(this,e,t)),this},Y.prototype.prependOnceListener=function(e,t){if("function"!=typeof t)throw TypeError('"listener" argument must be a function');return this.prependListener(e,H(this,e,t)),this},Y.prototype.removeListener=function(e,t){var r,n,i,o,s;if("function"!=typeof t)throw TypeError('"listener" argument must be a function');if(!(n=this._events)||!(r=n[e]))return this;if(r===t||r.listener&&r.listener===t)0==--this._eventsCount?this._events=new J:(delete n[e],n.removeListener&&this.emit("removeListener",e,r.listener||t));else if("function"!=typeof r){for(i=-1,o=r.length;o-- >0;)if(r[o]===t||r[o].listener&&r[o].listener===t){s=r[o].listener,i=o;break}if(i<0)return this;if(1===r.length){if(r[0]=void 0,0==--this._eventsCount)return this._events=new J,this;delete n[e]}else(function(e,t){for(var r=t,n=r+1,i=e.length;n<i;r+=1,n+=1)e[r]=e[n];e.pop()})(r,i);n.removeListener&&this.emit("removeListener",e,s||t)}return this},Y.prototype.removeAllListeners=function(e){var t,r;if(!(r=this._events))return this;if(!r.removeListener)return 0==arguments.length?(this._events=new J,this._eventsCount=0):r[e]&&(0==--this._eventsCount?this._events=new J:delete r[e]),this;if(0==arguments.length){for(var n,i=Object.keys(r),o=0;o<i.length;++o)"removeListener"!==(n=i[o])&&this.removeAllListeners(n);return this.removeAllListeners("removeListener"),this._events=new J,this._eventsCount=0,this}if("function"==typeof(t=r[e]))this.removeListener(e,t);else if(t)do this.removeListener(e,t[t.length-1]);while(t[0]);return this},Y.prototype.listeners=function(e){var t,r=this._events;return r&&(t=r[e])?"function"==typeof t?[t.listener||t]:function(e){for(var t=Array(e.length),r=0;r<t.length;++r)t[r]=e[r].listener||e[r];return t}(t):[]},Y.listenerCount=function(e,t){return"function"==typeof e.listenerCount?e.listenerCount(t):G.call(e,t)},Y.prototype.listenerCount=G,Y.prototype.eventNames=function(){return this._eventsCount>0?Reflect.ownKeys(this._events):[]};var ee=K,et=X;function er(e){if(ee===setTimeout)return setTimeout(e,0);if((ee===K||!ee)&&setTimeout)return ee=setTimeout,setTimeout(e,0);try{return ee(e,0)}catch{try{return ee.call(null,e,0)}catch{return ee.call(this,e,0)}}}"function"==typeof o.setTimeout&&(ee=setTimeout),"function"==typeof o.clearTimeout&&(et=clearTimeout);var en,ei,eo=[],es=!1,ea=-1;function el(){es&&ei&&(es=!1,ei.length?eo=ei.concat(eo):ea=-1,eo.length&&eu())}function eu(){if(!es){var e=er(el);es=!0;for(var t=eo.length;t;){for(ei=eo,eo=[];++ea<t;)ei&&ei[ea].run();ea=-1,t=eo.length}ei=null,es=!1,function(e){if(et===clearTimeout)return clearTimeout(e);if((et===X||!et)&&clearTimeout)return et=clearTimeout,clearTimeout(e);try{et(e)}catch{try{return et.call(null,e)}catch{return et.call(this,e)}}}(e)}}function ef(e){var t=Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)t[r-1]=arguments[r];eo.push(new eh(e,t)),1!==eo.length||es||er(eu)}function eh(e,t){this.fun=e,this.array=t}eh.prototype.run=function(){this.fun.apply(null,this.array)};var ec=o.performance||{},ed=(ec.now||ec.mozNow||ec.msNow||ec.oNow||ec.webkitNow,{env:{}}),ep="function"==typeof Object.create?function(e,t){e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}})}:function(e,t){e.super_=t;var r=function(){};r.prototype=t.prototype,e.prototype=new r,e.prototype.constructor=e},eg=/%[sdj%]/g;function em(e){if(!eI(e)){for(var t,r=[],n=0;n<arguments.length;n++)r.push(ev(arguments[n]));return r.join(" ")}for(var n=1,i=arguments,o=i.length,s=String(e).replace(eg,function(e){if("%%"===e)return"%";if(n>=o)return e;switch(e){case"%s":return String(i[n++]);case"%d":return Number(i[n++]);case"%j":try{return JSON.stringify(i[n++])}catch{return"[Circular]"}default:return e}}),a=i[n];n<o;a=i[++n])null!==a&&eC(a)?s+=" "+ev(a):s+=" "+a;return s}var e_,ey={};function ev(e,t){var r={seen:[],stylize:ew};return arguments.length>=3&&(r.depth=arguments[2]),arguments.length>=4&&(r.colors=arguments[3]),eO(t)?r.showHidden=t:t&&function(e,t){if(!t||!eC(t))return e;for(var r=Object.keys(t),n=r.length;n--;)e[r[n]]=t[r[n]];return e}(r,t),eA(r.showHidden)&&(r.showHidden=!1),eA(r.depth)&&(r.depth=2),eA(r.colors)&&(r.colors=!1),eA(r.customInspect)&&(r.customInspect=!0),r.colors&&(r.stylize=eb),eE(r,e,r.depth)}function eb(e,t){var r=ev.styles[t];return r?"\x1b["+ev.colors[r][0]+"m"+e+"\x1b["+ev.colors[r][1]+"m":e}function ew(e,t){return e}function eE(e,t,r){if(e.customInspect&&t&&eN(t.inspect)&&t.inspect!==ev&&!(t.constructor&&t.constructor.prototype===t)){var n,i,o,s,a=t.inspect(r,e);return eI(a)||(a=eE(e,a,r)),a}var l=function(e,t){if(eA(t))return e.stylize("undefined","undefined");if(eI(t)){var r="'"+JSON.stringify(t).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return e.stylize(r,"string")}return"number"==typeof t?e.stylize(""+t,"number"):eO(t)?e.stylize(""+t,"boolean"):null===t?e.stylize("null","null"):void 0}(e,t);if(l)return l;var u=Object.keys(t),f=(o={},u.forEach(function(e,t){o[e]=!0}),o);if(e.showHidden&&(u=Object.getOwnPropertyNames(t)),ex(t)&&(u.indexOf("message")>=0||u.indexOf("description")>=0))return eS(t);if(0===u.length){if(eN(t)){var h=t.name?": "+t.name:"";return e.stylize("[Function"+h+"]","special")}if(eL(t))return e.stylize(RegExp.prototype.toString.call(t),"regexp");if(eT(t))return e.stylize(Date.prototype.toString.call(t),"date");if(ex(t))return eS(t)}var c="",d=!1,p=["{","}"];return(Array.isArray(t)&&(d=!0,p=["[","]"]),eN(t)&&(c=" [Function"+(t.name?": "+t.name:"")+"]"),eL(t)&&(c=" "+RegExp.prototype.toString.call(t)),eT(t)&&(c=" "+Date.prototype.toUTCString.call(t)),ex(t)&&(c=" "+eS(t)),0!==u.length||d&&0!=t.length)?r<0?eL(t)?e.stylize(RegExp.prototype.toString.call(t),"regexp"):e.stylize("[Object]","special"):(e.seen.push(t),s=d?function(e,t,r,n,i){for(var o=[],s=0,a=t.length;s<a;++s)eD(t,String(s))?o.push(eR(e,t,r,n,String(s),!0)):o.push("");return i.forEach(function(i){i.match(/^\d+$/)||o.push(eR(e,t,r,n,i,!0))}),o}(e,t,r,f,u):u.map(function(n){return eR(e,t,r,f,n,d)}),e.seen.pop(),n=c,i=p,s.reduce(function(e,t){return t.indexOf(`
`),e+t.replace(/\u001b\[\d\d?m/g,"").length+1},0)>60?i[0]+(""===n?"":n+`
 `)+" "+s.join(`,
  `)+" "+i[1]:i[0]+n+" "+s.join(", ")+" "+i[1]):p[0]+c+p[1]}function eS(e){return"["+Error.prototype.toString.call(e)+"]"}function eR(e,t,r,n,i,o){var s,a,l;if((l=Object.getOwnPropertyDescriptor(t,i)||{value:t[i]}).get?a=l.set?e.stylize("[Getter/Setter]","special"):e.stylize("[Getter]","special"):l.set&&(a=e.stylize("[Setter]","special")),eD(n,i)||(s="["+i+"]"),a||(0>e.seen.indexOf(l.value)?(a=null===r?eE(e,l.value,null):eE(e,l.value,r-1)).indexOf(`
`)>-1&&(a=o?a.split(`
`).map(function(e){return"  "+e}).join(`
`).substr(2):`
`+a.split(`
`).map(function(e){return"   "+e}).join(`
`)):a=e.stylize("[Circular]","special")),eA(s)){if(o&&i.match(/^\d+$/))return a;(s=JSON.stringify(""+i)).match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(s=s.substr(1,s.length-2),s=e.stylize(s,"name")):(s=s.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),s=e.stylize(s,"string"))}return s+": "+a}function eO(e){return"boolean"==typeof e}function eI(e){return"string"==typeof e}function eA(e){return void 0===e}function eL(e){return eC(e)&&"[object RegExp]"===eM(e)}function eC(e){return"object"==typeof e&&null!==e}function eT(e){return eC(e)&&"[object Date]"===eM(e)}function ex(e){return eC(e)&&("[object Error]"===eM(e)||e instanceof Error)}function eN(e){return"function"==typeof e}function eM(e){return Object.prototype.toString.call(e)}function eD(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function ek(){this.head=null,this.tail=null,this.length=0}ev.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},ev.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"},ek.prototype.push=function(e){var t={data:e,next:null};this.length>0?this.tail.next=t:this.head=t,this.tail=t,++this.length},ek.prototype.unshift=function(e){var t={data:e,next:this.head};0===this.length&&(this.tail=t),this.head=t,++this.length},ek.prototype.shift=function(){if(0!==this.length){var e=this.head.data;return 1===this.length?this.head=this.tail=null:this.head=this.head.next,--this.length,e}},ek.prototype.clear=function(){this.head=this.tail=null,this.length=0},ek.prototype.join=function(e){if(0===this.length)return"";for(var t=this.head,r=""+t.data;t=t.next;)r+=e+t.data;return r},ek.prototype.concat=function(e){if(0===this.length)return y.alloc(0);if(1===this.length)return this.head.data;for(var t=y.allocUnsafe(e>>>0),r=this.head,n=0;r;)r.data.copy(t,n),n+=r.data.length,r=r.next;return t};var eP=y.isEncoding||function(e){switch(e&&e.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function ej(e){switch(this.encoding=(e||"utf8").toLowerCase().replace(/[-_]/,""),function(e){if(e&&!eP(e))throw Error("Unknown encoding: "+e)}(e),this.encoding){case"utf8":this.surrogateSize=3;break;case"ucs2":case"utf16le":this.surrogateSize=2,this.detectIncompleteChar=eU;break;case"base64":this.surrogateSize=3,this.detectIncompleteChar=eq;break;default:this.write=eB;return}this.charBuffer=new y(6),this.charReceived=0,this.charLength=0}function eB(e){return e.toString(this.encoding)}function eU(e){this.charReceived=e.length%2,this.charLength=this.charReceived?2:0}function eq(e){this.charReceived=e.length%3,this.charLength=this.charReceived?3:0}ej.prototype.write=function(e){for(var t="";this.charLength;){var r=e.length>=this.charLength-this.charReceived?this.charLength-this.charReceived:e.length;if(e.copy(this.charBuffer,this.charReceived,0,r),this.charReceived+=r,this.charReceived<this.charLength)return"";e=e.slice(r,e.length);var n=(t=this.charBuffer.slice(0,this.charLength).toString(this.encoding)).charCodeAt(t.length-1);if(n>=55296&&n<=56319){this.charLength+=this.surrogateSize,t="";continue}if(this.charReceived=this.charLength=0,0===e.length)return t;break}this.detectIncompleteChar(e);var i=e.length;this.charLength&&(e.copy(this.charBuffer,0,e.length-this.charReceived,i),i-=this.charReceived);var i=(t+=e.toString(this.encoding,0,i)).length-1,n=t.charCodeAt(i);if(n>=55296&&n<=56319){var o=this.surrogateSize;return this.charLength+=o,this.charReceived+=o,this.charBuffer.copy(this.charBuffer,o,0,o),e.copy(this.charBuffer,0,0,o),t.substring(0,i)}return t},ej.prototype.detectIncompleteChar=function(e){for(var t=e.length>=3?3:e.length;t>0;t--){var r=e[e.length-t];if(1==t&&r>>5==6){this.charLength=2;break}if(t<=2&&r>>4==14){this.charLength=3;break}if(t<=3&&r>>3==30){this.charLength=4;break}}this.charReceived=t},ej.prototype.end=function(e){var t="";if(e&&e.length&&(t=this.write(e)),this.charReceived){var r=this.charReceived,n=this.charBuffer,i=this.encoding;t+=n.slice(0,r).toString(i)}return t},eV.ReadableState=e$;var ez=(n="stream",eA(e_)&&(e_=ed.env.NODE_DEBUG||""),ey[n=n.toUpperCase()]||(RegExp("\\b"+n+"\\b","i").test(e_)?ey[n]=function(){var e=em.apply(null,arguments);i.error("%s %d: %s",n,0,e)}:ey[n]=function(){}),ey[n]);function e$(e,t){e=e||{},this.objectMode=!!e.objectMode,t instanceof ts&&(this.objectMode=this.objectMode||!!e.readableObjectMode);var r=e.highWaterMark,n=this.objectMode?16:16384;this.highWaterMark=r||0===r?r:n,this.highWaterMark=~~this.highWaterMark,this.buffer=new ek,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.defaultEncoding=e.defaultEncoding||"utf8",this.ranOut=!1,this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,e.encoding&&(this.decoder=new ej(e.encoding),this.encoding=e.encoding)}function eV(e){if(!(this instanceof eV))return new eV(e);this._readableState=new e$(e,this),this.readable=!0,e&&"function"==typeof e.read&&(this._read=e.read),Y.call(this)}function eF(e,t,r,n,i){var o,s,a,l=(s=null,V(o=r)||"string"==typeof o||null==o||t.objectMode||(s=TypeError("Invalid non-string/buffer chunk")),s);if(l)e.emit("error",l);else if(null===r)t.reading=!1,function(e,t){if(!t.ended){if(t.decoder){var r=t.decoder.end();r&&r.length&&(t.buffer.push(r),t.length+=t.objectMode?1:r.length)}t.ended=!0,eY(e)}}(e,t);else if(t.objectMode||r&&r.length>0){if(t.ended&&!i){var u=Error("stream.push() after EOF");e.emit("error",u)}else if(t.endEmitted&&i){var f=Error("stream.unshift() after end event");e.emit("error",f)}else!t.decoder||i||n||(r=t.decoder.write(r),a=!t.objectMode&&0===r.length),i||(t.reading=!1),a||(t.flowing&&0===t.length&&!t.sync?(e.emit("data",r),e.read(0)):(t.length+=t.objectMode?1:r.length,i?t.buffer.unshift(r):t.buffer.push(r),t.needReadable&&eY(e))),t.readingMore||(t.readingMore=!0,ef(eW,e,t))}else i||(t.reading=!1);return!t.ended&&(t.needReadable||t.length<t.highWaterMark||0===t.length)}function eJ(e,t){var r;return e<=0||0===t.length&&t.ended?0:t.objectMode?1:e!=e?t.flowing&&t.length?t.buffer.head.data.length:t.length:(e>t.highWaterMark&&(t.highWaterMark=((r=e)>=8388608?r=8388608:(r--,r|=r>>>1,r|=r>>>2,r|=r>>>4,r|=r>>>8,r|=r>>>16,r++),r)),e<=t.length?e:t.ended?t.length:(t.needReadable=!0,0))}function eY(e){var t=e._readableState;t.needReadable=!1,t.emittedReadable||(ez("emitReadable",t.flowing),t.emittedReadable=!0,t.sync?ef(eQ,e):eQ(e))}function eQ(e){ez("emit readable"),e.emit("readable"),eZ(e)}function eW(e,t){for(var r=t.length;!t.reading&&!t.flowing&&!t.ended&&t.length<t.highWaterMark&&(ez("maybeReadMore read 0"),e.read(0),r!==t.length);)r=t.length;t.readingMore=!1}function eH(e){ez("readable nexttick read 0"),e.read(0)}function eG(e,t){t.reading||(ez("resume read 0"),e.read(0)),t.resumeScheduled=!1,t.awaitDrain=0,e.emit("resume"),eZ(e),t.flowing&&!t.reading&&e.read(0)}function eZ(e){var t=e._readableState;for(ez("flow",t.flowing);t.flowing&&null!==e.read(););}function eK(e,t){var r,n,i,o;return 0===t.length?null:(t.objectMode?r=t.buffer.shift():!e||e>=t.length?(r=t.decoder?t.buffer.join(""):1===t.buffer.length?t.buffer.head.data:t.buffer.concat(t.length),t.buffer.clear()):(n=t.buffer,i=t.decoder,e<n.head.data.length?(o=n.head.data.slice(0,e),n.head.data=n.head.data.slice(e)):o=e===n.head.data.length?n.shift():i?function(e,t){var r=t.head,n=1,i=r.data;for(e-=i.length;r=r.next;){var o=r.data,s=e>o.length?o.length:e;if(s===o.length?i+=o:i+=o.slice(0,e),0==(e-=s)){s===o.length?(++n,r.next?t.head=r.next:t.head=t.tail=null):(t.head=r,r.data=o.slice(s));break}++n}return t.length-=n,i}(e,n):function(e,t){var r=y.allocUnsafe(e),n=t.head,i=1;for(n.data.copy(r),e-=n.data.length;n=n.next;){var o=n.data,s=e>o.length?o.length:e;if(o.copy(r,r.length-e,0,s),0==(e-=s)){s===o.length?(++i,n.next?t.head=n.next:t.head=t.tail=null):(t.head=n,n.data=o.slice(s));break}++i}return t.length-=i,r}(e,n),r=o),r)}function eX(e){var t=e._readableState;if(t.length>0)throw Error('"endReadable()" called on non-empty stream');t.endEmitted||(t.ended=!0,ef(e0,t,e))}function e0(e,t){e.endEmitted||0!==e.length||(e.endEmitted=!0,t.readable=!1,t.emit("end"))}function e1(e,t){for(var r=0,n=e.length;r<n;r++)if(e[r]===t)return r;return -1}function e2(){}function e6(e,t,r){this.chunk=e,this.encoding=t,this.callback=r,this.next=null}function e8(e,t){Object.defineProperty(this,"buffer",{get:function e(t,r){if(eA(o.process))return function(){return e(t,r).apply(this,arguments)};if(!0===ed.noDeprecation)return t;var n=!1;return function(){if(!n){if(ed.throwDeprecation)throw Error(r);ed.traceDeprecation?i.trace(r):i.error(r),n=!0}return t.apply(this,arguments)}}(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.")}),e=e||{},this.objectMode=!!e.objectMode,t instanceof ts&&(this.objectMode=this.objectMode||!!e.writableObjectMode);var r=e.highWaterMark,n=this.objectMode?16:16384;this.highWaterMark=r||0===r?r:n,this.highWaterMark=~~this.highWaterMark,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1;var s=!1===e.decodeStrings;this.decodeStrings=!s,this.defaultEncoding=e.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(e){(function(e,t){var r=e._writableState,n=r.sync,i=r.writecb;if(r.writing=!1,r.writecb=null,r.length-=r.writelen,r.writelen=0,t)--r.pendingcb,n?ef(i,t):i(t),e._writableState.errorEmitted=!0,e.emit("error",t);else{var o=e7(r);o||r.corked||r.bufferProcessing||!r.bufferedRequest||e9(e,r),n?ef(e4,e,r,o,i):e4(e,r,o,i)}})(t,e)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.bufferedRequestCount=0,this.corkedRequestsFree=new tr(this)}function e3(e){if(!(this instanceof e3)&&!(this instanceof ts))return new e3(e);this._writableState=new e8(e,this),this.writable=!0,e&&("function"==typeof e.write&&(this._write=e.write),"function"==typeof e.writev&&(this._writev=e.writev)),Y.call(this)}function e5(e,t,r,n,i,o,s){t.writelen=n,t.writecb=s,t.writing=!0,t.sync=!0,r?e._writev(i,t.onwrite):e._write(i,o,t.onwrite),t.sync=!1}function e4(e,t,r,n){r||0===t.length&&t.needDrain&&(t.needDrain=!1,e.emit("drain")),t.pendingcb--,n(),tt(e,t)}function e9(e,t){t.bufferProcessing=!0;var r=t.bufferedRequest;if(e._writev&&r&&r.next){var n=Array(t.bufferedRequestCount),i=t.corkedRequestsFree;i.entry=r;for(var o=0;r;)n[o]=r,r=r.next,o+=1;e5(e,t,!0,t.length,n,"",i.finish),t.pendingcb++,t.lastBufferedRequest=null,i.next?(t.corkedRequestsFree=i.next,i.next=null):t.corkedRequestsFree=new tr(t)}else{for(;r;){var s=r.chunk,a=r.encoding,l=r.callback,u=t.objectMode?1:s.length;if(e5(e,t,!1,u,s,a,l),r=r.next,t.writing)break}null===r&&(t.lastBufferedRequest=null)}t.bufferedRequestCount=0,t.bufferedRequest=r,t.bufferProcessing=!1}function e7(e){return e.ending&&0===e.length&&null===e.bufferedRequest&&!e.finished&&!e.writing}function te(e,t){t.prefinished||(t.prefinished=!0,e.emit("prefinish"))}function tt(e,t){var r=e7(t);return r&&(0===t.pendingcb?(te(e,t),t.finished=!0,e.emit("finish")):te(e,t)),r}function tr(e){var t=this;this.next=null,this.entry=null,this.finish=function(r){var n=t.entry;for(t.entry=null;n;){var i=n.callback;e.pendingcb--,i(r),n=n.next}e.corkedRequestsFree?e.corkedRequestsFree.next=t:e.corkedRequestsFree=t}}ep(eV,Y),eV.prototype.push=function(e,t){var r=this._readableState;return r.objectMode||"string"!=typeof e||(t=t||r.defaultEncoding)===r.encoding||(e=y.from(e,t),t=""),eF(this,r,e,t,!1)},eV.prototype.unshift=function(e){return eF(this,this._readableState,e,"",!0)},eV.prototype.isPaused=function(){return!1===this._readableState.flowing},eV.prototype.setEncoding=function(e){return this._readableState.decoder=new ej(e),this._readableState.encoding=e,this},eV.prototype.read=function(e){ez("read",e),e=parseInt(e,10);var t,r=this._readableState,n=e;if(0!==e&&(r.emittedReadable=!1),0===e&&r.needReadable&&(r.length>=r.highWaterMark||r.ended))return ez("read: emitReadable",r.length,r.ended),0===r.length&&r.ended?eX(this):eY(this),null;if(0===(e=eJ(e,r))&&r.ended)return 0===r.length&&eX(this),null;var i=r.needReadable;return ez("need readable",i),(0===r.length||r.length-e<r.highWaterMark)&&ez("length less than watermark",i=!0),r.ended||r.reading?ez("reading or ended",i=!1):i&&(ez("do read"),r.reading=!0,r.sync=!0,0===r.length&&(r.needReadable=!0),this._read(r.highWaterMark),r.sync=!1,r.reading||(e=eJ(n,r))),null===(t=e>0?eK(e,r):null)?(r.needReadable=!0,e=0):r.length-=e,0===r.length&&(r.ended||(r.needReadable=!0),n!==e&&r.ended&&eX(this)),null!==t&&this.emit("data",t),t},eV.prototype._read=function(e){this.emit("error",Error("not implemented"))},eV.prototype.pipe=function(e,t){var r=this,n=this._readableState;switch(n.pipesCount){case 0:n.pipes=e;break;case 1:n.pipes=[n.pipes,e];break;default:n.pipes.push(e)}n.pipesCount+=1,ez("pipe count=%d opts=%j",n.pipesCount,t);var i=t&&!1===t.end?u:s;function o(e){ez("onunpipe"),e===r&&u()}function s(){ez("onend"),e.end()}n.endEmitted?ef(i):r.once("end",i),e.on("unpipe",o);var a=function(){var e=r._readableState;ez("pipeOnDrain",e.awaitDrain),e.awaitDrain&&e.awaitDrain--,0===e.awaitDrain&&r.listeners("data").length&&(e.flowing=!0,eZ(r))};e.on("drain",a);var l=!1;function u(){ez("cleanup"),e.removeListener("close",d),e.removeListener("finish",p),e.removeListener("drain",a),e.removeListener("error",c),e.removeListener("unpipe",o),r.removeListener("end",s),r.removeListener("end",u),r.removeListener("data",h),l=!0,n.awaitDrain&&(!e._writableState||e._writableState.needDrain)&&a()}var f=!1;function h(t){ez("ondata"),f=!1,!1!==e.write(t)||f||((1===n.pipesCount&&n.pipes===e||n.pipesCount>1&&-1!==e1(n.pipes,e))&&!l&&(ez("false write response, pause",r._readableState.awaitDrain),r._readableState.awaitDrain++,f=!0),r.pause())}function c(t){ez("onerror",t),g(),e.removeListener("error",c),0===e.listeners("error").length&&e.emit("error",t)}function d(){e.removeListener("finish",p),g()}function p(){ez("onfinish"),e.removeListener("close",d),g()}function g(){ez("unpipe"),r.unpipe(e)}return r.on("data",h),function(e,t,r){if("function"==typeof e.prependListener)return e.prependListener(t,r);e._events&&e._events[t]?Array.isArray(e._events[t])?e._events[t].unshift(r):e._events[t]=[r,e._events[t]]:e.on(t,r)}(e,"error",c),e.once("close",d),e.once("finish",p),e.emit("pipe",r),n.flowing||(ez("pipe resume"),r.resume()),e},eV.prototype.unpipe=function(e){var t=this._readableState;if(0===t.pipesCount)return this;if(1===t.pipesCount)return e&&e!==t.pipes||(e||(e=t.pipes),t.pipes=null,t.pipesCount=0,t.flowing=!1,e&&e.emit("unpipe",this)),this;if(!e){var r=t.pipes,n=t.pipesCount;t.pipes=null,t.pipesCount=0,t.flowing=!1;for(var i=0;i<n;i++)r[i].emit("unpipe",this);return this}var o=e1(t.pipes,e);return -1===o||(t.pipes.splice(o,1),t.pipesCount-=1,1===t.pipesCount&&(t.pipes=t.pipes[0]),e.emit("unpipe",this)),this},eV.prototype.on=function(e,t){var r=Y.prototype.on.call(this,e,t);if("data"===e)!1!==this._readableState.flowing&&this.resume();else if("readable"===e){var n=this._readableState;n.endEmitted||n.readableListening||(n.readableListening=n.needReadable=!0,n.emittedReadable=!1,n.reading?n.length&&eY(this):ef(eH,this))}return r},eV.prototype.addListener=eV.prototype.on,eV.prototype.resume=function(){var e=this._readableState;return e.flowing||(ez("resume"),e.flowing=!0,e.resumeScheduled||(e.resumeScheduled=!0,ef(eG,this,e))),this},eV.prototype.pause=function(){return ez("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(ez("pause"),this._readableState.flowing=!1,this.emit("pause")),this},eV.prototype.wrap=function(e){var t=this._readableState,r=!1,n=this;for(var i in e.on("end",function(){if(ez("wrapped end"),t.decoder&&!t.ended){var e=t.decoder.end();e&&e.length&&n.push(e)}n.push(null)}),e.on("data",function(i){ez("wrapped data"),t.decoder&&(i=t.decoder.write(i)),t.objectMode&&null==i||!t.objectMode&&(!i||!i.length)||n.push(i)||(r=!0,e.pause())}),e)void 0===this[i]&&"function"==typeof e[i]&&(this[i]=function(t){return function(){return e[t].apply(e,arguments)}}(i));return function(e,t){for(var r=0,n=e.length;r<n;r++)t(e[r],r)}(["error","close","destroy","pause","resume"],function(t){e.on(t,n.emit.bind(n,t))}),n._read=function(t){ez("wrapped _read",t),r&&(r=!1,e.resume())},n},eV._fromList=eK,e3.WritableState=e8,ep(e3,Y),e8.prototype.getBuffer=function(){for(var e=this.bufferedRequest,t=[];e;)t.push(e),e=e.next;return t},e3.prototype.pipe=function(){this.emit("error",Error("Cannot pipe, not readable"))},e3.prototype.write=function(e,t,r){var n,i,o,s,a,l=this._writableState,u=!1;return"function"==typeof t&&(r=t,t=null),y.isBuffer(e)?t="buffer":t||(t=l.defaultEncoding),"function"!=typeof r&&(r=e2),l.ended?(n=r,i=Error("write after end"),this.emit("error",i),ef(n,i)):(o=r,s=!0,a=!1,null===e?a=TypeError("May not write null values to stream"):y.isBuffer(e)||"string"==typeof e||void 0===e||l.objectMode||(a=TypeError("Invalid non-string/buffer chunk")),a&&(this.emit("error",a),ef(o,a),s=!1),s&&(l.pendingcb++,u=function(e,t,r,n,i){o=r,s=n,t.objectMode||!1===t.decodeStrings||"string"!=typeof o||(o=y.from(o,s)),r=o,y.isBuffer(r)&&(n="buffer");var o,s,a=t.objectMode?1:r.length;t.length+=a;var l=t.length<t.highWaterMark;if(l||(t.needDrain=!0),t.writing||t.corked){var u=t.lastBufferedRequest;t.lastBufferedRequest=new e6(r,n,i),u?u.next=t.lastBufferedRequest:t.bufferedRequest=t.lastBufferedRequest,t.bufferedRequestCount+=1}else e5(e,t,!1,a,r,n,i);return l}(this,l,e,t,r))),u},e3.prototype.cork=function(){var e=this._writableState;e.corked++},e3.prototype.uncork=function(){var e=this._writableState;!e.corked||(e.corked--,e.writing||e.corked||e.finished||e.bufferProcessing||!e.bufferedRequest||e9(this,e))},e3.prototype.setDefaultEncoding=function(e){if("string"==typeof e&&(e=e.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((e+"").toLowerCase())>-1))throw TypeError("Unknown encoding: "+e);return this._writableState.defaultEncoding=e,this},e3.prototype._write=function(e,t,r){r(Error("not implemented"))},e3.prototype._writev=null,e3.prototype.end=function(e,t,r){var n,i=this._writableState;"function"==typeof e?(r=e,e=null,t=null):"function"==typeof t&&(r=t,t=null),null!=e&&this.write(e,t),i.corked&&(i.corked=1,this.uncork()),i.ending||i.finished||(n=r,i.ending=!0,tt(this,i),n&&(i.finished?ef(n):this.once("finish",n)),i.ended=!0,this.writable=!1)},ep(ts,eV);for(var tn=Object.keys(e3.prototype),ti=0;ti<tn.length;ti++){var to=tn[ti];ts.prototype[to]||(ts.prototype[to]=e3.prototype[to])}function ts(e){if(!(this instanceof ts))return new ts(e);eV.call(this,e),e3.call(this,e),e&&!1===e.readable&&(this.readable=!1),e&&!1===e.writable&&(this.writable=!1),this.allowHalfOpen=!0,e&&!1===e.allowHalfOpen&&(this.allowHalfOpen=!1),this.once("end",ta)}function ta(){this.allowHalfOpen||this._writableState.ended||ef(tl,this)}function tl(e){e.end()}function tu(e){this.afterTransform=function(t,r){return function(e,t,r){var n=e._transformState;n.transforming=!1;var i=n.writecb;if(!i)return e.emit("error",Error("no writecb in Transform class"));n.writechunk=null,n.writecb=null,null!=r&&e.push(r),i(t);var o=e._readableState;o.reading=!1,(o.needReadable||o.length<o.highWaterMark)&&e._read(o.highWaterMark)}(e,t,r)},this.needTransform=!1,this.transforming=!1,this.writecb=null,this.writechunk=null,this.writeencoding=null}function tf(e){if(!(this instanceof tf))return new tf(e);ts.call(this,e),this._transformState=new tu(this);var t=this;this._readableState.needReadable=!0,this._readableState.sync=!1,e&&("function"==typeof e.transform&&(this._transform=e.transform),"function"==typeof e.flush&&(this._flush=e.flush)),this.once("prefinish",function(){"function"==typeof this._flush?this._flush(function(e){th(t,e)}):th(t)})}function th(e,t){if(t)return e.emit("error",t);var r=e._writableState,n=e._transformState;if(r.length)throw Error("Calling transform done when ws.length != 0");if(n.transforming)throw Error("Calling transform done when still transforming");return e.push(null)}function tc(e){if(!(this instanceof tc))return new tc(e);tf.call(this,e)}function td(){Y.call(this)}ep(tf,ts),tf.prototype.push=function(e,t){return this._transformState.needTransform=!1,ts.prototype.push.call(this,e,t)},tf.prototype._transform=function(e,t,r){throw Error("Not implemented")},tf.prototype._write=function(e,t,r){var n=this._transformState;if(n.writecb=r,n.writechunk=e,n.writeencoding=t,!n.transforming){var i=this._readableState;(n.needTransform||i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}},tf.prototype._read=function(e){var t=this._transformState;null!==t.writechunk&&t.writecb&&!t.transforming?(t.transforming=!0,this._transform(t.writechunk,t.writeencoding,t.afterTransform)):t.needTransform=!0},ep(tc,tf),tc.prototype._transform=function(e,t,r){r(null,e)},ep(td,Y),td.Readable=eV,td.Writable=e3,td.Duplex=ts,td.Transform=tf,td.PassThrough=tc,td.Stream=td,td.prototype.pipe=function(e,t){var r=this;function n(t){e.writable&&!1===e.write(t)&&r.pause&&r.pause()}function i(){r.readable&&r.resume&&r.resume()}r.on("data",n),e.on("drain",i),e._isStdio||t&&!1===t.end||(r.on("end",s),r.on("close",a));var o=!1;function s(){o||(o=!0,e.end())}function a(){o||(o=!0,"function"==typeof e.destroy&&e.destroy())}function l(e){if(u(),0===Y.listenerCount(this,"error"))throw e}function u(){r.removeListener("data",n),e.removeListener("drain",i),r.removeListener("end",s),r.removeListener("close",a),r.removeListener("error",l),e.removeListener("error",l),r.removeListener("end",u),r.removeListener("close",u),e.removeListener("close",u)}return r.on("error",l),e.on("error",l),r.on("end",u),r.on("close",u),e.on("close",u),e.emit("pipe",r),e};let tp=function(e){return"object"==typeof e&&null!==e&&!Array.isArray(e)};class tg extends Error{constructor(e,t,r,...n){for(let i of(Array.isArray(t)&&(t=t.join(" ").trim()),super(t),void 0!==Error.captureStackTrace&&Error.captureStackTrace(this,tg),this.code=e,n))for(let e in i){let t=i[e];this[e]=V(t)?t.toString(r.encoding):null==t?t:JSON.parse(JSON.stringify(t))}}}let tm=function(e){let t=[];for(let r=0,n=e.length;r<n;r++){let n=e[r];if(null==n||!1===n)t[r]={disabled:!0};else if("string"==typeof n)t[r]={name:n};else if(tp(n)){if("string"!=typeof n.name)throw new tg("CSV_OPTION_COLUMNS_MISSING_NAME",["Option columns missing name:",`property "name" is required at position ${r}`,"when column is an object literal"]);t[r]=n}else throw new tg("CSV_INVALID_COLUMN_DEFINITION",["Invalid column definition:","expect a string or a literal object,",`got ${JSON.stringify(n)} at position ${r}`])}return t};class t_{constructor(e=100){this.size=e,this.length=0,this.buf=y.allocUnsafe(e)}prepend(e){if(V(e)){let t=this.length+e.length;if(t>=this.size&&(this.resize(),t>=this.size))throw Error("INVALID_BUFFER_STATE");let r=this.buf;this.buf=y.allocUnsafe(this.size),e.copy(this.buf,0),r.copy(this.buf,e.length),this.length+=e.length}else{let t=this.length++;t===this.size&&this.resize();let r=this.clone();this.buf[0]=e,r.copy(this.buf,1,0,t)}}append(e){let t=this.length++;t===this.size&&this.resize(),this.buf[t]=e}clone(){return y.from(this.buf.slice(0,this.length))}resize(){let e=this.length;this.size=2*this.size;let t=y.allocUnsafe(this.size);this.buf.copy(t,0,0,e),this.buf=t}toString(e){return e?this.buf.slice(0,this.length).toString(e):Uint8Array.prototype.slice.call(this.buf.slice(0,this.length))}toJSON(){return this.toString("utf8")}reset(){this.length=0}}let ty=function(e){let t={};for(let r in e)t[r.replace(/([A-Z])/g,function(e,t){return"_"+t.toLowerCase()})]=e[r];if(void 0===t.encoding||!0===t.encoding)t.encoding="utf8";else if(null===t.encoding||!1===t.encoding)t.encoding=null;else if("string"!=typeof t.encoding&&null!==t.encoding)throw new tg("CSV_INVALID_OPTION_ENCODING",["Invalid option encoding:","encoding must be a string or null to return a buffer,",`got ${JSON.stringify(t.encoding)}`],t);if(void 0===t.bom||null===t.bom||!1===t.bom)t.bom=!1;else if(!0!==t.bom)throw new tg("CSV_INVALID_OPTION_BOM",["Invalid option bom:","bom must be true,",`got ${JSON.stringify(t.bom)}`],t);if(t.cast_function=null,void 0===t.cast||null===t.cast||!1===t.cast||""===t.cast)t.cast=void 0;else if("function"==typeof t.cast)t.cast_function=t.cast,t.cast=!0;else if(!0!==t.cast)throw new tg("CSV_INVALID_OPTION_CAST",["Invalid option cast:","cast must be true or a function,",`got ${JSON.stringify(t.cast)}`],t);if(void 0===t.cast_date||null===t.cast_date||!1===t.cast_date||""===t.cast_date)t.cast_date=!1;else if(!0===t.cast_date)t.cast_date=function(e){let t=Date.parse(e);return isNaN(t)?e:new Date(t)};else if("function"!=typeof t.cast_date)throw new tg("CSV_INVALID_OPTION_CAST_DATE",["Invalid option cast_date:","cast_date must be true or a function,",`got ${JSON.stringify(t.cast_date)}`],t);if(t.cast_first_line_to_header=null,!0===t.columns)t.cast_first_line_to_header=void 0;else if("function"==typeof t.columns)t.cast_first_line_to_header=t.columns,t.columns=!0;else if(Array.isArray(t.columns))t.columns=tm(t.columns);else if(void 0===t.columns||null===t.columns||!1===t.columns)t.columns=!1;else throw new tg("CSV_INVALID_OPTION_COLUMNS",["Invalid option columns:","expect an array, a function or true,",`got ${JSON.stringify(t.columns)}`],t);if(void 0===t.group_columns_by_name||null===t.group_columns_by_name||!1===t.group_columns_by_name)t.group_columns_by_name=!1;else{if(!0!==t.group_columns_by_name)throw new tg("CSV_INVALID_OPTION_GROUP_COLUMNS_BY_NAME",["Invalid option group_columns_by_name:","expect an boolean,",`got ${JSON.stringify(t.group_columns_by_name)}`],t);if(!1===t.columns)throw new tg("CSV_INVALID_OPTION_GROUP_COLUMNS_BY_NAME",["Invalid option group_columns_by_name:","the `columns` mode must be activated."],t)}if(void 0===t.comment||null===t.comment||!1===t.comment||""===t.comment)t.comment=null;else if("string"==typeof t.comment&&(t.comment=y.from(t.comment,t.encoding)),!V(t.comment))throw new tg("CSV_INVALID_OPTION_COMMENT",["Invalid option comment:","comment must be a buffer or a string,",`got ${JSON.stringify(t.comment)}`],t);let r=JSON.stringify(t.delimiter);if(Array.isArray(t.delimiter)||(t.delimiter=[t.delimiter]),0===t.delimiter.length)throw new tg("CSV_INVALID_OPTION_DELIMITER",["Invalid option delimiter:","delimiter must be a non empty string or buffer or array of string|buffer,",`got ${r}`],t);if(t.delimiter=t.delimiter.map(function(e){if(null==e||!1===e)return y.from(",",t.encoding);if("string"==typeof e&&(e=y.from(e,t.encoding)),!V(e)||0===e.length)throw new tg("CSV_INVALID_OPTION_DELIMITER",["Invalid option delimiter:","delimiter must be a non empty string or buffer or array of string|buffer,",`got ${r}`],t);return e}),void 0===t.escape||!0===t.escape?t.escape=y.from('"',t.encoding):"string"==typeof t.escape?t.escape=y.from(t.escape,t.encoding):(null===t.escape||!1===t.escape)&&(t.escape=null),null!==t.escape&&!V(t.escape))throw Error(`Invalid Option: escape must be a buffer, a string or a boolean, got ${JSON.stringify(t.escape)}`);if(void 0===t.from||null===t.from)t.from=1;else if("string"==typeof t.from&&/\d+/.test(t.from)&&(t.from=parseInt(t.from)),Number.isInteger(t.from)){if(t.from<0)throw Error(`Invalid Option: from must be a positive integer, got ${JSON.stringify(e.from)}`)}else throw Error(`Invalid Option: from must be an integer, got ${JSON.stringify(t.from)}`);if(void 0===t.from_line||null===t.from_line)t.from_line=1;else if("string"==typeof t.from_line&&/\d+/.test(t.from_line)&&(t.from_line=parseInt(t.from_line)),Number.isInteger(t.from_line)){if(t.from_line<=0)throw Error(`Invalid Option: from_line must be a positive integer greater than 0, got ${JSON.stringify(e.from_line)}`)}else throw Error(`Invalid Option: from_line must be an integer, got ${JSON.stringify(e.from_line)}`);if(void 0===t.ignore_last_delimiters||null===t.ignore_last_delimiters)t.ignore_last_delimiters=!1;else if("number"==typeof t.ignore_last_delimiters)t.ignore_last_delimiters=Math.floor(t.ignore_last_delimiters),0===t.ignore_last_delimiters&&(t.ignore_last_delimiters=!1);else if("boolean"!=typeof t.ignore_last_delimiters)throw new tg("CSV_INVALID_OPTION_IGNORE_LAST_DELIMITERS",["Invalid option `ignore_last_delimiters`:","the value must be a boolean value or an integer,",`got ${JSON.stringify(t.ignore_last_delimiters)}`],t);if(!0===t.ignore_last_delimiters&&!1===t.columns)throw new tg("CSV_IGNORE_LAST_DELIMITERS_REQUIRES_COLUMNS",["The option `ignore_last_delimiters`","requires the activation of the `columns` option"],t);if(void 0===t.info||null===t.info||!1===t.info)t.info=!1;else if(!0!==t.info)throw Error(`Invalid Option: info must be true, got ${JSON.stringify(t.info)}`);if(void 0===t.max_record_size||null===t.max_record_size||!1===t.max_record_size)t.max_record_size=0;else if(!(Number.isInteger(t.max_record_size)&&t.max_record_size>=0)){if("string"==typeof t.max_record_size&&/\d+/.test(t.max_record_size))t.max_record_size=parseInt(t.max_record_size);else throw Error(`Invalid Option: max_record_size must be a positive integer, got ${JSON.stringify(t.max_record_size)}`)}if(void 0===t.objname||null===t.objname||!1===t.objname)t.objname=void 0;else if(V(t.objname)){if(0===t.objname.length)throw Error("Invalid Option: objname must be a non empty buffer");null===t.encoding||(t.objname=t.objname.toString(t.encoding))}else if("string"==typeof t.objname){if(0===t.objname.length)throw Error("Invalid Option: objname must be a non empty string")}else if("number"!=typeof t.objname)throw Error(`Invalid Option: objname must be a string or a buffer, got ${t.objname}`);if(void 0!==t.objname){if("number"==typeof t.objname){if(!1!==t.columns)throw Error("Invalid Option: objname index cannot be combined with columns or be defined as a field")}else if(!1===t.columns)throw Error("Invalid Option: objname field must be combined with columns or be defined as an index")}if(void 0===t.on_record||null===t.on_record)t.on_record=void 0;else if("function"!=typeof t.on_record)throw new tg("CSV_INVALID_OPTION_ON_RECORD",["Invalid option `on_record`:","expect a function,",`got ${JSON.stringify(t.on_record)}`],t);if(null===t.quote||!1===t.quote||""===t.quote)t.quote=null;else if(void 0===t.quote||!0===t.quote?t.quote=y.from('"',t.encoding):"string"==typeof t.quote&&(t.quote=y.from(t.quote,t.encoding)),!V(t.quote))throw Error(`Invalid Option: quote must be a buffer or a string, got ${JSON.stringify(t.quote)}`);if(void 0===t.raw||null===t.raw||!1===t.raw)t.raw=!1;else if(!0!==t.raw)throw Error(`Invalid Option: raw must be true, got ${JSON.stringify(t.raw)}`);if(void 0===t.record_delimiter)t.record_delimiter=[];else if("string"==typeof t.record_delimiter||V(t.record_delimiter)){if(0===t.record_delimiter.length)throw new tg("CSV_INVALID_OPTION_RECORD_DELIMITER",["Invalid option `record_delimiter`:","value must be a non empty string or buffer,",`got ${JSON.stringify(t.record_delimiter)}`],t);t.record_delimiter=[t.record_delimiter]}else if(!Array.isArray(t.record_delimiter))throw new tg("CSV_INVALID_OPTION_RECORD_DELIMITER",["Invalid option `record_delimiter`:","value must be a string, a buffer or array of string|buffer,",`got ${JSON.stringify(t.record_delimiter)}`],t);if(t.record_delimiter=t.record_delimiter.map(function(e,r){if("string"!=typeof e&&!V(e))throw new tg("CSV_INVALID_OPTION_RECORD_DELIMITER",["Invalid option `record_delimiter`:","value must be a string, a buffer or array of string|buffer",`at index ${r},`,`got ${JSON.stringify(e)}`],t);if(0===e.length)throw new tg("CSV_INVALID_OPTION_RECORD_DELIMITER",["Invalid option `record_delimiter`:","value must be a non empty string or buffer",`at index ${r},`,`got ${JSON.stringify(e)}`],t);return"string"==typeof e&&(e=y.from(e,t.encoding)),e}),"boolean"!=typeof t.relax_column_count){if(void 0===t.relax_column_count||null===t.relax_column_count)t.relax_column_count=!1;else throw Error(`Invalid Option: relax_column_count must be a boolean, got ${JSON.stringify(t.relax_column_count)}`)}if("boolean"!=typeof t.relax_column_count_less){if(void 0===t.relax_column_count_less||null===t.relax_column_count_less)t.relax_column_count_less=!1;else throw Error(`Invalid Option: relax_column_count_less must be a boolean, got ${JSON.stringify(t.relax_column_count_less)}`)}if("boolean"!=typeof t.relax_column_count_more){if(void 0===t.relax_column_count_more||null===t.relax_column_count_more)t.relax_column_count_more=!1;else throw Error(`Invalid Option: relax_column_count_more must be a boolean, got ${JSON.stringify(t.relax_column_count_more)}`)}if("boolean"!=typeof t.relax_quotes){if(void 0===t.relax_quotes||null===t.relax_quotes)t.relax_quotes=!1;else throw Error(`Invalid Option: relax_quotes must be a boolean, got ${JSON.stringify(t.relax_quotes)}`)}if("boolean"!=typeof t.skip_empty_lines){if(void 0===t.skip_empty_lines||null===t.skip_empty_lines)t.skip_empty_lines=!1;else throw Error(`Invalid Option: skip_empty_lines must be a boolean, got ${JSON.stringify(t.skip_empty_lines)}`)}if("boolean"!=typeof t.skip_records_with_empty_values){if(void 0===t.skip_records_with_empty_values||null===t.skip_records_with_empty_values)t.skip_records_with_empty_values=!1;else throw Error(`Invalid Option: skip_records_with_empty_values must be a boolean, got ${JSON.stringify(t.skip_records_with_empty_values)}`)}if("boolean"!=typeof t.skip_records_with_error){if(void 0===t.skip_records_with_error||null===t.skip_records_with_error)t.skip_records_with_error=!1;else throw Error(`Invalid Option: skip_records_with_error must be a boolean, got ${JSON.stringify(t.skip_records_with_error)}`)}if(void 0===t.rtrim||null===t.rtrim||!1===t.rtrim)t.rtrim=!1;else if(!0!==t.rtrim)throw Error(`Invalid Option: rtrim must be a boolean, got ${JSON.stringify(t.rtrim)}`);if(void 0===t.ltrim||null===t.ltrim||!1===t.ltrim)t.ltrim=!1;else if(!0!==t.ltrim)throw Error(`Invalid Option: ltrim must be a boolean, got ${JSON.stringify(t.ltrim)}`);if(void 0===t.trim||null===t.trim||!1===t.trim)t.trim=!1;else if(!0!==t.trim)throw Error(`Invalid Option: trim must be a boolean, got ${JSON.stringify(t.trim)}`);if(!0===t.trim&&!1!==e.ltrim?t.ltrim=!0:!0!==t.ltrim&&(t.ltrim=!1),!0===t.trim&&!1!==e.rtrim?t.rtrim=!0:!0!==t.rtrim&&(t.rtrim=!1),void 0===t.to||null===t.to)t.to=-1;else if("string"==typeof t.to&&/\d+/.test(t.to)&&(t.to=parseInt(t.to)),Number.isInteger(t.to)){if(t.to<=0)throw Error(`Invalid Option: to must be a positive integer greater than 0, got ${JSON.stringify(e.to)}`)}else throw Error(`Invalid Option: to must be an integer, got ${JSON.stringify(e.to)}`);if(void 0===t.to_line||null===t.to_line)t.to_line=-1;else if("string"==typeof t.to_line&&/\d+/.test(t.to_line)&&(t.to_line=parseInt(t.to_line)),Number.isInteger(t.to_line)){if(t.to_line<=0)throw Error(`Invalid Option: to_line must be a positive integer greater than 0, got ${JSON.stringify(e.to_line)}`)}else throw Error(`Invalid Option: to_line must be an integer, got ${JSON.stringify(e.to_line)}`);return t},tv=function(e){return e.every(e=>null==e||e.toString&&""===e.toString().trim())},tb={utf8:y.from([239,187,191]),utf16le:y.from([255,254])},tw=function(e={}){let t=ty(e);return{info:{bytes:0,comment_lines:0,empty_lines:0,invalid_field_length:0,lines:1,records:0},original_options:e,options:t,state:{bomSkipped:!1,bufBytesStart:0,castField:t.cast_function,commenting:!1,error:void 0,enabled:1===t.from_line,escaping:!1,escapeIsQuote:V(t.escape)&&V(t.quote)&&0===y.compare(t.escape,t.quote),expectedRecordLength:Array.isArray(t.columns)?t.columns.length:void 0,field:new t_(20),firstLineToHeaders:t.cast_first_line_to_header,needMoreDataSize:Math.max(null!==t.comment?t.comment.length:0,...t.delimiter.map(e=>e.length),null!==t.quote?t.quote.length:0),previousBuf:void 0,quoting:!1,stop:!1,rawBuffer:new t_(100),record:[],recordHasError:!1,record_length:0,recordDelimiterMaxLength:0===t.record_delimiter.length?0:Math.max(...t.record_delimiter.map(e=>e.length)),trimChars:[y.from(" ",t.encoding)[0],y.from("	",t.encoding)[0]],wasQuoting:!1,wasRowDelimiter:!1,timchars:[y.from(y.from([13],"utf8").toString(),t.encoding),y.from(y.from([10],"utf8").toString(),t.encoding),y.from(y.from([12],"utf8").toString(),t.encoding),y.from(y.from([32],"utf8").toString(),t.encoding),y.from(y.from([9],"utf8").toString(),t.encoding)]},__needMoreData:function(e,t,r){if(r)return!1;let{encoding:n,escape:i,quote:o}=this.options,{quoting:s,needMoreDataSize:a,recordDelimiterMaxLength:l}=this.state,u=Math.max(a,0===l?y.from(`\r
`,n).length:l,s?(null===i?0:i.length)+o.length:0,s?o.length+l:0);return t-e-1<u},parse:function(e,t,r,n){let i,o;let{bom:s,encoding:a,from_line:l,ltrim:u,max_record_size:f,raw:h,relax_quotes:c,rtrim:d,skip_empty_lines:p,to:g,to_line:m}=this.options,{comment:_,escape:v,quote:b,record_delimiter:w}=this.options,{bomSkipped:E,previousBuf:S,rawBuffer:R,escapeIsQuote:O}=this.state;if(void 0===S){if(void 0===e){n();return}i=e}else i=void 0!==S&&void 0===e?S:y.concat([S,e]);if(!1===E){if(!1===s)this.state.bomSkipped=!0;else if(i.length<3){if(!1===t){this.state.previousBuf=i;return}}else{for(let e in tb)if(0===tb[e].compare(i,0,tb[e].length)){let t=tb[e].length;this.state.bufBytesStart+=t,i=i.slice(t),this.options=ty({...this.original_options,encoding:e}),{comment:_,escape:v,quote:b}=this.options;break}this.state.bomSkipped=!0}}let I=i.length;for(o=0;o<I&&!this.__needMoreData(o,I,t);o++){if(!0===this.state.wasRowDelimiter&&(this.info.lines++,this.state.wasRowDelimiter=!1),-1!==m&&this.info.lines>m){this.state.stop=!0,n();return}!1===this.state.quoting&&0===w.length&&this.__autoDiscoverRecordDelimiter(i,o)&&(w=this.options.record_delimiter);let e=i[o];if(!0===h&&R.append(e),(13===e||10===e)&&!1===this.state.wasRowDelimiter&&(this.state.wasRowDelimiter=!0),!0===this.state.escaping)this.state.escaping=!1;else{if(null!==v&&!0===this.state.quoting&&this.__isEscape(i,o,e)&&o+v.length<I){if(O){if(this.__isQuote(i,o+v.length)){this.state.escaping=!0,o+=v.length-1;continue}}else{this.state.escaping=!0,o+=v.length-1;continue}}if(!1===this.state.commenting&&this.__isQuote(i,o)){if(!0===this.state.quoting){let t=i[o+b.length],r=d&&this.__isCharTrimable(i,o+b.length),n=null!==_&&this.__compareBytes(_,i,o+b.length,t),s=this.__isDelimiter(i,o+b.length,t),a=0===w.length?this.__autoDiscoverRecordDelimiter(i,o+b.length):this.__isRecordDelimiter(t,i,o+b.length);if(null!==v&&this.__isEscape(i,o,e)&&this.__isQuote(i,o+v.length))o+=v.length-1;else if(!t||s||a||n||r){this.state.quoting=!1,this.state.wasQuoting=!0,o+=b.length-1;continue}else if(!1===c){let e=this.__error(new tg("CSV_INVALID_CLOSING_QUOTE",["Invalid Closing Quote:",`got "${String.fromCharCode(t)}"`,`at line ${this.info.lines}`,"instead of delimiter, record delimiter, trimable character","(if activated) or comment"],this.options,this.__infoField()));if(void 0!==e)return e}else this.state.quoting=!1,this.state.wasQuoting=!0,this.state.field.prepend(b),o+=b.length-1}else if(0!==this.state.field.length){if(!1===c){let e=this.__infoField(),t=Object.keys(tb).map(e=>!!tb[e].equals(this.state.field.toString())&&e).filter(Boolean)[0],r=this.__error(new tg("INVALID_OPENING_QUOTE",["Invalid Opening Quote:",`a quote is found on field ${JSON.stringify(e.column)} at line ${e.lines}, value is ${JSON.stringify(this.state.field.toString(a))}`,t?`(${t} bom)`:void 0],this.options,e,{field:this.state.field}));if(void 0!==r)return r}}else{this.state.quoting=!0,o+=b.length-1;continue}}if(!1===this.state.quoting){let t=this.__isRecordDelimiter(e,i,o);if(0!==t){if(this.state.commenting&&!1===this.state.wasQuoting&&0===this.state.record.length&&0===this.state.field.length)this.info.comment_lines++;else{if(!1===this.state.enabled&&this.info.lines+(!0===this.state.wasRowDelimiter?1:0)>=l){this.state.enabled=!0,this.__resetField(),this.__resetRecord(),o+=t-1;continue}if(!0===p&&!1===this.state.wasQuoting&&0===this.state.record.length&&0===this.state.field.length){this.info.empty_lines++,o+=t-1;continue}this.info.bytes=this.state.bufBytesStart+o;let e=this.__onField();if(void 0!==e)return e;this.info.bytes=this.state.bufBytesStart+o+t;let i=this.__onRecord(r);if(void 0!==i)return i;if(-1!==g&&this.info.records>=g){this.state.stop=!0,n();return}}this.state.commenting=!1,o+=t-1;continue}if(this.state.commenting)continue;if((null===_?0:this.__compareBytes(_,i,o,e))!==0){this.state.commenting=!0;continue}let s=this.__isDelimiter(i,o,e);if(0!==s){this.info.bytes=this.state.bufBytesStart+o;let e=this.__onField();if(void 0!==e)return e;o+=s-1;continue}}}if(!1===this.state.commenting&&0!==f&&this.state.record_length+this.state.field.length>f)return this.__error(new tg("CSV_MAX_RECORD_SIZE",["Max Record Size:","record exceed the maximum number of tolerated bytes",`of ${f}`,`at line ${this.info.lines}`],this.options,this.__infoField()));let t=!1===u||!0===this.state.quoting||0!==this.state.field.length||!this.__isCharTrimable(i,o),s=!1===d||!1===this.state.wasQuoting;if(!0===t&&!0===s)this.state.field.append(e);else{if(!0===d&&!this.__isCharTrimable(i,o))return this.__error(new tg("CSV_NON_TRIMABLE_CHAR_AFTER_CLOSING_QUOTE",["Invalid Closing Quote:","found non trimable byte after quote",`at line ${this.info.lines}`],this.options,this.__infoField()));!1===t&&(o+=this.__isCharTrimable(i,o)-1);continue}}if(!0===t){if(!0===this.state.quoting){let e=this.__error(new tg("CSV_QUOTE_NOT_CLOSED",["Quote Not Closed:",`the parsing is finished with an opening quote at line ${this.info.lines}`],this.options,this.__infoField()));if(void 0!==e)return e}else if(!0===this.state.wasQuoting||0!==this.state.record.length||0!==this.state.field.length){this.info.bytes=this.state.bufBytesStart+o;let e=this.__onField();if(void 0!==e)return e;let t=this.__onRecord(r);if(void 0!==t)return t}else!0===this.state.wasRowDelimiter?this.info.empty_lines++:!0===this.state.commenting&&this.info.comment_lines++}else this.state.bufBytesStart+=o,this.state.previousBuf=i.slice(o);!0===this.state.wasRowDelimiter&&(this.info.lines++,this.state.wasRowDelimiter=!1)},__onRecord:function(e){let{columns:t,group_columns_by_name:r,encoding:n,info:i,from:o,relax_column_count:s,relax_column_count_less:a,relax_column_count_more:l,raw:u,skip_records_with_empty_values:f}=this.options,{enabled:h,record:c}=this.state;if(!1===h)return this.__resetRecord();let d=c.length;if(!0===t){if(!0===f&&tv(c)){this.__resetRecord();return}return this.__firstLineToColumns(c)}if(!1===t&&0===this.info.records&&(this.state.expectedRecordLength=d),d!==this.state.expectedRecordLength){let e=!1===t?new tg("CSV_RECORD_INCONSISTENT_FIELDS_LENGTH",["Invalid Record Length:",`expect ${this.state.expectedRecordLength},`,`got ${d} on line ${this.info.lines}`],this.options,this.__infoField(),{record:c}):new tg("CSV_RECORD_INCONSISTENT_COLUMNS",["Invalid Record Length:",`columns length is ${t.length},`,`got ${d} on line ${this.info.lines}`],this.options,this.__infoField(),{record:c});if(!0===s||!0===a&&d<this.state.expectedRecordLength||!0===l&&d>this.state.expectedRecordLength)this.info.invalid_field_length++,this.state.error=e;else{let t=this.__error(e);if(t)return t}}if(!0===f&&tv(c)){this.__resetRecord();return}if(!0===this.state.recordHasError){this.__resetRecord(),this.state.recordHasError=!1;return}if(this.info.records++,1===o||this.info.records>=o){let{objname:o}=this.options;if(!1!==t){let s={};for(let e=0,n=c.length;e<n;e++)void 0===t[e]||t[e].disabled||(!0===r&&void 0!==s[t[e].name]?Array.isArray(s[t[e].name])?s[t[e].name]=s[t[e].name].concat(c[e]):s[t[e].name]=[s[t[e].name],c[e]]:s[t[e].name]=c[e]);if(!0===u||!0===i){let t=Object.assign({record:s},!0===u?{raw:this.state.rawBuffer.toString(n)}:{},!0===i?{info:this.__infoRecord()}:{}),r=this.__push(void 0===o?t:[s[o],t],e);if(r)return r}else{let t=this.__push(void 0===o?s:[s[o],s],e);if(t)return t}}else if(!0===u||!0===i){let t=Object.assign({record:c},!0===u?{raw:this.state.rawBuffer.toString(n)}:{},!0===i?{info:this.__infoRecord()}:{}),r=this.__push(void 0===o?t:[c[o],t],e);if(r)return r}else{let t=this.__push(void 0===o?c:[c[o],c],e);if(t)return t}}this.__resetRecord()},__firstLineToColumns:function(e){let{firstLineToHeaders:t}=this.state;try{let r=void 0===t?e:t.call(null,e);if(!Array.isArray(r))return this.__error(new tg("CSV_INVALID_COLUMN_MAPPING",["Invalid Column Mapping:","expect an array from column function,",`got ${JSON.stringify(r)}`],this.options,this.__infoField(),{headers:r}));let n=tm(r);this.state.expectedRecordLength=n.length,this.options.columns=n,this.__resetRecord();return}catch(e){return e}},__resetRecord:function(){!0===this.options.raw&&this.state.rawBuffer.reset(),this.state.error=void 0,this.state.record=[],this.state.record_length=0},__onField:function(){let{cast:e,encoding:t,rtrim:r,max_record_size:n}=this.options,{enabled:i,wasQuoting:o}=this.state;if(!1===i)return this.__resetField();let s=this.state.field.toString(t);if(!0===r&&!1===o&&(s=s.trimRight()),!0===e){let[e,t]=this.__cast(s);if(void 0!==e)return e;s=t}this.state.record.push(s),0!==n&&"string"==typeof s&&(this.state.record_length+=s.length),this.__resetField()},__resetField:function(){this.state.field.reset(),this.state.wasQuoting=!1},__push:function(e,t){let{on_record:r}=this.options;if(void 0!==r){let t=this.__infoRecord();try{e=r.call(null,e,t)}catch(e){return e}if(null==e)return}t(e)},__cast:function(e){let{columns:t,relax_column_count:r}=this.options;if(!0===Array.isArray(t)&&r&&this.options.columns.length<=this.state.record.length)return[void 0,void 0];if(null!==this.state.castField)try{let t=this.__infoField();return[void 0,this.state.castField.call(null,e,t)]}catch(e){return[e]}if(this.__isFloat(e))return[void 0,parseFloat(e)];if(!1!==this.options.cast_date){let t=this.__infoField();return[void 0,this.options.cast_date.call(null,e,t)]}return[void 0,e]},__isCharTrimable:function(e,t){return((e,t)=>{let{timchars:r}=this.state;e:for(let n=0;n<r.length;n++){let i=r[n];for(let r=0;r<i.length;r++)if(i[r]!==e[t+r])continue e;return i.length}return 0})(e,t)},__isFloat:function(e){return e-parseFloat(e)+1>=0},__compareBytes:function(e,t,r,n){if(e[0]!==n)return 0;let i=e.length;for(let n=1;n<i;n++)if(e[n]!==t[r+n])return 0;return i},__isDelimiter:function(e,t,r){let{delimiter:n,ignore_last_delimiters:i}=this.options;if(!0===i&&this.state.record.length===this.options.columns.length-1||!1!==i&&"number"==typeof i&&this.state.record.length===i-1)return 0;e:for(let i=0;i<n.length;i++){let o=n[i];if(o[0]===r){for(let r=1;r<o.length;r++)if(o[r]!==e[t+r])continue e;return o.length}}return 0},__isRecordDelimiter:function(e,t,r){let{record_delimiter:n}=this.options,i=n.length;e:for(let o=0;o<i;o++){let i=n[o],s=i.length;if(i[0]===e){for(let e=1;e<s;e++)if(i[e]!==t[r+e])continue e;return i.length}}return 0},__isEscape:function(e,t,r){let{escape:n}=this.options;if(null===n)return!1;let i=n.length;if(n[0]===r){for(let r=0;r<i;r++)if(n[r]!==e[t+r])return!1;return!0}return!1},__isQuote:function(e,t){let{quote:r}=this.options;if(null===r)return!1;let n=r.length;for(let i=0;i<n;i++)if(r[i]!==e[t+i])return!1;return!0},__autoDiscoverRecordDelimiter:function(e,t){let{encoding:r}=this.options,n=[y.from(`\r
`,r),y.from(`
`,r),y.from("\r",r)];e:for(let r=0;r<n.length;r++){let i=n[r].length;for(let o=0;o<i;o++)if(n[r][o]!==e[t+o])continue e;return this.options.record_delimiter.push(n[r]),this.state.recordDelimiterMaxLength=n[r].length,n[r].length}return 0},__error:function(e){let{encoding:t,raw:r,skip_records_with_error:n}=this.options,i="string"==typeof e?Error(e):e;if(!n)return i;this.state.recordHasError=!0,void 0!==this.options.on_skip&&this.options.on_skip(i,r?this.state.rawBuffer.toString(t):void 0)},__infoDataSet:function(){return{...this.info,columns:this.options.columns}},__infoRecord:function(){let{columns:e,raw:t,encoding:r}=this.options;return{...this.__infoDataSet(),error:this.state.error,header:!0===e,index:this.state.record.length,raw:t?this.state.rawBuffer.toString(r):void 0}},__infoField:function(){let{columns:e}=this.options,t=Array.isArray(e);return{...this.__infoRecord(),column:!0===t?e.length>this.state.record.length?e[this.state.record.length].name:null:this.state.record.length,quoting:this.state.wasQuoting}}}};class tE extends tf{constructor(e={}){super({readableObjectMode:!0,...e,encoding:null}),this.api=tw(e),this.api.options.on_skip=(e,t)=>{this.emit("skip",e,t)},this.state=this.api.state,this.options=this.api.options,this.info=this.api.info}_transform(e,t,r){if(!0===this.state.stop)return;let n=this.api.parse(e,!1,e=>{this.push(e)},()=>{this.push(null),this.on("end",this.destroy)});void 0!==n&&(this.state.stop=!0),r(n)}_flush(e){if(!0===this.state.stop)return;let t=this.api.parse(void 0,!0,e=>{this.push(e)},()=>{this.push(null),this.on("end",this.destroy)});e(t)}}let tS=function(){let e,t,r;for(let n in arguments){let i=arguments[n],o=typeof i;if(void 0===e&&("string"==typeof i||V(i)))e=i;else if(void 0===t&&tp(i))t=i;else if(void 0===r&&"function"===o)r=i;else throw new tg("CSV_INVALID_ARGUMENT",["Invalid argument:",`got ${JSON.stringify(i)} at index ${n}`],t||{})}let n=new tE(t);if(r){let e=void 0===t||void 0===t.objname?[]:{};n.on("readable",function(){let r;for(;null!==(r=this.read());)void 0===t||void 0===t.objname?e.push(r):e[r[0]]=r[1]}),n.on("error",function(e){r(e,void 0,n.api.__infoDataSet())}),n.on("end",function(){r(void 0,e,n.api.__infoDataSet())})}if(void 0!==e){let t=function(){n.write(e),n.end()};"function"==typeof setImmediate?setImmediate(t):setTimeout(t,0)}return n}}}]);
//# sourceMappingURL=https://www.loom.com/admin/sourcemaps/js/4082-884482e828d25c66ae90.js.map