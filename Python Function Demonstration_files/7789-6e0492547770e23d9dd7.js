(self.webpackChunk_loomhq_web_client=self.webpackChunk_loomhq_web_client||[]).push([[7789],{96367:function(e,t,a){"use strict";a.d(t,{Az:function(){return S},HM:function(){return y},Km:function(){return g},Q8:function(){return f},YJ:function(){return u},b:function(){return v},g_:function(){return _},hZ:function(){return k},oS:function(){return h},u9:function(){return m},zY:function(){return p}});var n,i,r,s,o,l,d,u=((n=u||{}).INVALID="INVALID",n.UNKNOWN="UNKNOWN",n.PENDING="PENDING",n.USER="USER",n.AUTO="AUTO",n),c=((i=c||{}).INVALID="INVALID",i.FINAL="FINAL",i.SPECULATIVE="SPECULATIVE",i),m=((r=m||{}).AUTO_GENERATED="AUTO_GENERATED",r.DEFAULT="DEFAULT",r.USER_EDITED_AUTO_GENERATED="USER_EDITED_AUTO_GENERATED",r.USER_EDITED_DEFAULT="USER_EDITED_DEFAULT",r.ATTEMPTED_AUTO_GENERATION="ATTEMPTED_AUTO_GENERATION",r);let p="variant-chatgpt",h="variant-chatgpt-excluded",v=["variant-openai","variant-openai-excluded"],f=[p,h,"variant-excluded"],g="auto_cta";var k=((s=k||{}).UNSUPPORTED="unsupported",s.IN_PROGRESS="in_progress",s.SUCCESS="success",s.FAILURE="failure",s.NOT_STARTED="not_started",s),_=((o=_||{}).AUTO_GENERATION="AUTO_GENERATION",o.USER_EDITED="USER_EDITED",o.AUTO_GENERATION_FAILED="AUTO_GENERATION_FAILED",o),E=((l=E||{}).SOP="SOP",l.CODE_DOCS="CODE_DOCS",l.PR_DESCRIPTION="PR_DESCRIPTION",l.QA_STEPS="QA_STEPS",l.STEP_BY_STEP="STEP_BY_STEP",l.SUMMARY="SUMMARY",l);let S=259200;var T=((d=T||{}).MISSING_VIDEO="missing_video",d.MISSING_USER="missing_user",d.NOT_IN_EXPERIMENT="not_in_experiment",d.EXCLUDE_ENTERPRISE="reason_exclude_enterprise",d.INVALID_DURATION="invalid_duration",d.USER_SETTING_DISABLED="user_setting_disabled",d.UPLOAD_OR_TRIM="upload_or_trim",d.USER_EDITED="user_edited",d.AUTO_EDITED="auto_edited",d.NO_COMPLETION_TIME="no_completion_time",d.TIMEOUT="timeout",d.EMPTY_TRANSCRIPT="empty_transcript",d.MINIMUM_TRANSCRIPT_LENGTH="minimum_transcript_length",d.FAILED_TO_PARSE_MESSAGE="failed_to_parse_message",d.FAILED_ERROR_CODE="failed_error_code",d.NO_RESPONSE_STREAM="no_response_stream",d.USAGE_LIMIT="usage_limit",d.ADD_ON_PLAN="add_on_plan",d.NO_TASKS_DETECTED="no_tasks_detected",d.EMPTY_CHAPTERS="empty chapters",d.FAILED_FORMAT_CHAPTERS="failed to format video chapters with auto chapters",d.FAILED_FORMAT_NUDGES="failed to format video nudges with auto nudges",d.PRE_CALL_PROCESS_FAILED="pre_call_process_failed",d.POST_CALL_PROCESS_FAILED="post_call_process_failed",d.MEETING_VIDEO="meeting_video",d.ITX_UNHANDLED_ERROR="itx_unhandled_error",d.ITX_INVALID_LANGUAGE="itx_invalid_language",d.ITX_LARGE_FILE="itx_large_file",d.ITX_MANIFEST_MISMATCH="itx_manifest_mismatch",d.ITX_MANIFEST_NOT_RESOLVED="itx_manifest_not_resolved",d.ITX_SESSION_TERMINATED="itx_session_terminated",d);let y={add_on_plan:{description:"The user is not on the AI Add On plan. This is not an error, but rather the user is not in an eligible workspace."},auto_edited:{description:"The feature was already edited by the system automatically (not by the user). This is an error because the system should apply multiple edits to the feature."},empty_transcript:{description:"The video has an empty transcript. This is a catch all for many issues including: (1) no transcript was available yet by the time intelligence was processed, even after retries. (2) the video has no vocal audio (user does not talk, their microphone is on mute). (3) the video has no unintelligible audio, either quality or a non-supported language. (4) infrastructure failure in fetching the transcript from AWS S3, either from our end or AWS."},reason_exclude_enterprise:{description:"The video is in an enterprise account, and is excluded for this feature"},failed_error_code:{description:"The ChatGPT response has an error code. ChatGPT is likely down, or there is an invalid request being passed in (too many tokens, etc.)."},"failed to format video chapters with auto chapters":{description:"Video chapters were not parsable from the ChatGPT response, likely a malformed response."},"failed to format video nudges with auto nudges":{description:"Video nudges were not parsable from the ChatGPT response, likely a malformed response."},failed_to_parse_message:{description:"The ChatGPT response could not be parsed. This is most likely due to a malformed response from ChatGPT."},invalid_duration:{description:"The video is not long enough to be processed by this feature."},itx_invalid_language:{description:"The video is not in a supported language for this feature."},itx_large_file:{description:"The transcription process could not handle the recorded file size."},itx_manifest_mismatch:{description:"The transcription process found a problem in the recording manifest."},itx_manifest_not_resolved:{description:"The transcription process could not find the recording manifest."},itx_session_terminated:{description:"The transcription process waited too long for the recording completion."},itx_unhandled_error:{description:"Generic error during transcription."},minimum_transcript_length:{description:"The video has a transcript that is too short to be processed by this feature. Currently the limit is 150 characters, and this is enforced for all languages. This means denser languages by character length may require more more transcript to be available"},missing_user:{description:"The user could not be found, mostly likely something is down with the database preventing users from being fetched."},missing_video:{description:"The video could not be found, mostly likely it's been deleted or canceled before intelligence could be processed."},no_completion_time:{description:"The video has no known completion time, which means the timeout cannot be calculated."},no_response_stream:{description:"The ChatGPT response has no response stream. This is most due to an outage by ChatGPT preventing a streaming connection from being set up."},no_tasks_detected:{description:"ChatGPT did not detect any tasks in the video transcript. This is not necessarily a problem. Many, if not most recordings do not contain tasks."},not_in_experiment:{description:"The user is not in the experiment for this particular feature."},timeout:{description:"Intelligence took too long to process. Preventing any intelligence from overriding the results on the video."},upload_or_trim:{description:"The video is either an upload (v4) or a trim (v6), and is not eligible for this feature."},usage_limit:{description:"The user has used up their free AI Add On plan usage limit. This can be bumped in the admin console if needed"},user_edited:{description:"The feature was edited by the user before intelligence could be made available."},user_setting_disabled:{description:"The user has disabled this feature in their settings. This is not an error, but rather a user preference."}}},58893:function(e,t,a){"use strict";a.d(t,{isValidCtaUrl:function(){return i}}),a(76724);let n=["about:","blob:","data:","javascript:","file:","chrome:","chrome-extension:"],i=e=>{for(let t of n)if(e.startsWith(t))return!1;return!0}},54533:function(e,t,a){"use strict";a.d(t,{N:function(){return d},j:function(){return l}});var n=a(40240),i=a(7910),r=a(64219),s=a.n(r),o=a(73845);let l=e=>{if(e.preventDefault(),e.stopPropagation(),e.target.className.indexOf("external-link")>-1)return(0,i.zv)(e.target.href);let t=e.target.getAttribute("data-seconds");if(!t)return;let a=Number(t);return window.top.postMessage({type:"embed-play-video-at-timestamp",numSeconds:a},"*"),!1},d=(e,t=!0)=>async(a,i=10)=>{let r=(0,n.J$)(),l=await r.query({query:s(),variables:{workspaceId:e,query:a,limit:3*i,includeContacts:t}}),d=(l.data.searchWorkspaceMembers?.users||[]).filter(e=>e).map(e=>({id:`user:${e.id}`,display:e.display_name,avatar:(0,o.kV)(e.avatars),email:e.email}));if(!t)return d.slice(0,i);let u=(l.data.searchWorkspaceContacts?.results||[]).filter(e=>e).map(e=>({id:`workspace_contacts:${e.id}`,display:e.displayName,source:e.source,email:e.value}));return(e=>{let t={};return e.reduce((e,a)=>t[a.email]?e:(t[a.email]=!0,[...e,a]),[])})([...d,...u]).slice(0,i)}},16443:function(e,t,a){"use strict";a.d(t,{J:function(){return L}});var n=a(89536),i=a(6621),r=a(72931),s=a(72197),o=a(71770),l=a(23555),d=a(22941),u=a(66420),c=a(89895),m=a(14374),p=a(96367),h=a(29256),v=a(61435),f=a(2677),g=a(94705),k=a(28668);let _=(0,k.Ps)`
    fragment AutoFeatureStatuses on AutoFeatureStatuses {
  id
  autoTitleStatus
  autoDescriptionStatus
  autoChaptersStatus
  autoTasksStatus
  autoTasksCount
  hasSilenceRemovalEnabled
  hasFillerWordRemovalEnabled
  numberOfFillerWordsTrimmed
  secondsOfSilenceTrimmed
}
    `,E=(0,k.Ps)`
    subscription AutoFeatureStatusChanged($videoId: ID!) {
  autoFeatureStatusChanged(videoId: $videoId) {
    autoFeatureStatuses {
      ...AutoFeatureStatuses
    }
  }
}
    ${_}`;var S=a(84515);let T={},y=(0,k.Ps)`
    query GetAutoFeatureStatuses($videoId: ID!, $password: String) {
  getAutoFeatureStatuses(videoId: $videoId, password: $password) {
    ... on AutoFeatureStatuses {
      ...AutoFeatureStatuses
    }
    ... on Error {
      message
    }
  }
}
    ${_}`,b=({videoId:e,skip:t=!1})=>{let{password:a}=(0,g.u)(),n=(0,u.useRef)(),[i,r]=(0,u.useState)(!1),{data:s,subscribeToMore:o,loading:l,refetch:d}=function(e){let t={...T,...e};return S.a(y,t)}({variables:{videoId:e,password:a},skip:t,onCompleted:e=>{e.getAutoFeatureStatuses?.__typename!=="AutoFeatureStatuses"&&r(!0)},onError:()=>{r(!0)}});return(0,u.useEffect)(()=>{n.current=o({document:E,variables:{videoId:e},updateQuery:(e,{subscriptionData:t})=>e.getAutoFeatureStatuses?.__typename==="AutoFeatureStatuses"&&t.data?.autoFeatureStatusChanged?.autoFeatureStatuses?Object.assign({},e,{getAutoFeatureStatuses:{...e.getAutoFeatureStatuses,...t.data.autoFeatureStatusChanged.autoFeatureStatuses}}):e})},[o,e]),(0,u.useEffect)(()=>{let e=setTimeout(()=>{n.current?.()},1e4);return()=>clearTimeout(e)},[]),{...(0,u.useMemo)(()=>{if(s?.getAutoFeatureStatuses?.__typename!=="AutoFeatureStatuses")return{autoTitleStatus:null,autoDescriptionStatus:null,autoChaptersStatus:null,autoTasksStatus:null,autoTasksCount:0,hasFillerWordRemovalEnabled:!1,hasSilenceRemovalEnabled:!1,numberOfFillerWordsTrimmed:0,secondsOfSilenceTrimmed:0};let{autoTitleStatus:e,autoDescriptionStatus:t,autoChaptersStatus:a,autoTasksStatus:n,autoTasksCount:i,hasFillerWordRemovalEnabled:r,hasSilenceRemovalEnabled:o,numberOfFillerWordsTrimmed:l,secondsOfSilenceTrimmed:d}=s.getAutoFeatureStatuses;return{autoTitleStatus:e,autoDescriptionStatus:t,autoChaptersStatus:a,autoTasksStatus:n,autoTasksCount:i??0,hasFillerWordRemovalEnabled:r,hasSilenceRemovalEnabled:o,numberOfFillerWordsTrimmed:l??0,secondsOfSilenceTrimmed:d??0}},[s]),isLoading:l,hasError:i,refetchStatuses:d}},C=e=>(Date.now()-new Date(e).getTime())/1e3>=p.Az,I=e=>[null,h.jC.Pending,h.CK.InProgress].includes(e),N=e=>null!==e&&[h.jC.Auto,h.CK.Success].includes(e),A=e=>e===h.jC.User,w=({videoId:e,skip:t=!1})=>{let{video:{createdAt:a}}=(0,l.dPl)(),p=(0,c.v9)(v.Pw),g=(0,l.DWr)(e),{setShowConfirmationToast:k}=(0,s.x)(),[_,E]=(0,u.useState)(!1),{languageUnavailable:S,transcriptAvailable:T,transcriptEmpty:y,transcriptInProgress:w,transcriptRegenerating:D,transcriptUnavailable:F}=(0,o.h7)(),{autoTitleStatus:x,autoDescriptionStatus:P,autoChaptersStatus:O,autoTasksCount:R,hasSilenceRemovalEnabled:U,hasFillerWordRemovalEnabled:V,numberOfFillerWordsTrimmed:L,secondsOfSilenceTrimmed:W,isLoading:M,hasError:$,refetchStatuses:G}=b({videoId:e,skip:t}),z=(0,n.Mr)({flag:i.udJ,activationValues:[!0]}),q=C(a),H=z||!q,j=O===h.CK.NotStarted,B=!H||!I(x),Q=N(x),K=!H||!I(P),Y=N(P),X=j||!I(O),Z=N(O),{userEdited:J}=(0,d.Jp)(),ee=[Q,Y,Z,R>0].filter(Boolean).length>0;return(0,u.useEffect)(()=>{if(p&&!_&&(W>0||L>0)){W>0&&f.track(r.sD5,{videoId:e,secondsOfSilenceTrimmed:W}),L>0&&f.track(r.tXZ,{videoId:e,numberOfFillerWordsTrimmed:L}),E(!0);let t="auto-fws-removal:",a={videoId:e,secondsOfSilenceTrimmed:W,numberOfFillerWordsTrimmed:L};g?(m.info(`${t} completed after video played`,a),k("We've automatically trimmed filler words and silences from your video! Please reload to see the changes.")):m.info(`${t} completed before video played`,a)}},[p,L,W,_,E,g,e,k]),{autoChaptersGenerated:Z,autoSummaryGenerated:Y,autoTasksCount:R,autoTitleGenerated:Q,hasAnyIntelligenceFeatures:ee,hasError:$,hasTrimmedFillerWords:V,hasTrimmedSilences:U,hasUserEditedChapters:J,hasUserEditedSummary:A(P),hasUserEditedTitle:A(x),isLoading:M||!(B&&K&&X),languageUnavailable:S,numberOfFillerWordsTrimmed:L,refreshStatus:G,secondsOfSilenceTrimmed:W,transcriptAvailable:T,transcriptEmpty:y,transcriptInProgress:w,transcriptRegenerating:D,transcriptUnavailable:F}};var D=a(26998),F=a(25353),x=a(64018);let P={},O=(0,k.Ps)`
    query GetIntelligenceStatus($videoId: ID!, $password: String) {
  getIntelligenceStatus(videoId: $videoId, password: $password) {
    ... on GetIntelligenceStatusPayload {
      autoTitleStatus
      autoDescriptionStatus
      autoChaptersStatus
      autoTasksStatus
      autoTasksCount
      hasTrimmedSilences
      hasTrimmedFillerWords
      secondsOfSilenceTrimmed
      numberOfFillerWordsTrimmed
      playableDuration
      processingInformation {
        trim_id
        trim_progress
        trim_ranges {
          from
          to
        }
        videoUploadValid
      }
    }
    ... on Error {
      message
    }
  }
}
    `,R=({skip:e})=>{let{video:{id:t,createdAt:a}}=(0,l.dPl)(),{password:k}=(0,g.u)(),_=(0,D.useIsCurrentUserLoggedIn)(),{setShowConfirmationToast:E}=(0,s.x)(),{languageUnavailable:T,transcriptAvailable:y,transcriptEmpty:b,transcriptInProgress:C,transcriptRegenerating:I,transcriptUnavailable:N}=(0,o.h7)(),A=(0,F._)(),w=(0,c.v9)(v.Pw),{statusCacheExpired:x,setStatusCacheExpired:R,isLoading:L,setIsLoading:W,hasError:M,setHasError:$,hasHandledAutoFillerWordAndSilenceRemovalWhenFromRecorder:G,setHasHandledAutoFillerWordAndSilenceRemovalWhenFromRecorder:z}=U(),{data:q,stopPolling:H,refetch:j}=function(e){let t={...P,...e};return S.a(O,t)}({variables:{videoId:t,password:k},pollInterval:1e3,skip:!_||e,onCompleted:e=>{e&&e?.getIntelligenceStatus?.__typename!=="GetIntelligenceStatusPayload"&&(W(!1),$(!0),H())},onError:()=>{W(!1),$(!0),H()}});(0,u.useEffect)(()=>{(Date.now()-new Date(a).getTime())/1e3>=p.Az&&(R(!0),W(!1),H())},[a,W,H,R]);let B=(0,D.useCurrentUserSelector)(e=>!!e.videoSettings?.auto_filler_word_removal,!1),Q=(0,D.useCurrentUserSelector)(e=>!!e.videoSettings?.auto_silence_removal,!1),K=(0,n.Mr)({flag:i.EE7,activationValues:["filler_words","filler_words_and_silences"]});(0,u.useEffect)(()=>{if(q?.getIntelligenceStatus?.__typename!=="GetIntelligenceStatusPayload")return;let e=q.getIntelligenceStatus.autoTitleStatus,t=q.getIntelligenceStatus.autoDescriptionStatus,a=q.getIntelligenceStatus.autoChaptersStatus,n=q.getIntelligenceStatus.autoTasksStatus,i=x||null!==e&&e!==h.jC.Pending,r=x||null!==t&&t!==h.jC.Pending,s=null!==a&&[h.CK.Success,h.CK.Failure,h.CK.Unsupported].includes(a),o=a===h.CK.NotStarted&&!w,l=x||null!==n&&n!==h.jC.Pending;if(i&&r&&l){let e=K&&(B||Q)&&!(q.getIntelligenceStatus.hasTrimmedSilences||q.getIntelligenceStatus.hasTrimmedFillerWords);W(!1),!e&&(s||o)&&H()}},[q,H,w,x,W,K,B,Q]);let Y=null,X=null,Z=null,J=!1,ee=!1,et=0,ea=0,en=0,ei=null,er=null;q?.getIntelligenceStatus?.__typename==="GetIntelligenceStatusPayload"&&(Y=q?.getIntelligenceStatus?.autoTitleStatus,X=q?.getIntelligenceStatus?.autoDescriptionStatus,Z=q?.getIntelligenceStatus?.autoChaptersStatus,J=q?.getIntelligenceStatus?.hasTrimmedSilences,ee=q?.getIntelligenceStatus?.hasTrimmedFillerWords,et=q?.getIntelligenceStatus?.secondsOfSilenceTrimmed,ea=q?.getIntelligenceStatus?.numberOfFillerWordsTrimmed,en=q?.getIntelligenceStatus.autoTasksCount??0,ei=q?.getIntelligenceStatus?.playableDuration,er=q?.getIntelligenceStatus?.processingInformation);let es=(0,c.v9)(v.nN)===h.jC.User||Y===h.jC.User,eo=(0,c.v9)(v.yo)===h.jC.User||X===h.jC.User,{userEdited:el}=(0,d.Jp)(),ed=X===h.jC.Auto,eu=Y===h.jC.Auto,ec=Z===h.CK.Success,em=[eu,ed,ec,en>0].filter(Boolean).length>0;(0,u.useEffect)(()=>{let e=setTimeout(()=>{W(!1),H()},V);return()=>clearTimeout(e)},[W,H]);let ep=(0,l.DWr)(t);return(0,u.useEffect)(()=>{if(w&&!G&&(et>0||ea>0)){et>0&&f.track(r.sD5,{videoId:t,secondsOfSilenceTrimmed:et}),ea>0&&f.track(r.tXZ,{videoId:t,numberOfFillerWordsTrimmed:ea}),z(!0);let e="auto-fws-removal:",a={videoId:t,secondsOfSilenceTrimmed:et,numberOfFillerWordsTrimmed:ea};ep?(m.info(`${e} completed after video played`,a),E("We've automatically trimmed filler words and silences from your video! Please reload to see the changes.")):(m.info(`${e} completed before video played`,a),er&&A({playable_duration:ei,processing_information:er}))}},[w,ea,et,G,z,ep,ei,er,A,t,E]),{autoChaptersGenerated:ec,autoSummaryGenerated:ed,autoTasksCount:en,autoTitleGenerated:eu,hasAnyIntelligenceFeatures:em,hasError:M,hasTrimmedFillerWords:ee,hasTrimmedSilences:J,hasUserEditedChapters:el,hasUserEditedSummary:eo,hasUserEditedTitle:es,isLoading:L,languageUnavailable:T,numberOfFillerWordsTrimmed:ea,refreshStatus:j,secondsOfSilenceTrimmed:et,transcriptAvailable:y,transcriptEmpty:b,transcriptInProgress:C,transcriptRegenerating:I,transcriptUnavailable:N}},U=(0,x.Z)(e=>({isLoading:!0,setIsLoading:t=>e({isLoading:t}),hasError:!1,setHasError:t=>e({hasError:t}),statusCacheExpired:!1,setStatusCacheExpired:t=>e({statusCacheExpired:t}),hasHandledAutoFillerWordAndSilenceRemovalWhenFromRecorder:!1,setHasHandledAutoFillerWordAndSilenceRemovalWhenFromRecorder:t=>e({hasHandledAutoFillerWordAndSilenceRemovalWhenFromRecorder:t})})),V=1e4,L=({videoId:e})=>{let t=(0,n.Mr)({flag:i.oGF,activationValues:[!0]}),a=void 0===t,r=R({skip:a||t}),s=w({videoId:e,skip:a||!t});return t?s:r}},72197:function(e,t,a){"use strict";a.d(t,{x:function(){return r}});var n=a(64018);let i={message:"",show:!1},r=(0,n.Z)(e=>({...i,setShowConfirmationToast:t=>e({show:!0,message:t}),setHideConfirmationToast:()=>e({...i})}))},68934:function(e,t,a){"use strict";a.d(t,{L:function(){return g}});var n=a(72931),i=a(49003),r=a(70243),s=a(26998),o=a(56977),l=a(84888),d=a(89895),u=a(80512),c=a(72251),m=a(27584),p=a(62189),h=a(29256),v=a(2677),f=a(42145);let g=e=>{let t=(0,d.I0)(),a=(0,l.hP)(),g=(0,s.useCurrentUserSelector)(e=>e.id,null),k=(0,o.nw)(),_=(0,m.df)(a),{data:E,loading:S}=(0,f.rj)({variables:{workspaceId:a.id},skip:!a.id}),T=E?.customer?.__typename==="LoomCustomer"?E.customer:null;return"request-ai"===e.purchaseType?{onClick:()=>{e.onCloseClick?.(),t((0,r.O)("loom-ai",{analyticEvent:n.i4q,source:e.source}))}}:"sales-led"===e.purchaseType?{onClick:()=>{v.track(n.Q4q,{purchase_type:e.purchaseType,source:e.source,workspace_type:a?.type,workspace_id:a?.id,user_id:g,member_role:k},()=>{window.location.href=`${i.cu}${i.xJ}`})}}:"add-on-only"===e.purchaseType?{onClick:()=>{_?t((0,r.O)("loom-ai",{analyticEvent:n.i4q,source:e.source})):(v.track(n.Q4q,{purchase_type:e.purchaseType,source:e.source,workspace_type:a?.type,workspace_id:a?.id,user_id:g,member_role:k}),t((0,u.h7)({modalType:"PURCHASE_AI_MODAL",options:{source:e.source}}))),e.onCloseClick?.()}}:"has-ai-addon"===e.purchaseType?{onClick:()=>{v.track(n.Q4q,{purchase_type:e.purchaseType,source:e.source,workspace_type:a?.type,workspace_id:a?.id,user_id:g,member_role:k}),e.onCloseClick&&e.onCloseClick()}}:{onClick:()=>{v.track(n.Q4q,{purchase_type:e.purchaseType,source:e.source,workspace_type:a?.type,workspace_id:a?.id,user_id:g,member_role:k},async()=>{if(S)return;let a=(0,c.s)(T);if(e.onCloseClick&&await e.onCloseClick(),a&&k===p.Xx){let e=new URL("/upgrade-plan",window.location.origin);e.searchParams.append("addon",h.e9.Ai),e.searchParams.append("type","annually"),window.location.href=e.toString()}else t((0,r.O)("loom-ai"))})}}}},80795:function(e,t,a){"use strict";a.d(t,{X:function(){return p}});var n=a(91564),i=a(68934),r=a(42145),s=a(84888),o=a(60398),l=a(60176),d=a(62189),u=a(10768),c=a(18807),m=a(29256);let p=(e=n.y.AI_SIDEBAR_CTA)=>{let t;let a=(0,s.hP)(),{data:p}=(0,r.rj)({variables:{workspaceId:a?.id},skip:!a?.id}),h=p?.billing?.billing_details,v=a?.type,f=!!h&&(0,o.V9)(h),g=a?.organization_properties?.salesSupportType===u.$v||v===c.zF,k=h?.add_ons??[],_=k?k.find(e=>(0,l.Sp)(e.price.product).addon===m.e9.Ai):void 0,E=!!h?.paused,S=_&&a?.memberRole===d.N,T=!_&&a?.memberRole!==d.Xx;switch(!0){case S||T:t="request-ai";break;case _&&(0,l.Sp)(_.price.product).addon===m.e9.Ai&&!f:t="has-ai-addon";break;case g:t="sales-led";break;case v===c.UK||f:t="with-base-plan";break;default:t="add-on-only"}let{onClick:y}=(0,i.L)({purchaseType:t,source:e,pureTrial:f,paused:E});return{onClick:y}}},29790:function(e,t,a){"use strict";a.d(t,{g:function(){return c}});var n=a(45731),i=a(23555),r=a(66420),s=a(89895),o=a(14374),l=a(39971),d=a(72924),u=a(61435);let c=()=>{let e=(0,s.I0)(),{current_user_is_owner:t}=(0,s.v9)(u.z8),{isProtected:a,password:c}=(0,n.u)(),{video:{id:m,downloadable:p}}=(0,i.dPl)();return{fetchShareVideoDownloadUrl:(0,r.useCallback)(()=>{if(p&&!(!t&&a&&null==c))try{(0,l.H)(m,c,t=>{e((0,d.mV)(t))})}catch(e){o.warning("error fetching share video download url",e)}},[t,p,a,c,m,e])}}},25353:function(e,t,a){"use strict";a.d(t,{_:function(){return d}});var n=a(23555),i=a(89895),r=a(66009),s=a(72924),o=a(67184),l=a(29790);let d=()=>{let e=(0,i.I0)(),{setVideo:t,setVideoProperties:a}=(0,n.dPl)(),{fetchShareVideoDownloadUrl:d}=(0,l.g)();return n=>{e((0,s.qh)(!0)),t({processingInformation:{trimId:n.processing_information.trim_id,trimProgress:n.processing_information.trim_progress,trimRanges:n.processing_information.trim_ranges,videoUploadValid:!!n.processing_information.videoUploadValid}}),a({playableDuration:n.playable_duration}),e((0,s.mV)(null)),d(),e((0,o.Mb)(null)),e((0,r.HQ)())}}},80962:function(e,t,a){"use strict";a.d(t,{L:function(){return i}});var n,i=((n=i||{}).Link="Add a link",n.Thumbnail="Change thumbnail",n.Settings="Video settings",n.Default="Set default link",n)},74583:function(e,t,a){"use strict";a.d(t,{Ah:function(){return r},ED:function(){return n},Lg:function(){return i}});let n="Summary",i="Chapters",r="Meeting Recap"},58524:function(e,t,a){"use strict";a.d(t,{I:function(){return s}});var n=a(89895),i=a(6621),r=a(96367);let s=()=>{let e=(0,n.v9)(e=>e?.feature_flags[i.YU]?.value);return!!r.Q8.includes(e)}},3603:function(e,t,a){"use strict";a.d(t,{v:function(){return s}});var n=a(89895),i=a(61435),r=a(57539);let s=({videoId:e})=>{let t=(0,r.A)({videoId:e}),a=(0,n.v9)(i.Pw);return t&&a}},5862:function(e,t,a){"use strict";a.d(t,{a:function(){return o}});var n=a(77848),i=a.n(n),r=a(66420),s=a(99196);let o=e=>{let t={...e},a="small"===e.size,{shouldHighlight:n=!1,hasError:o=!1}=e,l=e.spacing||"none";return t.className=i()("autoresize-textarea_textArea_Rwt",e.className,{"autoresize-textarea_sizeSmall_3e5":a,"autoresize-textarea_sizeMedium_14j":!a,"autoresize-textarea_paddingSmall_kjc":"small"===l,"autoresize-textarea_paddingMedium_2tA":"medium"===l,"autoresize-textarea_empty_1oT":!n,"autoresize-textarea_error_1iG":o}),t.ref=e.textRef,delete t.textRef,delete t.shouldHighlight,delete t.hasError,delete t.spacing,r.createElement(s.Z,{...t})}},22941:function(e,t,a){"use strict";a.d(t,{Wp:function(){return n},ZF:function(){return N},S1:function(){return eu},YD:function(){return i},Jp:function(){return A}});let n="chaptersTextArea",i=e=>null==e||0===e.trim().length;var r=a(72931),s=a(84515),o=a(26998),l=a(94705),d=a(23555),u=a(15265),c=a(58524),m=a(3603),p=a(80489),h=a.n(p),v=a(66420),f=a(89895),g=a(96367),k=a(72924),_=a(2677),E=a(68958),S=a.n(E),T=a(28668),y=a(34017);let b={},C=(0,T.Ps)`
    mutation UpdateChapters($videoId: ID!, $content: String!, $password: String) {
  updateChapters(videoId: $videoId, content: $content, password: $password) {
    ... on VideoChapters {
      id
      video_id
      content
      schema_version
      updatedAt
      edited_at
      auto_chapter_status
    }
    ... on InvalidRequestWarning {
      message
    }
    ... on UserNotAuthorizedError {
      message
    }
    ... on GenericError {
      message
    }
  }
}
    `,I=(0,v.createContext)(null),N=({children:e})=>{let t=(0,v.useRef)(null),{video:{currentUserCanEdit:a=!1,id:p,videoProperties:{playableDuration:E}}}=(0,d.dPl)(),{password:T}=(0,l.u)(),N=(0,f.I0)(),[A,w]=(0,v.useState)(null),D=(0,c.I)(),F=(0,o.useCurrentUserSelector)(e=>e.videoSettings?.auto_chapters!==!1,!1),x=(0,m.v)({videoId:p}),P=!!o.useCurrentUserSelector(e=>e.aiAccess,null)?.autoChapters,[O,R]=(0,v.useState)(!1),[U,V]=(0,v.useState)(!1),[L,W]=(0,v.useState)(""),[M,$]=(0,v.useState)(""),[G,z]=(0,v.useState)(!1),[q,H]=(0,v.useState)(!1),j=!!(D&&F&&P),{data:B,loading:Q,startPolling:K,stopPolling:Y}=(0,s.a)(S(),{variables:{videoId:p,password:T}}),X=Q?null:B?.fetchVideoChapters?.content??"",Z=Q?null:B?.fetchVideoChapters?.auto_chapter_status??"",[J]=function(e){let t={...b,...e};return y.D(C,t)}({variables:{videoId:p,content:L,password:T}}),ee=(0,v.useCallback)(e=>{W(e),N((0,k.Bg)(e))},[N]);(0,v.useEffect)(()=>{if(!Q&&null!==X){ee(X);let e=B?.fetchVideoChapters;e&&e.edited_at&&z(!0),!X&&a&&x&&j&&H(!0)}},[X,Q,a,H,B,Z,j]),(0,v.useEffect)(()=>{if(!j)return;let e=B?.fetchVideoChapters?.edited_at,t=B?.fetchVideoChapters?.auto_chapter_status,a=x&&(t===g.hZ.NOT_STARTED||t===g.hZ.IN_PROGRESS),n=B?.fetchVideoChapters?.content;if(!x&&(e||n)){H(!1),ee(n),Y();return}Q||a?K(1e3):(H(!1),ee(n),Y());let i=setTimeout(()=>{H(!1),Y()},35e3);return()=>{clearTimeout(i)}},[B?.fetchVideoChapters?.auto_chapter_status,Q,K,Y,j,x]),(0,v.useEffect)(()=>{if(O){let e=document.getElementById(n);e?.focus();let t=e?.value?.length;e?.setSelectionRange(t,t)}},[O]),(0,v.useEffect)(()=>{U&&O&&(t?.current?.scrollIntoView({behavior:"smooth",block:"center"}),V(!1))},[O,U]);let et=(0,v.useCallback)(e=>{let t=(0,u.uV)(M,E).chapters,a=(0,u.uV)(e,E).chapters;h()(t,a)||_.track(r.FO8,{video_id:p,old_chapters_string:M,new_chapters_string:e,old_validated_chapters:t,new_validated_chapters:a,old_validated_chapters_count:t?.length||0,new_validated_chapters_count:a?.length||0,chapter_generation_method:g.g_.USER_EDITED,chapter_generation_failure_reason:null})},[M,p,E]),ea=(0,v.useCallback)(e=>{ee(e),et(e)},[et,ee]),en=(0,v.useCallback)(()=>{ea(""),R(!1),J({variables:{content:"",videoId:p,password:T}}),_.track(r.uKB,{video_id:p})},[ea,J,p,T]);(0,v.useEffect)(()=>{if(!L||0===L.length){w(null);return}let e=(0,u.uV)(L,E);w(e.error?`${e.error} Chapters will not display on the video timeline.`:null)},[L,E]);let ei=(0,v.useCallback)(()=>{ea(L),J(),R(!1),z(!0)},[L,ea,J]),er=(0,v.useCallback)(()=>{W(M),R(!1)},[M]),es=(0,v.useCallback)(({analyticsEventName:e,scrollIntoView:t})=>{$(L),R(!0),V(!!t),_.track(e,{video_id:p})},[L,p]),eo=!i(L),el=(0,v.useMemo)(()=>({autoChapterStatus:Z,canEditChapters:a,cancelEditChapters:er,chapters:L,chaptersAvailable:eo,chaptersInputWrapperRef:t,clearChapters:en,editChapters:es,errorMsg:A,fetchingChapters:Q,isAutoChaptersExpected:j,saveChapters:ei,setChapters:W,showInput:O,userEdited:G,waitingForAI:q}),[Z,a,L,Q,eo,A,en,er,es,j,ei,O,G,q]);return v.createElement(I.Provider,{value:el},e)},A=()=>{let e=(0,v.useContext)(I);if(!e)throw Error("useChaptersContext must be used within a ChaptersContextProvider");return e};var w=a(74583),D=a(67121),F=a(77848),x=a.n(F),P=a(69573),O=a(42089),R=a(62989),U=a(74598),V=a(81923),L=a(2191),W=a(54545),M=a(14728),$=a(31298),G=a(58461),z=a(5862),q=a(30016);let H="Remove chapters",j=e=>{let{id:t,shouldHighlight:a,textRef:n,onCancel:i,onSave:r,onClear:s,hasError:o,...l}=e,d={...l},u={...l},c="small"===l.size,m=x()(l.className,{"autoresize-chapter-textarea_sizeSmall_2lX":c,"autoresize-chapter-textarea_sizeMedium_eNc":!c,"autoresize-chapter-textarea_empty_2_H":!a,"autoresize-chapter-textarea_hasError_3gy":o});return d.className=x()("autoresize-chapter-textarea_textArea_2jE",m),u.className=x()("autoresize-chapter-textarea_textAreaAutoChapters_duK",m),v.createElement("div",{className:d.className},v.createElement(M.ggW,{alignItems:"start",gap:"xsmall",columns:["11fr","1fr"]},v.createElement(z.a,{id:t,textRef:n,...u}),v.createElement("div",{className:"autoresize-chapter-textarea_showDeleteChapters_2UP"},v.createElement(M.ua7,{tabIndex:-1,content:H},v.createElement(M.hU,{"data-testid":"remove-chapters",altText:H,icon:v.createElement(q.z,null),isDisabled:0===e.value.length,onClick:s})))),v.createElement(M.ggW,{gap:"small",justifyContent:"end"},v.createElement(M.Avr,{onClick:i,"data-testid":"cancel-chapters"},"Cancel"),v.createElement(M.zxk,{onClick:r,variant:"primary","data-testid":"save-chapters"},"Save")))};var B=a(31332),Q=a(61824),K=a(14374),Y=a(47827),X=a(2075),Z=a(67184),J=a(1489),ee=a(80557);let et=(e,t,a,n,i)=>{if(0===e.length)return null;let s=e.split(`
`),o=[];for(let[e,l]of s.entries()){let s=(0,u.GV)(l,t);if(!s||"number"!=typeof t){let t=(0,ee.H3)(l,e,"pre",!0);o.push(t);continue}let d=()=>{_.track(r.p8K,{video_id:a,chapter_timestamp:s.timestamp,chapter_title:s.chapter})},c=(0,ee.Ld)(s.timestamp,s.chapter,t,d,n,i);o.push(c)}return o};var ea={whiteSpaceBreak:"linked-chapters_whiteSpaceBreak_bUT",show:"linked-chapters_show_1K7",chaptersHover:"linked-chapters_chaptersHover_M6d",textCursor:"linked-chapters_textCursor_1MM",matchPlaceholderColor:"linked-chapters_matchPlaceholderColor_YJL",showErrorOutline:"linked-chapters_showErrorOutline_YTO",showEditChapters:"linked-chapters_showEditChapters_14t"};let en="Edit chapters",ei=({chapters:e,onClick:t,canEdit:a,hasError:n=!1})=>{let r=(0,f.I0)(),s=i(e),[o,l]=(0,Q.XI)(),{setVideo:c,video:{complete:m=!1,currentUserCanEdit:p,id:h,videoProperties:{playableDuration:g}}}=(0,d.dPl)(),_=(0,d.nn3)(h),[E,S]=(0,v.useState)(e),[T,{data:y}]=(0,Y.y0)({onError:e=>{e&&K.error(e,{message:"Error fetching video"},{feature:G.L0.VideoPreload})},onCompleted:()=>{let e=y?.getVideo,t=(0,B.TW)(e);c(t),r((0,k.jE)(e)),r((0,Z.OK)())}}),{data:b,error:C}=(0,J.G)({variables:{videoId:h},skip:m||!h,onData:()=>{I&&T()}}),I=b?.recordingCompleted||C?.message==="Video already completed";if((0,v.useEffect)(()=>{let t=e;p||t.split(" ").length>100&&(t=function(e){let t=e.split(`
`),a="",n=0;for(let[e,i]of t.entries()){e>0&&(a+=`
`);let t=(0,u.GV)(i),r=(t?.chapter??i).split(" ");if((n+=r.length)>=100){let e=n-100;r.splice(r.length-e,e);let i=t?t.timestamp+" ":"";a+=`${i}${r.join(" ").trim()}\u2026`;break}a+=i}return a}(t)),S(t)},[S,e,p]),s)return v.createElement(v.Fragment,null);let N=x()(ea.whiteSpaceBreak,ea.show,{[ea.chaptersHover]:a,[ea.textCursor]:a,[ea.hintPadding]:a,[ea.matchPlaceholderColor]:s&&a,[ea.showErrorOutline]:n}),A=et(E,g,h,e=>{_&&(_.currentTime=e)},()=>{_?.play()});return A?(E!==e&&function(e,t){let a=e.pop(),n=v.createElement(M.Avr,{onClick:t,size:"small"},"See more");Array.isArray(a)?e.push([a[0],v.createElement(v.Fragment,null,a[1],n)]):e.push(v.createElement(v.Fragment,null,a,n))}(A,t=>{t.stopPropagation(),S(e)}),v.createElement("div",{className:x()(N),...l},v.createElement(M.ggW,{alignItems:"start",gap:"xsmall",columns:["11fr","1fr"]},v.createElement(M.ggW,{alignItems:"start",gap:"xsmall",columns:["max-content","1fr"]},A.map((e,t)=>{let a=Array.isArray(e)?e:["",e];return[v.createElement(M.xvT,{"data-testid":`chapter-timestamp-${t}`,key:`time_${t}`,size:"body-md",style:{textAlign:"right"}},a[0]),v.createElement(M.xvT,{"data-testid":`chapter-title-${t}`,key:`title_${t}`,size:"body-md"},a[1])]})),a&&o?v.createElement("div",{className:ea.showEditChapters},v.createElement(M.ua7,{tabIndex:-1,content:en},v.createElement(M.hU,{"data-testid":"edit-chapters",altText:en,icon:v.createElement(X.b,null),onClick:t}))):null))):v.createElement(v.Fragment,null)};var er={autoHeight:"chapters_autoHeight_2qq",chaptersInput:"chapters_chaptersInput_19Y",hasError:"chapters_hasError_2bz",inputContainer:"chapters_inputContainer_2E5",addChaptersText:"chapters_addChaptersText_BtO"};let es=D.Z.div`
  padding: var(--lns-space-medium);
  background: var(--lns-color-background);
  border-radius: var(--lns-radius-large);
  border: 1px solid var(--lns-color-border);
  box-shadow: var(--lns-shadow-small);
  width: 360px;
`,eo=()=>v.createElement(es,null,v.createElement(M.ggW,{gap:"xsmall",autoFlow:"row"},v.createElement(M.xvT,{color:"bodyDimmed"},"You can add chapters to any Loom by adding a list of ascending timestamps and chapter titles."),v.createElement(M.xvT,{color:"bodyDimmed"},"Chapters must start at 00:00 and be at least 5 seconds long."),v.createElement(M.rUS,{href:"https://support.loom.com/hc/en-us/articles/360018208478-How-to-add-a-summary-and-chapters-to-your-video"},"\uD83D\uDD17 More on creating chapters for your Loom"))),el=`0:00 Chapter 1
0:20 Chapter 2
0:30 Chapter 3`,ed=()=>{let[e,t]=(0,v.useState)(!1),{featureLoadedRef:a}=(0,L.kX)(),{video:i}=(0,d.dPl)(),s=i.currentUserCanEdit??!1,o=(0,P.K)(),l=(0,m.v)({videoId:i.id}),{canEditChapters:u,userEdited:c,errorMsg:p,chapters:h,fetchingChapters:f,setChapters:g,editChapters:k,saveChapters:_,cancelEditChapters:E,clearChapters:S,chaptersAvailable:T,waitingForAI:y,showInput:b,chaptersInputWrapperRef:C,isAutoChaptersExpected:I}=A();if(!s&&!h||o)return null;let N=null!==p&&s,D=null;return u&&y?D=function(){return v.createElement(v.Fragment,null,v.createElement(M.ggW,{alignItems:"start",gap:"xsmall",columns:["80px","11fr"]},v.createElement("div",null,v.createElement(M.N2B,{lines:1}),v.createElement(M.N2B,{lines:1}),v.createElement(M.N2B,{lines:1})),v.createElement("div",null,v.createElement(M.N2B,{lines:3}))),v.createElement(W.BO,{name:R.Mi.AutoChaptersLoading}))}:b&&u?D=function(){return v.createElement("div",{className:er.inputContainer},v.createElement(j,{id:n,textRef:C,placeholder:el,className:x()(er.autoHeight,er.chaptersInput,{[er.hasError]:N}),value:h||"",onChange:e=>g(e.target.value),shouldHighlight:!0,onSave:_,onCancel:E,onClear:S,hasError:N}),N?v.createElement(M.W20,null,v.createElement(M.xvT,{color:"danger"},p),v.createElement(M.LZC,null),v.createElement(M.xvT,{color:"danger",fontWeight:"bold"},"Example:"),v.createElement(M.LZC,null),v.createElement(M.xvT,{size:"body-sm",color:"danger"},"0:00 Introduction",v.createElement("br",null),"0:45 Proposed solution",v.createElement("br",null),"2:17 Action items")):null)}:T?D=function(){let e=N&&c;return v.createElement(v.Fragment,null,!c&&v.createElement(O.O,null),v.createElement("div",{"data-testid":"formatted-chapters"},v.createElement("div",{onClick:()=>k({analyticsEventName:r.wg8})},v.createElement(ei,{canEdit:u,onClick:()=>k({analyticsEventName:r.wg8}),chapters:h,hasError:e}),e?v.createElement(M.xvT,{color:"danger"},p):null)),l&&I&&v.createElement(W.BO,{name:R.Mi.AutoChapters}))}:u&&!f&&(D=function(){return v.createElement(M.W20,{paddingY:"small"},v.createElement(M.ggW,{gap:"xsmall"},v.createElement(M.xvT,{"data-testid":"add-chapters-text",size:"body-md",color:"bodyDimmed",onClick:()=>k({analyticsEventName:r.afv}),className:er.addChaptersText},"+ Add chapters")))}),v.createElement("div",{ref:a},null!==D&&v.createElement(M.ggW,{gap:"small"},v.createElement(M.xvT,{fontWeight:"bold",size:"body-lg"},w.Lg),u?v.createElement("div",{onMouseEnter:()=>t(!0),onMouseLeave:()=>t(!1),style:{zIndex:e?3:0}},v.createElement(M.J2e,{isOpen:e,placement:"rightCenter",content:v.createElement(eo,null)},v.createElement(M.JO$,{icon:v.createElement($.M,null),altText:"Info",size:2,color:"bodyDimmed"}))):null),D?.())},eu=()=>v.createElement(U.$,{feature:G.L0.VideoPackaging,errorType:V.s.DEFAULT,additionalLoggingValues:{version:"chapters"}},v.createElement(ed,null))},1489:function(e,t,a){"use strict";a.d(t,{G:function(){return o}});var n=a(28668),i=a(54670);let r={},s=(0,n.Ps)`
    subscription OnRecordingCompleted($videoId: ID!) {
  recordingCompleted(id: $videoId)
}
    `;function o(e){let t={...r,...e};return i.m(s,t)}},30328:function(e,t,a){"use strict";a.d(t,{x7:function(){return l},m$:function(){return i},Gq:function(){return d}});var n=a(66420);let i=n.createContext(null);i.displayName="HighlightReplyContext";var r=a(72931),s=a(2677);let o=(0,n.createContext)(null),l=({children:e})=>{let[t,a]=(0,n.useState)(!1),i=(0,n.useCallback)((e,t)=>{a(!0),s.track(r.Uu,{video_id:e,source:t})},[]),l=(0,n.useMemo)(()=>({isDescriptionInputVisible:t,setIsDescriptionInputVisible:a,focusDescriptionInput:i}),[i,t]);return n.createElement(o.Provider,{value:l},e)},d=function(){let e=(0,n.useContext)(o);if(!e)throw Error("useDescriptionContext must be used within a DescriptionContextProvider");return e}},42089:function(e,t,a){"use strict";a.d(t,{O:function(){return r}});var n=a(66420),i=a(14728);let r=()=>n.createElement(i.xvT,{size:"body-sm",color:"bodyDimmed"},"Generated by Loom AI")},94238:function(e,t,a){"use strict";a.d(t,{V:function(){return l},Q:function(){return o}});var n=a(23995),i=a(14374),r=a(58893),s=a(94713);let o=e=>{try{let t=(0,n.Z)(e,{stripWWW:!0}),a=new URL(t).hostname.split(".");return a.length>1?a.slice(-2)[0]:a[0]}catch{return}},l=e=>{if(e){if(!(0,r.isValidCtaUrl)(e)){i.warning("Error getting CTA text",{err:"Url contains undesired scheme"});return}try{let t=(0,n.Z)(e,{stripWWW:!0});if(s.wG.test(t))return"Book a meeting!";let a=o(e);return a?a.charAt(0).toUpperCase()+a.slice(1):void 0}catch(e){i.warning("Error getting CTA text",{err:e});return}}}},72251:function(e,t,a){"use strict";a.d(t,{e:function(){return i},s:function(){return r}});var n=a(29256);function i(e){return!!e&&e.startsWith("variant")}function r(e){switch(e?.metadata?.third_tier_assignment){case n.Yr.PhaseTwoAggressive:case n.Yr.PhaseTwoConservative:case n.Yr.Dec_2022PricingPackage:case n.Yr.Nov_2023PricingPackage:return!0;default:return!1}}},80557:function(e,t,a){"use strict";a.d(t,{TT:function(){return f},Ld:function(){return E},Xu:function(){return _},H3:function(){return g}});var n=a(55117),i=a(72931),r=a(77848),s=a.n(r),o=a(66420),l=a(76724),d=a.n(l),u=a(7910),c=a(14728),m=a(96480),p=a(2677),h=a(54533),v={contents:"timestamps_contents_2xW",tabular:"timestamps_tabular_kaX"};let f=(e,t)=>{let a;let n=/\d{0,2}:\d{1,2}:\d{2}|\d{1,2}:\d{2}/g,i=[];for(;null!==(a=n.exec(e));){let e=(0,m.Vy)(a[0]);null!=e&&e<=t&&i.push({time:e,endIndex:n.lastIndex,literal:a[0]})}return i},g=(e,t,a,n=!1)=>{let i=d()({apostrophes:!0,strict:!0,re2:!1}).exec(e);if(null==i)return o.createElement("span",{key:`${t}-${a}`},n?e.trimStart():e);let r=i[0];return o.createElement("div",{"data-testid":"replace-url-wrapper",className:v.contents,key:`link-${t}`},o.createElement("span",null,e.substring(0,i.index)),k(r),g(e.substring(i.index+r.length),t+i.index,a))},k=e=>{let[t,a]=(0,u.QQ)(e),n=/^www/.test(t)?`//${t}`:t;return o.createElement(o.Fragment,null,o.createElement(c.rUS,{target:"_blank",onClick:e=>e.stopPropagation(),variant:"neutral",href:n},t),a)},_=(e,t,a)=>{let r=[],l=0;e.forEach(e=>{let d=g(t.substring(l,e.endIndex-e.literal.length),l,"pre"),u=o.createElement(c.rUS,{key:l,variant:"neutral",className:s()(n.j4,v.tabular),onClick:t=>{p.track(i.nmk),h.j.call(t.target,t),a(e.time),window.scroll(0,0)},"data-seconds":e.time},e.literal);r.push(d),r.push(u),l=e.endIndex});let d=g(t.substring(l),l,"post");return r.push(d),r},E=(e,t,a,i,r,l)=>{let d=(0,m.Vy)(e);if(null===d)return[o.createElement(o.Fragment,null),o.createElement(o.Fragment,null)];let u=e=>{h.j.call(e.target,e),r(d),l(),window.scroll(0,0),i&&i()},p=d<=a,f=o.createElement(c.rUS,{style:{textDecoration:"none"},key:e,variant:p?"primary":"neutral",className:s()(n.j4,v.tabular),onClick:e=>{p&&u(e)},"data-seconds":d,href:`?t=${d}`},e),k=g(t,0,"pre",!0);return[f,k]}},40458:function(e){var t={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"EmitDatadogEvents"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"increment"}},type:{kind:"NonNullType",type:{kind:"ListType",type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"DatadogIncrementInput"}}}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"gauge"}},type:{kind:"NonNullType",type:{kind:"ListType",type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"DatadogGuageInput"}}}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"distribution"}},type:{kind:"NonNullType",type:{kind:"ListType",type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"DatadogDistributionInput"}}}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"histogram"}},type:{kind:"NonNullType",type:{kind:"ListType",type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"DatadogHistogramInput"}}}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"emitDatadogEvents"},arguments:[{kind:"Argument",name:{kind:"Name",value:"increment"},value:{kind:"Variable",name:{kind:"Name",value:"increment"}}},{kind:"Argument",name:{kind:"Name",value:"gauge"},value:{kind:"Variable",name:{kind:"Name",value:"gauge"}}},{kind:"Argument",name:{kind:"Name",value:"distribution"},value:{kind:"Variable",name:{kind:"Name",value:"distribution"}}},{kind:"Argument",name:{kind:"Name",value:"histogram"},value:{kind:"Variable",name:{kind:"Name",value:"histogram"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"EmitDatadogEventsPayload"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"success"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"message"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"__typename"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"__typename"},arguments:[],directives:[]}]}}]}}],loc:{start:0,end:429}};t.loc.source={body:"mutation EmitDatadogEvents(\n  $increment: [DatadogIncrementInput!]!\n  $gauge: [DatadogGuageInput!]!\n  $distribution: [DatadogDistributionInput!]!\n  $histogram: [DatadogHistogramInput!]!\n) {\n  emitDatadogEvents(\n    increment: $increment\n    gauge: $gauge\n    distribution: $distribution\n    histogram: $histogram\n  ) {\n    ... on EmitDatadogEventsPayload {\n      success\n      message\n      __typename\n    }\n    __typename\n  }\n}\n",name:"GraphQL request",locationOffset:{line:1,column:1}};var a={};function n(e,t){for(var a=0;a<e.definitions.length;a++){var n=e.definitions[a];if(n.name&&n.name.value==t)return n}}t.definitions.forEach(function(e){if(e.name){var t=new Set;(function e(t,a){if("FragmentSpread"===t.kind)a.add(t.name.value);else if("VariableDefinition"===t.kind){var n=t.type;"NamedType"===n.kind&&a.add(n.name.value)}t.selectionSet&&t.selectionSet.selections.forEach(function(t){e(t,a)}),t.variableDefinitions&&t.variableDefinitions.forEach(function(t){e(t,a)}),t.definitions&&t.definitions.forEach(function(t){e(t,a)})})(e,t),a[e.name.value]=t}}),e.exports=t,e.exports.EmitDatadogEvents=function(e,t){var i={kind:e.kind,definitions:[n(e,t)]};e.hasOwnProperty("loc")&&(i.loc=e.loc);var r=a[t]||new Set,s=new Set,o=new Set;for(r.forEach(function(e){o.add(e)});o.size>0;){var l=o;o=new Set,l.forEach(function(e){s.has(e)||(s.add(e),(a[e]||new Set).forEach(function(e){o.add(e)}))})}return s.forEach(function(t){var a=n(e,t);a&&i.definitions.push(a)}),i}(t,"EmitDatadogEvents")},68958:function(e){var t={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"FetchChapters"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"videoId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"password"}},type:{kind:"NamedType",name:{kind:"Name",value:"String"}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"fetchVideoChapters"},arguments:[{kind:"Argument",name:{kind:"Name",value:"videoId"},value:{kind:"Variable",name:{kind:"Name",value:"videoId"}}},{kind:"Argument",name:{kind:"Name",value:"password"},value:{kind:"Variable",name:{kind:"Name",value:"password"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"VideoChapters"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"video_id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"content"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"schema_version"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"updatedAt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"edited_at"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"auto_chapter_status"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"EmptyChaptersPayload"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"content"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"InvalidRequestWarning"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"message"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Error"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"message"},arguments:[],directives:[]}]}}]}}]}}],loc:{start:0,end:423}};t.loc.source={body:"query FetchChapters($videoId: ID!, $password: String) {\n  fetchVideoChapters(videoId: $videoId, password: $password) {\n    ... on VideoChapters {\n      id\n      video_id\n      content\n      schema_version\n      updatedAt\n      edited_at\n      auto_chapter_status\n    }\n    ... on EmptyChaptersPayload {\n      content\n    }\n    ... on InvalidRequestWarning {\n      message\n    }\n    ... on Error {\n      message\n    }\n  }\n}\n",name:"GraphQL request",locationOffset:{line:1,column:1}};var a={};function n(e,t){for(var a=0;a<e.definitions.length;a++){var n=e.definitions[a];if(n.name&&n.name.value==t)return n}}t.definitions.forEach(function(e){if(e.name){var t=new Set;(function e(t,a){if("FragmentSpread"===t.kind)a.add(t.name.value);else if("VariableDefinition"===t.kind){var n=t.type;"NamedType"===n.kind&&a.add(n.name.value)}t.selectionSet&&t.selectionSet.selections.forEach(function(t){e(t,a)}),t.variableDefinitions&&t.variableDefinitions.forEach(function(t){e(t,a)}),t.definitions&&t.definitions.forEach(function(t){e(t,a)})})(e,t),a[e.name.value]=t}}),e.exports=t,e.exports.FetchChapters=function(e,t){var i={kind:e.kind,definitions:[n(e,t)]};e.hasOwnProperty("loc")&&(i.loc=e.loc);var r=a[t]||new Set,s=new Set,o=new Set;for(r.forEach(function(e){o.add(e)});o.size>0;){var l=o;o=new Set,l.forEach(function(e){s.has(e)||(s.add(e),(a[e]||new Set).forEach(function(e){o.add(e)}))})}return s.forEach(function(t){var a=n(e,t);a&&i.definitions.push(a)}),i}(t,"FetchChapters")},64219:function(e){var t={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"UtilityMemberTypeaheadQuery"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"workspaceId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"query"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"limit"}},type:{kind:"NamedType",name:{kind:"Name",value:"Int"}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"includeContacts"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Boolean"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"searchWorkspaceMembers"},arguments:[{kind:"Argument",name:{kind:"Name",value:"workspaceId"},value:{kind:"Variable",name:{kind:"Name",value:"workspaceId"}}},{kind:"Argument",name:{kind:"Name",value:"query"},value:{kind:"Variable",name:{kind:"Name",value:"query"}}},{kind:"Argument",name:{kind:"Name",value:"limit"},value:{kind:"Variable",name:{kind:"Name",value:"limit"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"SearchWorkspaceMembersResult"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"users"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"display_name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"email"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"avatars"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"thumb"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"isAtlassianMastered"},arguments:[],directives:[]}]}}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"searchWorkspaceContacts"},arguments:[{kind:"Argument",name:{kind:"Name",value:"query"},value:{kind:"Variable",name:{kind:"Name",value:"query"}}},{kind:"Argument",name:{kind:"Name",value:"limit"},value:{kind:"Variable",name:{kind:"Name",value:"limit"}}}],directives:[{kind:"Directive",name:{kind:"Name",value:"include"},arguments:[{kind:"Argument",name:{kind:"Name",value:"if"},value:{kind:"Variable",name:{kind:"Name",value:"includeContacts"}}}]}],selectionSet:{kind:"SelectionSet",selections:[{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"SearchWorkspaceContactsPayload"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"results"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"avatarUrl"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"displayName"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"value"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"source"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"type"},arguments:[],directives:[]}]}}]}}]}}]}}],loc:{start:0,end:677}};t.loc.source={body:"query UtilityMemberTypeaheadQuery(\n  $workspaceId: ID!\n  $query: String!\n  $limit: Int\n  $includeContacts: Boolean!\n) {\n  searchWorkspaceMembers(\n    workspaceId: $workspaceId\n    query: $query\n    limit: $limit\n  ) {\n    ... on SearchWorkspaceMembersResult {\n      users {\n        id\n        display_name\n        email\n        avatars {\n          thumb\n          isAtlassianMastered\n        }\n      }\n    }\n  }\n\n  searchWorkspaceContacts(query: $query, limit: $limit)\n    @include(if: $includeContacts) {\n    ... on SearchWorkspaceContactsPayload {\n      results {\n        id\n        avatarUrl\n        displayName\n        value\n        source\n        type\n      }\n    }\n  }\n}\n",name:"GraphQL request",locationOffset:{line:1,column:1}};var a={};function n(e,t){for(var a=0;a<e.definitions.length;a++){var n=e.definitions[a];if(n.name&&n.name.value==t)return n}}t.definitions.forEach(function(e){if(e.name){var t=new Set;(function e(t,a){if("FragmentSpread"===t.kind)a.add(t.name.value);else if("VariableDefinition"===t.kind){var n=t.type;"NamedType"===n.kind&&a.add(n.name.value)}t.selectionSet&&t.selectionSet.selections.forEach(function(t){e(t,a)}),t.variableDefinitions&&t.variableDefinitions.forEach(function(t){e(t,a)}),t.definitions&&t.definitions.forEach(function(t){e(t,a)})})(e,t),a[e.name.value]=t}}),e.exports=t,e.exports.UtilityMemberTypeaheadQuery=function(e,t){var i={kind:e.kind,definitions:[n(e,t)]};e.hasOwnProperty("loc")&&(i.loc=e.loc);var r=a[t]||new Set,s=new Set,o=new Set;for(r.forEach(function(e){o.add(e)});o.size>0;){var l=o;o=new Set,l.forEach(function(e){s.has(e)||(s.add(e),(a[e]||new Set).forEach(function(e){o.add(e)}))})}return s.forEach(function(t){var a=n(e,t);a&&i.definitions.push(a)}),i}(t,"UtilityMemberTypeaheadQuery")}}]);
//# sourceMappingURL=https://www.loom.com/admin/sourcemaps/js/7789-6e0492547770e23d9dd7.js.map