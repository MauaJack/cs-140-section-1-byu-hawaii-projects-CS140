"use strict";(self.webpackChunk_loomhq_web_client=self.webpackChunk_loomhq_web_client||[]).push([[4896],{96168:function(e,t,a){a.d(t,{Z:function(){return n},x:function(){return r}});let r={googleChat:"googleChat",smartChip:"smartChip"},n={[r.googleChat]:["https://chat.google.com/"],[r.smartChip]:["https://addons.gsuite.google.com/"]}},68034:function(e,t,a){a.d(t,{FX:function(){return d},IX:function(){return p},OI:function(){return g},fz:function(){return m},gC:function(){return h},w9:function(){return c}});var r=a(49003),n=a(17563),o=a(6180),l=a(44314),i=a(11893),s=a(2677);let c=async()=>o.u?(await navigator.serviceWorker.register("/sw.js",{scope:"/"}),Promise.resolve(!0)):Promise.resolve(!1),d=async()=>{let e=await navigator.serviceWorker.ready,t={userVisibleOnly:!0,applicationServerKey:u(n.EZ)},a=null;try{a=await e.pushManager.subscribe(t)}catch(r){if(r.name===i.CN)await (await e.pushManager.getSubscription()).unsubscribe(),a=await e.pushManager.subscribe(t);else throw r}return a},u=e=>{let t="=".repeat((4-e.length%4)%4),a=(e+t).replace(/\-/g,"+").replace(/_/g,"/"),r=window.atob(a),n=new Uint8Array(r.length);for(let e=0;e<r.length;++e)n[e]=r.charCodeAt(e);return n},m=()=>new Promise((e,t)=>{let a=Notification.requestPermission(t=>{e(t)});a&&a.then&&a.then(e).catch(t)}).then(e=>e),p=()=>window.Notification?navigator.permissions?navigator.permissions.query({name:"notifications"}).then(e=>e.state):new Promise(e=>{e(Notification.permission)}):Promise.resolve(i.YU),g=async()=>{o.u&&(await navigator.serviceWorker.getRegistrations()).forEach(e=>{e.scope!==`${r.OA}/`&&e.unregister()})},h=e=>{s.track(e.event,e),e.notif_id&&(0,l.Z)(`/v1/notifications/${e.notif_id}`,{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify({status:i._x})})}},62238:function(e,t,a){let r;a.d(t,{k:function(){return s}});var n=a(72931),o=a(2677),l=a(68213);let i=()=>{if(r)return;r=Object.fromEntries(new URLSearchParams(location.search));let e=r?.data,t=e?(0,l.FL)(atob(e),{}):{};e&&o.track(n.s0d,{notificationType:t?.event,url:t.url}),r={...r,...t}},s=e=>{r||i();let t=r[e];return t?String(t):""};i()},91803:function(e,t,a){a.d(t,{JG:function(){return n},g9:function(){return l},zp:function(){return o}});let r=e=>{if(e.select)e.select();else if(document.body.createTextRange){let t=document.body.createTextRange();t.moveToElementText(e),t.select()}else if(window.getSelection){let t=document.createRange();t.selectNodeContents(e);let a=window.getSelection();a&&(a.removeAllRanges(),a.addRange(t))}},n=e=>{try{let t;return r(e),window.document.execCommand("copy"),(t="string"==typeof e?e:e.textContent?e.textContent:e.value)&&navigator?.clipboard?.writeText(t),!0}catch{return!1}},o=e=>{try{let t=window.document.activeElement,a=window.document.createElement("textarea");return a.value=e,a.style.position="absolute",a.style.left="-9999px",window.document.body.appendChild(a),a.select(),window.document.execCommand("copy"),window.document.body.removeChild(a),navigator?.clipboard?.writeText(e),t&&t.focus(),!0}catch{return!1}};function l(e){let t=!0,a=function(e){let t=document.createElement("div");return t.innerHTML=e,t}(e.innerHTML);try{let e=document.createRange(),t=document.getSelection();document.body.appendChild(a),e.selectNode(a),t&&(t.removeAllRanges(),t.addRange(e)),document.execCommand("copy")}catch{t=!1}return a&&document.body.removeChild(a),t}},44249:function(e,t,a){a.d(t,{F:function(){return c}});var r=a(42145),n=a(84888),o=a(66420),l=a(60398),i=a(14728),s=a(68934);let c=e=>{let t=(0,n.hP)(),{data:a,loading:c}=(0,r.rj)({variables:{workspaceId:t?.id},skip:!t}),d=a?.billing?.billing_details,u=!!d?.paused,m=!!d&&(0,l.V9)(d),{onClick:p}=(0,s.L)({...e,paused:u,pureTrial:m});if(c)return null;switch(e.purchaseType){case"request-ai":return o.createElement(i.zxk,{variant:e.buttonVariant,type:"button",onClick:p},e.cta||"Upgrade");case"sales-led":return o.createElement(i.zxk,{type:"button",variant:e.buttonVariant,htmlTag:"a",onClick:p},e.cta||"Contact Sales");case"add-on-only":return o.createElement(i.zxk,{type:"button",onClick:p,variant:e.showAiPanelWithWorkflows?"neutral":e.buttonVariant,style:{width:"fit-content"}},e.cta?e.cta:e.showAiPanelWithWorkflows?"Upgrade to Loom AI":"Buy Now");case"has-ai-addon":return o.createElement(i.zxk,{variant:e.buttonVariant,type:"button",onClick:p},e.cta||"Get Started");default:return o.createElement(i.zxk,{variant:e.buttonVariant,htmlTag:"a",onClick:p},e.cta||"Upgrade")}}},17838:function(e,t,a){a.d(t,{R:function(){return n}});var r=a(66420);let n=({size:e,blur:t,position:a,parallax:n,mousePosition:o})=>r.createElement("div",{className:"loom-ai-bubble_bubble_1gk",style:{filter:t?`blur(${t}px)`:"none",height:`${e}rem`,width:`${e}rem`,left:`calc(50% - ${e/2}rem + ${a[0]/2}%)`,top:`calc(50% - ${e/2}rem + ${a[1]/2}%)`,transform:n&&o?`translate(${o.x*n/100}px, ${o.y*n/100}px)`:"none"}})},33439:function(e,t,a){a.d(t,{H:function(){return s},p:function(){return i}});var r=a(66420),n=a(14728),o={loomBadgeWrapper:"loom-badge_loomBadgeWrapper_1jt",loomBadgeText:"loom-badge_loomBadgeText_xQD",loomBadgeLogo:"loom-badge_loomBadgeLogo_1TR"};let l=()=>r.createElement(r.Fragment,null,r.createElement("span",{className:o.loomBadgeText},"Made with"),r.createElement(n.TRl,{className:o.loomBadgeLogo,maxWidth:"4.25em",symbolColor:"primary",wordmarkColor:"body"})),i=()=>r.createElement("div",{className:o.loomBadgeWrapper},r.createElement(l,null)),s=({href:e,title:t})=>r.createElement("a",{className:o.loomBadgeWrapper,href:e,"aria-label":`Go to ${t}`},r.createElement(l,null))},43119:function(e,t,a){a.d(t,{p:function(){return l}});var r=a(66420),n=a(20076);let o=(0,n.r)(()=>a.e(4062).then(a.bind(a,54062)).then(e=>({default:e.MobileDownloadBanner}))),l=e=>r.createElement(r.Suspense,{fallback:null},r.createElement(o,{...e}))},62661:function(e,t,a){a.d(t,{c:function(){return n}});var r=a(64018);let n=(0,r.Z)(e=>({roleMandatoryModalHasBeenClosed:!1,setRoleMandatoryModalHasBeenClosed:t=>e({roleMandatoryModalHasBeenClosed:t})}))},96577:function(e,t,a){a.d(t,{O:function(){return H},X:function(){return z}});var r=a(72931),n=a(77848),o=a.n(n),l=a(26998),i=a(23555),s=a(89536),c=a(21844),d=a(2965),u=a(66420),m=a(59182),p=a(15596),g=a(74598),h=a(81923),v=a(14728),E=a(6621),f=a(58461),w=a(45218),b=a(85578),y=a(20537),_=a(2677);let C="400px",S="https://cdn.loom.com/assets/img/seasonal-launch";var k=a(74137),I=a(69815),T={modal:"seasonal-launch-modal_modal_3o9",featureContainer:"seasonal-launch-modal_featureContainer_2cZ",border:"seasonal-launch-modal_border_Tr4",activeBorder:"seasonal-launch-modal_activeBorder_2Hy",inactiveBorder:"seasonal-launch-modal_inactiveBorder_sSP",featureContent:"seasonal-launch-modal_featureContent_tCJ",animateHeight:"seasonal-launch-modal_animateHeight_1TH",expandedContent:"seasonal-launch-modal_expandedContent_2Am",collapsedContent:"seasonal-launch-modal_collapsedContent_2UL",animateVisibility:"seasonal-launch-modal_animateVisibility_2fB",text:"seasonal-launch-modal_text_18z",isActive:"seasonal-launch-modal_isActive_1FC",visible:"seasonal-launch-modal_visible_3IO",invisible:"seasonal-launch-modal_invisible_2zF",openCloseIcon:"seasonal-launch-modal_openCloseIcon_3CY",open:"seasonal-launch-modal_open_1iq",videoContainer:"seasonal-launch-modal_videoContainer_3ZK",imageContainer:"seasonal-launch-modal_imageContainer_X2W",assetContainer:"seasonal-launch-modal_assetContainer_3IN",footer:"seasonal-launch-modal_footer_2dk"};let A=(e,t)=>{let a=document.getElementById("seasonal-launch-modal-footer")?.getBoundingClientRect().top;(0,u.useEffect)(()=>{let{bottom:r}=e.current?.getBoundingClientRect()||{};t&&r&&a&&r>a&&e.current?.scrollIntoView({behavior:"smooth",block:"center"})},[t])},P=e=>{let{description:t,featureId:a,hasAiAddOn:n,hasChangedSteps:l,icon:i,index:c,isActive:d,collapsible:m=!0,memberRole:g,personaRole:h,showFeature:f,title:w,tourIsEnabled:b,workspaceType:y,isBeta:C}=e,S=(0,s.W9)(E.EjA);(0,u.useEffect)(()=>{d&&(_.track(r.bco,{ai_addOn:n,role:g,persona:h,workspace_type:y,tour_is_enabled:b,variant:S,feature:a}),(0,p.v3)("seasonal.launch.ftux.feature.shown",{feature:a}))},[d,a,g,h,y,b,n,S]);let k=(0,u.useRef)(null);A(k,d);let P=m?o()("text:left",l&&T.animateVisibility,T.text,d&&T.isActive,d?T.visible:T.invisible):"text:left";return u.createElement("div",{ref:k},u.createElement(v.W20,{as:"button",onClick:()=>f(c),className:o()(T.featureContainer)},u.createElement("div",{className:o()(T.border,T.activeBorder,d&&T.visible)}),u.createElement("div",{className:o()(T.border,T.inactiveBorder,!d&&T.visible)}),u.createElement("div",{className:o()(T.featureContent,m&&d&&T.expandedContent,m&&!d&&T.collapsedContent,l&&T.animateHeight)},u.createElement(v.ggW,{gap:1,alignItems:"start"},u.createElement(v.JO$,{icon:i,color:"body"}),u.createElement("div",null,u.createElement(v.ggW,{justifyContent:"space-between"},u.createElement(v.ggW,{gap:1,alignItems:"start"},u.createElement(v.xvT,{size:"body-md",fontWeight:"bold",alignment:"left"},w),C&&u.createElement(v.DRh,{color:"blurple",backgroundColor:"blurpleLight"},"Beta")),m&&u.createElement(v.JO$,{icon:u.createElement(I.I,null),color:"bodyDimmed",className:o()(T.openCloseIcon,d&&T.open)})),u.createElement("div",{className:P},u.createElement(v.LZC,{top:1,bottom:0},u.createElement(v.xvT,{size:"body-md",fontWeight:"book"},t))))))))};var x=a(91564);a(49003);var L=a(70243);a(79839);var N=a(89895);a(80512),a(61791);let R=({dismissModal:e,eventProps:t})=>{let a=(0,N.I0)();return u.createElement(v.zxk,{variant:"primary",size:"large",onClick:()=>{(0,p.v3)("seasonal.launch.ftux.cta.clicked",{cta:"plan-upgrade-fall-24-launch",upgrade_type:"plan-fall-24-launch"}),_.track(r.Sv6,{...t,cta:"plan-upgrade-fall-24-launch",upgrade_type:"plan-fall-24-launch"},async()=>{await e("plan-upgrade-fall-24-launch"),a((0,L.O)("loom-ai",{analyticEvent:"fall-launch-24-upgrade-button",source:x.y.SEASONAL_LAUNCH_MODAL}))})}},"Upgrade now")},O=({dismissModal:e,eventProps:t})=>u.createElement(R,{dismissModal:e,eventProps:t});var D=a(3892),M=a(44390),W=a(48554),V=a(81306);let U=({imageName:e,altText:t})=>{let a=`${S}/${e}`;return u.createElement("div",{className:T.imageContainer},u.createElement("img",{src:a,alt:t,height:C}))},$=({videoName:e})=>{let t=`${S}/${e}`;return u.createElement("div",{className:T.videoContainer},u.createElement("video",{src:t,loop:!0,autoPlay:!0,muted:!0,height:C}))},B=({variant:e,hasAiAddOn:t})=>e===k.$.FALL_24_New_User?{title:"14 days of better communication with AI",subtitle:"Communicate your best with videos auto-enhanced by AI and intuitive editing",features:F({hasAiAddOn:t,whatsNew:!1})}:e===k.$.FALL_24_EXISTING_WORKSPACE_AI_TRIAL?{title:"Your chance to experience the best of Loom",subtitle:"Your 14-day trial of better editing and AI starts now",features:F({hasAiAddOn:t,whatsNew:!1})}:e===k.$.FALL_24_HARD_UPSELL?{title:"Get the best of Loom with Loom AI",subtitle:"Communicate your best with videos auto-enhanced by AI and intuitive editing",features:F({hasAiAddOn:t,whatsNew:!1})}:(k.$.FALL_24_BIZ_ENT_PREV_AI,{title:"Whatâ€™s new with Loom AI",subtitle:"Say goodbye to re-recording with easy editing and customization",features:F({hasAiAddOn:t,whatsNew:!0})}),F=({hasAiAddOn:e,whatsNew:t})=>t?[{id:"fall-24-trim-transcript-editing",title:"A New Home for Trim and Transcript Editing",icon:u.createElement(W.l,null),description:"Our most intuitive, most powerful editor yet",asset:u.createElement(U,{imageName:"fall-24-trim-transcript-editing.jpg",altText:"A New Home for Trim and Transcript Editing"}),isAiFeature:!0,workspaceHasFeature:e,isBeta:!1},{id:"fall-24-workflows",title:"AI Workflows in 50+ Languages",icon:u.createElement(D.m,null),description:"Auto-draft docs or bug reports in your preferred language",asset:u.createElement(U,{imageName:"fall-24-workflows.jpg",altText:"AI Workflows in 50+ Languages"}),isAiFeature:!0,workspaceHasFeature:e,isBeta:!1},{id:"fall-24-variables",title:"Personalize with Audio Variables",icon:u.createElement(V.j,null),description:"AI-generated names in your voice, so you can personalize your video without re-recording",asset:u.createElement(U,{imageName:"fall-24-variables.jpg",altText:"Personalize with Audio Variables"}),isAiFeature:!0,workspaceHasFeature:e,isBeta:!0}]:[{id:"fall-24-auto-context",title:"Auto-Titles, Summaries, and Chapters",icon:u.createElement(M.r,null),description:"Entice your viewers to click play",asset:u.createElement($,{videoName:"fall-24-auto-context.webm"}),isAiFeature:!0,workspaceHasFeature:e,isBeta:!1},{id:"fall-24-quick-edit",title:"Easy and Intuitive Editor",icon:u.createElement(W.l,null),description:"Trim and transcript editing in one place",asset:u.createElement($,{videoName:"fall-24-quick-edit.webm"}),isAiFeature:!0,workspaceHasFeature:e,isBeta:!1},{id:"fall-24-write-doc",title:"Auto-Draft Docs, Bug Reports, and Messages",icon:u.createElement(D.m,null),description:"Turn your video into a doc to work faster",asset:u.createElement($,{videoName:"fall-24-write-doc.webm"}),isAiFeature:!0,workspaceHasFeature:e,isBeta:!1}],z=({workspace:e,skipModal:t})=>{let{startSeasonalLaunchTour:a,isActive:r,shouldShowTour:n,setShouldShowTour:o}=(0,d.V)(),{setHideBackgroundPreview:l}=(0,i.dPl)();return u.createElement(H,{setHideBackgroundPreview:l,startSeasonalLaunchTour:a,isActive:r,workspace:e,skipModal:t,shouldShowTour:n,setShouldShowTour:o})},H=({setHideBackgroundPreview:e,startSeasonalLaunchTour:t,isActive:a=!1,workspace:r,shouldShowTour:n,setShouldShowTour:o,skipModal:l=!1})=>u.createElement(g.$,{feature:f.L0.SeasonalLaunch,errorType:h.s.SILENT},u.createElement(q,{setHideBackgroundPreview:e,startSeasonalLaunchTour:t,isActive:a,workspace:r,shouldShowTour:n,setShouldShowTour:o,skipModal:l})),q=({setHideBackgroundPreview:e,startSeasonalLaunchTour:t,isActive:a,workspace:n,shouldShowTour:i,setShouldShowTour:d,skipModal:g})=>{let{value:h}=(0,y.h)(w.aM.ALLOWS_AI),f=(0,s.W9)(E.EjA),S=!![k.$.FALL_24_New_User,k.$.FALL_24_EXISTING_WORKSPACE_AI_TRIAL,k.$.FALL_24_HARD_UPSELL].includes(f),I=(0,l.useCurrentUserSelector)(e=>e.persona?.persona_v1?.role,null),[A,x]=(0,u.useState)(!a&&!g),L=(0,u.useMemo)(()=>({ai_addOn:h,role:n?.memberRole,persona:I,workspace_type:n?.type,tour_is_enabled:!1,variant:f}),[h,n?.memberRole,n?.type,I,!1,f]),{title:N,subtitle:R,features:D}=B({variant:f,hasAiAddOn:h}),M=(0,m.k6)();(0,u.useEffect)(()=>{e&&e(!0)},[e,a]);let W=(0,c.st)(),[V,U]=(0,u.useState)(0),$=V===D.length-1,[F,z]=(0,u.useState)(!1),H=e=>{z(!0),U(e),_.track(r.oSv,{...L})},q=t=>new Promise(a=>{_.track(r.HIB,{...L,source:t},async()=>{(0,p.v3)("seasonal.launch.ftux.modal.closed",{source:t}),await W(b.BR.SEASONAL_LAUNCH_MODAL_VARIANTS),e&&e(!1),x(!1),d&&d(!1),a()})}),J=async()=>{await q(),M.push("?reminderToRecord=saveMeetingTime")};return((0,u.useEffect)(()=>{},[i,e,g,t,!1]),(0,u.useEffect)(()=>{A||e&&e(!1)},[A,e]),n)?u.createElement(v.YMn,{isOpen:A},u.createElement(v.pUH,{maxWidth:110,maxHeight:"80vh",onCloseClick:()=>q("close-button"),isOpen:A,className:o()(T.modal)},u.createElement(v.ggW,{rows:["1fr","auto"]},u.createElement(v.W20,{paddingX:"xlarge",paddingTop:"xlarge",paddingBottom:"90px"},u.createElement(v.xMy,{alignment:"center"},u.createElement(v.LZC,{bottom:1},u.createElement(v.ggW,{gap:"2px"},u.createElement(v.xvT,{size:"heading-md",fontWeight:"bold"},N),u.createElement(v.W20,{marginTop:-3},u.createElement(v.TRl,{variant:"symbol",maxWidth:"20px",brand:"ai"})))),u.createElement(v.LZC,{bottom:4},u.createElement(v.xvT,{color:"bodyDimmed",size:"body-lg"},R))),u.createElement(v.ggW,{gap:5,alignItems:"start",columns:[45,"1fr"]},u.createElement(v.ggW,{gap:2,rows:"auto"},D.map((e,t)=>u.createElement("span",{key:t},u.createElement(P,{collapsible:!1,description:e.description,featureId:e.id,hasAiAddOn:h,hasChangedSteps:F,icon:e.icon,index:t,isActive:t===V,memberRole:n.memberRole,personaRole:I,showFeature:H,title:e.title,tourIsEnabled:!1,workspaceType:n.type,isBeta:e.isBeta})))),u.createElement(v.W20,{width:"400px",height:C,position:"relative"},D.map((e,t)=>{let a=t===V;return u.createElement("span",{className:o()(T.assetContainer,a?T.visible:T.invisible,F&&T.animateVisibility),key:e.id},u.createElement("div",null,e.asset))}))),u.createElement(v.LZC,{bottom:"large"})),u.createElement(v.W20,{id:"seasonal-launch-modal-footer",paddingY:"medium",paddingX:"xlarge",borderSide:"top",className:o()(T.footer)},u.createElement(v.Pag,{justifyContent:"center"},u.createElement(v.I7m,null,u.createElement(v.ggW,{gap:1},S&&u.createElement(O,{dismissModal:q,eventProps:L}),u.createElement(v.zxk,{variant:S?"neutral":"primary",size:"large",onClick:()=>$?J():H(V+1)},$?"Get started":"Next")))))))):null}},88589:function(e,t,a){a.d(t,{L:function(){return l}});var r=a(66420),n=a(20076);let o=(0,n.r)(()=>a.e(9529).then(a.bind(a,28046)).then(e=>({default:e.WebPermissionsBanner}))),l=e=>r.createElement(r.Suspense,{fallback:null},r.createElement(o,{...e}))},28159:function(e,t,a){a.d(t,{C:function(){return l}});var r=a(62661),n=a(66420),o=a(14728);let l=()=>{let{setRoleMandatoryModalHasBeenClosed:e,roleMandatoryModalHasBeenClosed:t}=(0,r.c)();return n.createElement(o.FNi,{isOpen:t,onCloseClick:()=>e(!1)},"Your role has been updated!")}},84348:function(e,t,a){a.d(t,{V:function(){return y},u:function(){return b}});var r=a(72931),n=a(22562),o=a(99046),l=a(67203),i=a(39014),s=a(66420),c=a(41233),d=a(95414),u=a(7910),m=a(14728),p=a(11552),g=a(29256),h=a(19267),v=a(2677),E=a(9905),f={animatedArrow:"copy-link-button_animatedArrow_2Rh",styledLine:"copy-link-button_styledLine_2Jc",styledArrow:"copy-link-button_styledArrow_1f-"};function w({videoId:e,videoName:t,analyticsSource:a,currentSeconds:w=0,showTutorial:b=!1,variant:y="neutral",isTextButton:_}){let C=(0,l.U)(),S=(0,h.MS)(),{completeChecklistItem:k}=(0,o.c)(g.d8.ShareVideo),I=function(e,{currentSeconds:t,nameForSlug:a}){if((0,E.no)(window.location.pathname)){let[,e]=location.pathname.match(/\/a\/([a-z0-9]{32})*/)??[];if(e)return(0,E.HA)(e,t)}return(0,E.rx)(e,{currentSeconds:t,nameForSlug:a})}(e,{currentSeconds:w,nameForSlug:C?t:null}),T=(0,s.useRef)(null),[A,P]=(0,s.useState)((0,d.R)({isCopied:!1})),[x,L]=(0,c.Z)(n.GA);function N(){let[t,n]=(0,u.t1)({videoUrl:T?.current?.value});P((0,d.R)({isCopied:!0})),setTimeout(()=>{P((0,d.R)({isCopied:!1}))},2e3),b&&L(!1),(0,v.track)(r.tRo,{video_id:e,share_id:n,source:a,seconds:w>=1?w:void 0}),k()}let R=s.createElement("input",{className:"none",ref:T,readOnly:!0,value:I});return(0,i.b)(()=>{P((0,d.R)({isCopied:!1}))}),s.createElement(s.Fragment,null,_?s.createElement(m.W20,{backgroundColor:"background",position:"relative",radius:"full",zIndex:2},R,s.createElement(m.ua7,{tabIndex:-1,content:A,placement:"bottomCenter"},s.createElement(m.hU,{altText:"Copy link",icon:s.createElement(p.w,null),onClick:N}))):s.createElement(s.Fragment,null,s.createElement(m.W20,null,R,b&&x&&s.createElement(()=>s.createElement(s.Fragment,null,s.createElement(m.W20,{position:"absolute",top:0,left:0,right:0,bottom:"-2px",backgroundColor:"rgba(75, 66, 173, 0.8)",zIndex:2}),s.createElement("div",{className:f.animatedArrow},s.createElement("svg",{width:114,height:119,viewBox:"0 0 114 119",fill:"none",xmlns:"http://www.w3.org/2000/svg"},s.createElement("path",{className:f.styledArrow,d:"M81.1026 17.1876C82.9771 11.8374 87.1421 1.30131 88.8057 1.95893C90.4692 2.61656 97.4592 12.9136 100.746 17.98",stroke:"white",strokeWidth:"3",strokeMiterlimit:"1.5"}),s.createElement("path",{className:f.styledLine,d:"M2 92.1658C21.3572 99.2581 60.9676 104.849 64.5522 70.4755C65.2016 64.2483 58.6091 52.6449 51.6939 57.137C45.3954 61.2285 52.8272 72.55 68.0603 69.6427C89.4236 65.5654 100.769 34.5125 88.7188 4.16391",stroke:"white",strokeWidth:"3"})))),null),s.createElement(m.W20,{position:"relative",zIndex:2},s.createElement(m.ua7,{tabIndex:-1,content:A,placement:"bottomCenter"},s.createElement(m.zxk,{variant:y,onClick:N,size:S?"medium":"small"},s.createElement(m.JO$,{icon:s.createElement(p.w,null),color:"primary"===y?"background":"body",size:S?"3":"2"})))))))}let b=e=>s.createElement(w,{...e,isTextButton:!0}),y=e=>s.createElement(w,{...e,isTextButton:!1})},44101:function(e,t,a){a.d(t,{f:function(){return i}});var r=a(77848),n=a.n(r),o=a(66420),l=a(14728);let i=({size:e=4.5,backgroundColor:t="",removeBorder:a,children:r,padding:i})=>o.createElement(l.W20,{className:n()("icon-circle_iconCircleContainer_1Z0",{"icon-circle_withBorder_2GT":!a}),backgroundColor:t,width:e,height:e,padding:i},r)},69807:function(e,t,a){a.d(t,{O:function(){return Z},X:function(){return G}});var r=a(72931),n=a(77848),o=a.n(n),l=a(26998),i=a(18568),s=a(23555),c=a(21844),d=a(99739),u=a(2965),m=a(66420),p=a(89895),g=a(15596),h=a(74598),v=a(81923),E=a(14728),f=a(58461),w=a(10768),b=a(85578),y=a(18807),_=a(3273),C=a(65559),S=a(2677),k=a(27584);let I="400px";var T=a(69815),A={modal:"seasonal-launch-modal_modal_2vP",featureContainer:"seasonal-launch-modal_featureContainer_1JO",border:"seasonal-launch-modal_border__l0",activeBorder:"seasonal-launch-modal_activeBorder_23U",inactiveBorder:"seasonal-launch-modal_inactiveBorder_3Ay",featureContent:"seasonal-launch-modal_featureContent_3Va",animateHeight:"seasonal-launch-modal_animateHeight_27A",expandedContent:"seasonal-launch-modal_expandedContent_Mv1",collapsedContent:"seasonal-launch-modal_collapsedContent_2PU",animateVisibility:"seasonal-launch-modal_animateVisibility_186",text:"seasonal-launch-modal_text_1kW",isActive:"seasonal-launch-modal_isActive_uov",visible:"seasonal-launch-modal_visible_1EE",invisible:"seasonal-launch-modal_invisible_1Md",openCloseIcon:"seasonal-launch-modal_openCloseIcon_3tj",open:"seasonal-launch-modal_open_QAv",videoContainer:"seasonal-launch-modal_videoContainer_20e",assetContainer:"seasonal-launch-modal_assetContainer_fGX",footer:"seasonal-launch-modal_footer_1jl"};let P=(e,t)=>{let a=document.getElementById("seasonal-launch-modal-footer")?.getBoundingClientRect().top;(0,m.useEffect)(()=>{let{bottom:r}=e.current?.getBoundingClientRect()||{};t&&r&&a&&r>a&&e.current?.scrollIntoView({behavior:"smooth",block:"center"})},[t])},x=e=>{let{description:t,featureId:a,hasAiAddOn:n,hasChangedSteps:l,icon:i,index:s,isActive:c,collapsible:d=!0,memberRole:u,personaRole:p,showFeature:h,title:v,tourIsEnabled:f,workspaceType:w}=e;(0,m.useEffect)(()=>{c&&(S.track(r.bco,{ai_addOn:n,role:u,persona:p,workspace_type:w,tour_is_enabled:f,feature:a}),(0,g.v3)("seasonal.launch.ftux.feature.shown",{feature:a}))},[c,a,u,p,w,f,n]);let b=(0,m.useRef)(null);P(b,c);let y=d?o()("text:left",l&&A.animateVisibility,A.text,c&&A.isActive,c?A.visible:A.invisible):"text:left";return m.createElement("div",{ref:b},m.createElement(E.W20,{as:"button",onClick:()=>h(s),className:o()(A.featureContainer)},m.createElement("div",{className:o()(A.border,A.activeBorder,c&&A.visible)}),m.createElement("div",{className:o()(A.border,A.inactiveBorder,!c&&A.visible)}),m.createElement("div",{className:o()(A.featureContent,d&&c&&A.expandedContent,d&&!c&&A.collapsedContent,l&&A.animateHeight)},m.createElement(E.ggW,{gap:2,alignItems:"start"},m.createElement(E.JO$,{icon:i,color:"body"}),m.createElement("div",null,m.createElement(E.ggW,{justifyContent:"space-between"},m.createElement(E.xvT,{size:"body-md",fontWeight:"bold"},v),d&&m.createElement(E.JO$,{icon:m.createElement(T.I,null),color:"bodyDimmed",className:o()(A.openCloseIcon,c&&A.open)})),m.createElement("div",{className:y},m.createElement(E.LZC,{top:1,bottom:0},m.createElement(E.xvT,{size:"body-md",fontWeight:"book"},t))))))))};var L=a(49003),N=a(79839),R=a(80512),O=a(61791),D=a(62189),M=a(18869);let W="seasonal.launch.ftux.cta.clicked",V=()=>m.createElement(E.zxk,{size:"large",isDisabled:!0},"You have access"),U=({dispatch:e,isAiFeature:t,dismissModal:a,eventProps:n})=>{let o=t?M.qy.ADD_ON:M.qy.ROLE;return m.createElement(E.zxk,{size:"large",variant:"primary",onClick:()=>{S.track(r.Sv6,{...n,cta:"request-upgrade",upgrade_type:o}),(0,g.v3)(W,{cta:"request-upgrade",upgrade_type:o}),e((0,R.h7)({modalType:N.pU,options:{upgradeType:o}})),a("request-upgrade-cta")}},"Request upgrade")},$=({dispatch:e,plan:t,isPureTrial:a,dismissModal:n,eventProps:o})=>t===y.UK||a?m.createElement(E.zxk,{variant:"primary",size:"large",htmlTag:"a",onClick:e=>{e.preventDefault(),(0,g.v3)(W,{cta:"plan-upgrade",upgrade_type:"plan"}),S.track(r.Sv6,{...o,cta:"plan-upgrade",upgrade_type:"plan"},()=>{n("plan-upgrade-cta"),(0,O.H)()})}},"Buy now and save"):m.createElement(E.zxk,{variant:"primary",size:"large",onClick:()=>{S.track(r.Sv6,{...o,cta:"plan-upgrade",upgrade_type:"ai"}),(0,g.v3)(W,{cta:"plan-upgrade",upgrade_type:"ai"}),e((0,R.h7)({modalType:N.Gc,options:{source:"seasonal-launch-modal"}})),n("ai-upgrade-cta")}},"Upgrade now"),B=({eventProps:e,includeUtmQueryParams:t})=>{let a=`${L.cu}${L.xJ}`;return t&&(a+="?utm_source=ftux&utm_medium=app&utm_campaign=loom-for-sales"),m.createElement(E.zxk,{variant:"primary",size:"large",htmlTag:"a",href:a,target:"_blank",onClick:()=>{(0,g.v3)(W,{cta:"contact-sales"}),S.track(r.Sv6,{...e,cta:"contact-sales"})}},"Contact sales")},F=({isEnterpriseFeature:e,isAiFeature:t,workspaceHasFeature:a,role:r,plan:n,isPureTrial:o,isSalesLedAccount:l,dismissModal:i,eventProps:s,includeUtmQueryParams:c})=>{let d=(0,p.I0)(),u=r===D.N||r===D.b3||r===D.dt&&!a;return!a&&(e||t&&l)&&(!u||e)?m.createElement(B,{eventProps:s,includeUtmQueryParams:c}):u?m.createElement(U,{isAiFeature:t,dispatch:d,dismissModal:i,eventProps:s}):a?m.createElement(V,null):m.createElement($,{dispatch:d,plan:n,isPureTrial:o,dismissModal:i,eventProps:s})};var z=a(2962),H=a(45394),q=a(61074);let J=({videoName:e})=>{let t=`https://cdn.loom.com/assets/img/seasonal-launch/${e}`;return m.createElement("div",{className:A.videoContainer},m.createElement("video",{src:t,loop:!0,autoPlay:!0,muted:!0,height:I}))},j=({hasAiAddOn:e})=>[{id:"auto-title",title:"Record better videos, instantly",icon:m.createElement(z.K,null),description:"Loom AI automatically picks the best title for your video, and adds a summary plus time-stamped chapters",asset:m.createElement(J,{videoName:"auto-title.webm"}),isAiFeature:!0,workspaceHasFeature:e},{id:"write-doc",title:"Never write a doc or bug report again",icon:m.createElement(H.A,null),description:"Record your video and then let Loom AI handle writing the SOP, Jira issue, and more...",asset:m.createElement(J,{videoName:"write-doc.webm"}),isAiFeature:!0,workspaceHasFeature:e},{id:"silence-removal",title:"Send a crystal clear message every time",icon:m.createElement(q.Y,null),description:"Loom AI removes filler words and silences from your video in one click",asset:m.createElement(J,{videoName:"silence-removal.webm"}),isAiFeature:!0,workspaceHasFeature:e}],G=({currentUserIsOwner:e,workspace:t,skipModal:a})=>{let{startSeasonalLaunchTour:r,isActive:n,shouldShowTour:o,setShouldShowTour:l}=(0,u.V)(),{setHideBackgroundPreview:i}=(0,s.dPl)();return m.createElement(Z,{currentUserIsOwner:e,setHideBackgroundPreview:i,startSeasonalLaunchTour:r,isActive:n,workspace:t,skipModal:a,shouldShowTour:o,setShouldShowTour:l,isOnSharePage:!0})},Z=({setHideBackgroundPreview:e,startSeasonalLaunchTour:t,isActive:a=!1,currentUserIsOwner:r=!1,workspace:n,shouldShowTour:o,setShouldShowTour:l,skipModal:i=!1,isOnSharePage:s=!1})=>m.createElement(h.$,{feature:f.L0.SeasonalLaunch,errorType:v.s.SILENT},m.createElement(X,{setHideBackgroundPreview:e,startSeasonalLaunchTour:t,isActive:a,currentUserIsOwner:r,workspace:n,shouldShowTour:o,setShouldShowTour:l,skipModal:i,isOnSharePage:s})),X=({setHideBackgroundPreview:e,startSeasonalLaunchTour:t,isActive:a,currentUserIsOwner:n,workspace:s,shouldShowTour:u,setShouldShowTour:h,skipModal:v,isOnSharePage:f})=>{let T=(0,l.useCurrentUserSelector)(e=>(0,i.Y)(e),!1),P=(0,l.useCurrentUserSelector)(e=>e.memberships?.[0]?.organization.is_pure_trial??!1,!1),L=(0,d.e)(),N=(0,l.useCurrentUserSelector)(e=>e.persona?.persona_v1?.role,null),R=(0,p.v9)(C.Dl),O=!p.v9(C.zh)?.phrases?.length,D=(0,_.dN)(R)&&!O,[M,W]=(0,m.useState)(!a&&!v),V=s?.organization_properties?.salesSupportType===w.$v||(0,k._C)(s),U=s?.type===y.Fs,$=n&&!U&&D&&(T||L||P),B=(0,m.useMemo)(()=>({ai_addOn:T,role:s?.memberRole,persona:N,workspace_type:s?.type,tour_is_enabled:$}),[T,s,N,$]),z=j({hasAiAddOn:T});(0,m.useEffect)(()=>{e&&e(!0)},[e,a]);let H=(0,c.st)(),[q,J]=(0,m.useState)(0),G=q===z.length-1,Z=z[q],[X,Y]=(0,m.useState)(!1),K=e=>{Y(!0),J(e)},Q=t=>{S.track(r.HIB,{...B,source:t}),(0,g.v3)("seasonal.launch.ftux.modal.closed",{source:t}),H(b.BR.SEASONAL_LAUNCH_MODAL),e&&e(!1),W(!1),h&&h(!1)},ee=()=>{Q(),$&&t()};if((0,m.useEffect)(()=>{v&&$&&u&&(e&&e(!1),W(!1),t())},[u,e,v,t,$]),(0,m.useEffect)(()=>{M||e&&e(!1)},[M,e]),!s)return null;let et=G?$&&f?"Take a tour":"Done":"Next feature";return m.createElement(E.YMn,{isOpen:M},m.createElement(E.pUH,{maxWidth:110,maxHeight:"80vh",onCloseClick:()=>Q("close-button"),isOpen:M,className:o()(A.modal)},m.createElement(E.ggW,{rows:["1fr","auto"]},m.createElement(E.W20,{paddingX:"xlarge",paddingTop:"xlarge",paddingBottom:"90px"},m.createElement(E.xMy,{alignment:"center"},m.createElement(E.LZC,{bottom:1},m.createElement(E.ggW,{gap:"2px"},m.createElement(E.xvT,{size:"heading-md",fontWeight:"bold"},"Auto-enhance your videos, for less"),m.createElement(E.W20,{marginTop:-3},m.createElement(E.TRl,{variant:"symbol",maxWidth:"20px",brand:"ai"})))),m.createElement(E.LZC,{bottom:4},m.createElement(E.xvT,{color:"bodyDimmed",size:"body-lg"},"Try Loom AI for free today and buy before prices increase next month"))),m.createElement(E.ggW,{gap:5,alignItems:"start",columns:[45,"1fr"]},m.createElement(E.ggW,{gap:2,rows:"auto"},z.map((e,t)=>m.createElement("span",{key:t},m.createElement(x,{collapsible:!1,description:e.description,featureId:e.id,hasAiAddOn:T,hasChangedSteps:X,icon:e.icon,index:t,isActive:t===q,memberRole:s.memberRole,personaRole:N,showFeature:K,title:e.title,tourIsEnabled:$,workspaceType:s.type})))),m.createElement(E.W20,{width:"400px",height:I,position:"relative"},z.map((e,t)=>{let a=t===q;return m.createElement("span",{className:o()(A.assetContainer,a?A.visible:A.invisible,X&&A.animateVisiblity),key:e.id},m.createElement("div",null,e.asset))}))),m.createElement(E.LZC,{bottom:"large"})),m.createElement(E.W20,{id:"seasonal-launch-modal-footer",paddingY:"medium",paddingX:"xlarge",borderSide:"top",className:o()(A.footer)},m.createElement(E.Pag,{justifyContent:"center"},m.createElement(E.I7m,null,m.createElement(E.ggW,{gap:1},m.createElement(F,{isEnterpriseFeature:Z.isEnterpriseFeature??!1,isAiFeature:Z.isAiFeature??!1,workspaceHasFeature:Z.workspaceHasFeature,role:s.memberRole,plan:s.type,isPureTrial:P,isSalesLedAccount:V,dismissModal:Q,eventProps:B,includeUtmQueryParams:Z.includeUtmQueryParamsInCta??!1}),m.createElement(E.zxk,{size:"large",onClick:()=>G?ee():K(q+1)},et))))))))}},76623:function(e,t,a){a.d(t,{l:function(){return eh}});var r=a(22947),n=a(67121),o=a(20600),l=a(94705),i=a(60244),s=a(56977),c=a(70978),d=a.n(c),u=a(66420),m=a(61824),p=a(14374),g=a(74598),h=a(81923),v=a(2191),E=a(14728),f=a(49586),w=a(36311),b=a(58461),y=a(26083),_=a(28668),C=a(84515);let S={},k=(0,_.Ps)`
    query GetViewerInsights($videoId: ID!, $password: String) {
  getVideo(id: $videoId, password: $password) {
    ... on RegularUserVideo {
      id
      __typename
      organization_id
      current_user_is_owner
      show_analytics_to_viewer
      views {
        total
        distinct
        named {
          avatar
          firstName
        }
      }
    }
  }
}
    `;var I=a(10138),T=a(72931),A=a(77848),P=a.n(A),x=a(23555),L=a(7393),N=a(29086),R=a(72847),O=a(16089),D=a.n(O),M=a(58353),W=a(89895),V=a(62259),U=a(34698),$=a(40240),B=a(23957),F=a(65910),z=a(23975),H=a(54913),q=a(80686),J=a(67184),j=a(20389),G=a.p+"img/engagement-insights-no-views-20456271cb7d37e18a37.svg",Z=a(24614),X=a(69512),Y=a(25646),K=a(3894),Q={modal:"viewer-insights_modal_2K6",small:"viewer-insights_small_3Kt",viewerItem:"viewer-insights_viewerItem_2Uc",isClickable:"viewer-insights_isClickable_1Vi",reactionsAndComments:"viewer-insights_reactionsAndComments_3ma",upgradeHover:"viewer-insights_upgradeHover_Wvr"},ee=a(67615),et=a(56647);let ea=({children:e,variant:t})=>u.createElement("div",{className:P()(Q.modal,{[Q.small]:"small"===t})},e),er=({condition:e,wrapper:t,children:a})=>e?t(a):a,en=()=>u.createElement(ea,{variant:"small"},u.createElement("article",{className:"px:large py:medium my:large flex flexDirection:column items:center"},u.createElement("img",{src:G,width:80,height:80,className:"mb:large",alt:"No views yet"}),u.createElement(E.xvT,{alignment:"center",fontWeight:"bold"},"Share your video with someone to see their engagement!"))),eo=({hasEngagementInsights:e,showPaywall:t,openInsights:a})=>{let r=(0,N.I)(),{loading:n,hasPriceElasticityAssignment:o}=(0,R.W)();return e||t?n||o||!r?u.createElement("div",{className:"borderTop pt:medium px:large mb:medium"},u.createElement(er,{condition:t,wrapper:e=>u.createElement(L.Z,{analyticsEvent:T.FdO,feature:B.lD.ENGAGEMENT_INSIGHTS},u.createElement(E.LZC,{top:1}),u.createElement("div",{"data-testid":"engagement-insights-paywall"},u.createElement("div",{className:P()(Q.upgradeHover)},e)))},u.createElement(E.zxk,{onClick:a,hasFullWidth:!0,isDisabled:!e,icon:u.createElement(f.e,null)},"See Engagement"))):u.createElement("div",{className:"borderTop pt:medium px:large my:medium"},u.createElement(X.P,{tooltipText:`See the metrics behind how viewers interact and engage with your
                videos.`,tooltipDirection:"bottomCenter"},u.createElement(E.zxk,{onClick:a,hasFullWidth:!0,isDisabled:!e,icon:u.createElement(f.e,null)},u.createElement(E.ggW,{gap:"small"},"See Engagement",u.createElement(E.W20,{width:3,height:3,backgroundColor:"upgrade",className:"flex items:center justify:center upgradeIcon",paddingTop:"1px"},u.createElement(E.JO$,{color:"backdropDark",size:2,icon:u.createElement(H.R,null)})))))):null},el=({viewer:e,hasEngagementInsights:t,onClick:a})=>{let r=(0,et.O)(e)?e.commentCount:0,n=(0,et.O)(e)?e.reactionCount:0;return u.createElement("article",{className:P()(Q.viewerItem,{[Q.isClickable]:t}),onClick:a,tabIndex:0},u.createElement(K.uV,{...e.user}),u.createElement("h4",{className:"ellipsis weight:bold"},e.user.name||"Anonymous"),t&&u.createElement("ul",{className:Q.reactionsAndComments},u.createElement("li",null,u.createElement(E.JO$,{icon:u.createElement(F.j,null),color:"bodyDimmed",altText:"comments count"}),u.createElement("label",null,r)),u.createElement("li",null,u.createElement(E.JO$,{icon:u.createElement(z.x,null),color:"bodyDimmed",altText:"reactions count"}),u.createElement("label",null,n))))};function ei({closeModal:e}){let t=(0,W.I0)(),{video:{id:a,views:r}}=(0,x.dPl)(),n=(0,W.v9)(e=>({areViewerInsightsOpen:(0,Z.F)(e),hasPaywallScope:(0,U.R5)(e,[q.g7,q.fQ]),hasEngagementInsights:(0,U.MU)(e,q.L7),views:r})),{areViewerInsightsOpen:o,hasPaywallScope:l,hasEngagementInsights:i}=n,s=l&&!i;(0,M.y1)("esc",t=>{t.preventDefault(),t.stopPropagation(),D()(e,2500)},{keyup:!0});let c=r?.total||0,m=r?.distinct||0,{data:p,loading:g}=(0,Y.uB)({variables:{first:50,videoId:a},client:(0,$.yy)(),skip:!i||!c}),{viewersWithEngagements:h}=(0,et.R)(p),v=(0,ee.p)(r),f=i?h:v;if(!c)return u.createElement(en,null);let w=i&&g,b=f.slice(0,50),y=a=>{t((0,j.L)(a)),t((0,J.zn)(!1)),t((0,V.bl)()),t((0,V.m)()),o||(t((0,j.Z)()),(0,I.b$)()),e()},_=`${c} total ${d()("view",Number(c))}, ${m} unique ${d()("viewer",Number(m))}`;return u.createElement(ea,{variant:i?void 0:"small"},u.createElement("div",{className:"borderBottom px:large"},u.createElement(E.xvT,{variant:"title",as:"h2"},i?"Engagement":"Viewer"," Insights"),u.createElement(E.xvT,{color:"bodyDimmed",className:"mt:small mb:medium",as:"p"},_)),u.createElement("div",{className:"modal-viewer-list px:small py:medium thin-scrollbars overflow:auto"},w?u.createElement("div",{className:"loading text:center py:xlarge"},u.createElement(E.aNw,{size:"large"})):b.map((e,t)=>u.createElement(el,{key:t,viewer:e,hasEngagementInsights:i,onClick:i?()=>y(e):void 0}))),u.createElement(eo,{showPaywall:s,hasEngagementInsights:i,openInsights:()=>y(null)}))}let es=e=>{let t=0,a=[],r,n,o;if(e?.getVideo?.__typename==="RegularUserVideo"&&e.getVideo.views){t=e.getVideo.views.total;let l=e.getVideo.views.distinct;if(r=e.getVideo.organization_id,n=e.getVideo.current_user_is_owner,o=e.getVideo.show_analytics_to_viewer,e.getVideo.views.named){let t=e.getVideo.views.named.filter(e=>null!==e).map(e=>({avatar:e?.avatar??void 0,firstName:e?.firstName??void 0}));a=(function(e=[],t=0){let a=e.length;if(a>=3)return e.slice(0,3);let r=t-a-Math.max(0,t-3);if(r<=0)return e;let n=[...e];for(let e=0;e<r;e++)n.push({});return n})(t,l).map(e=>({thumb:e.avatar,name:e.firstName}))}}return{totalViews:t,viewerInfoForAvatars:a,organizationId:r,currentUserIsOwner:n,showAnalyticsToViewer:o}},ec=(0,n.Z)(E.Avr)`
  padding: var(--lns-space-xsmall);
  height: fit-content;
  ${e=>"large"===e.sizeOfButton?`
  &:hover {
    background-color: var(--lns-color-backgroundSecondary);
    box-shadow: 0 0 0 1px var(--lns-color-border);
  }

  &:not(:hover) [data-style-id='avatar-container']::after {
    background-color: unset;
  }

  &:hover [data-style-id='avatar-container']::after {
      background-color: var(--lns-color-backgroundSecondary);
    }
  }`:`
  &:hover {
    background-color: unset;
    box-shadow: 0 0 0 1px var(--lns-color-border);
  }`}
`;function ed({videoId:e,size:t="default"}){let{featureLoadedRef:a}=(0,v.kX)(),{password:n}=(0,l.u)(),{data:c,loading:d}=function(e){let t={...S,...e};return C.a(k,t)}({variables:{videoId:e,password:n},onError:e=>{throw e},onCompleted:t=>{if(t?.getVideo?.__typename!=="RegularUserVideo")throw p.warning("Invalid viewer insights data",{videoId:e},{feature:b.L0.EngagementInsights}),Error("Invalid viewer insights data")}}),{totalViews:g,viewerInfoForAvatars:h,organizationId:E,currentUserIsOwner:f,showAnalyticsToViewer:w}=(0,u.useMemo)(()=>es(c),[c]),y=(0,s.p$)(E),_=(0,i.l)(e)||f,T=(0,u.useRef)(!1),[A,P]=(0,u.useState)(!1),x=()=>L(!1),L=t=>{t&&!T.current&&((0,I.rw)(e),T.current=!0),P(t)},{triggerProps:N,layerProps:R,renderLayer:O}=(0,m.sJ)({isOpen:A,triggerOffset:"large"===t?8:4,onOutsideClick:x,auto:!0,possiblePlacements:["bottom-center","top-center"]}),D={...R,style:{...R.style,zIndex:1e3}};return d||!(w||_)?null:y&&w||_?u.createElement("div",{ref:a},u.createElement(o.z,{query:`(min-width: ${r.wV}px)`},u.createElement("div",{ref:N.ref},u.createElement(ec,{onKeyDown:e=>{("Enter"===e.key||"Space"===e.code)&&(e.preventDefault(),L(!A))},onClick:()=>L(!A),sizeOfButton:t},"large"===t?u.createElement(eu,{viewerInfoForAvatars:h,totalViews:g}):u.createElement(em,{viewerInfoForAvatars:h,totalViews:g})))),O(u.createElement(eg,{show:A,...D},u.createElement(ei,{closeModal:x})))):u.createElement("div",{ref:a},u.createElement(o.z,{query:`(min-width: ${r.wV}px)`},u.createElement(ep,{totalViews:g})))}let eu=({viewerInfoForAvatars:e,totalViews:t})=>{let a=e.length>0;return u.createElement(E.ggW,null,a?u.createElement(y.O,{avatars:e,size:5,dataStyleId:"avatar-container"}):u.createElement("div",{className:"flex mr:small ml:xsmall"},u.createElement(E.W20,{backgroundColor:"backgroundSecondary",radius:"full",width:5,height:5},u.createElement(E.xMy,null,u.createElement(E.JO$,{icon:u.createElement(f.e,null)})))),u.createElement(E.ggW,{autoFlow:"row",justifyItems:"start"},u.createElement(E.xvT,{fontWeight:"bold"},t," ",d()("view",Number(t))),u.createElement(E.ggW,null,u.createElement(E.xvT,{color:"bodyDimmed"},"View engagement"),u.createElement(E.JO$,{icon:u.createElement(w.u,null),color:"bodyDimmed"}))))},em=({viewerInfoForAvatars:e,totalViews:t})=>{let a=e.length>0;return u.createElement(E.W20,{height:3.5,paddingRight:a?"xsmall":"small",paddingLeft:a?"0":"small"},u.createElement(E.xMy,{alignment:"center"},u.createElement(E.ggW,null,a?u.createElement(y.O,{avatars:e}):null,t," ",d()("view",Number(t)))))},ep=({totalViews:e})=>u.createElement(E.W20,{paddingX:"small"},u.createElement(E.xvT,{fontWeight:"bold"},e," ",d()("view",Number(e)))),eg=n.Z.div`
  display: ${e=>e.show?"block":"none"};
`,eh=e=>u.createElement(g.$,{feature:b.L0.EngagementInsights,errorType:h.s.SILENT,additionalLoggingValues:{version:"views button"}},u.createElement(ed,{...e}))},68340:function(e,t,a){var r=a(44101),n=a(69512),o=a(7393),l=a(29086),i=a(54086),s=a(66420),c=a(23957),d=a(14728),u=a(47042),m=a(54913);t.Z=({scope:e,placement:t="bottomCenter",title:a,feature:p=c.lD.DEFAULT,highlightText:g,inActivitySidebar:h=!1})=>{let v=(0,l.I)();return(0,i.gH)(e)?v?s.createElement(n.P,{tooltipDirection:t,tooltipText:g,inActivitySidebar:h},s.createElement(d.ggW,{gap:"small"},a,s.createElement(r.f,{size:"var(--lns-space-large)",backgroundColor:"upgrade"},s.createElement(d.JO$,{icon:s.createElement(m.R,null),size:2,color:"body"})))):s.createElement(s.Fragment,null,a):s.createElement(o.Z,{placement:t,feature:p,inActivitySidebar:h},s.createElement(d.ggW,{gap:"small"},s.createElement(d.xvT,{color:"disabledContent",size:h?"small":void 0,fontWeight:h?"bold":void 0},a),s.createElement(d.JO$,{icon:s.createElement(u.R,null),size:2,color:"disabledContent"})))}},52211:function(e,t,a){a.d(t,{X:function(){return o}});var r=a(66420),n=a(14728);let o=({title:e,content:t})=>r.createElement(n.ua7,{placement:"rightCenter",content:t},r.createElement(n.xvT,{color:"disabledContent"},e))},37713:function(e,t,a){a.d(t,{qL:function(){return i}});var r=a(28668),n=a(84515);let o={},l=(0,r.Ps)`
    query GetTotalVideosCountByUser($userId: ID!, $workspaceId: ID) {
  getTotalVideosCountByUser(userId: $userId, workspaceId: $workspaceId) {
    __typename
    ... on TotalVideosCountByUserPayload {
      videos_count
    }
    ... on UserNotAuthorizedError {
      message
    }
    ... on GenericError {
      message
    }
  }
}
    `;function i(e){let t={...o,...e};return n.a(l,t)}},99367:function(e,t,a){a.d(t,{BU:function(){return l},Dp:function(){return f},Fh:function(){return n},HN:function(){return m},Ln:function(){return h},PL:function(){return g},QY:function(){return _},Rq:function(){return E},T2:function(){return S},YS:function(){return o},bv:function(){return i},gJ:function(){return d},iJ:function(){return s},kY:function(){return c},m_:function(){return p},mn:function(){return v},mo:function(){return b},rw:function(){return w},tP:function(){return r},wn:function(){return y},xJ:function(){return C},yY:function(){return u}});let r="Move...",n="Manage folder",o="Make public",l="Make private",i="Rename",s="Duplicate",c="Archive",d="Unarchive",u="Delete",m="Download Video",p="Download Video Experiment",g="Download Captions",h="Preparing download...",v="It'll take a little while before this video is ready to download. Hang tight.",E="Copy link",f="Share",w="Dive (Admin)",b="Search",y="Notifications",_="Move folder into Space",C="Contact Sales",S="Copy embed code"},55783:function(e,t,a){a.d(t,{j:function(){return i}});var r=a(28668),n=a(34017);let o={},l=(0,r.Ps)`
    mutation ArchiveVideos($videoIds: [ID!]!, $isArchived: Boolean!) {
  result: archiveVideos(videoIds: $videoIds, isArchived: $isArchived) {
    ... on ArchiveVideosPayload {
      videos {
        id
      }
    }
  }
}
    `;function i(e){let t={...o,...e};return n.D(l,t)}},63861:function(e,t,a){a.d(t,{l:function(){return i}});var r=a(28668),n=a(34017);let o={},l=(0,r.Ps)`
    mutation DuplicateVideo($videoId: ID!, $newName: String!, $spaceId: ID) {
  duplicateVideo(videoId: $videoId, newName: $newName, spaceId: $spaceId) {
    __typename
    ... on GenericError {
      __typename
      message
    }
    ... on DuplicateVideoPayload {
      __typename
      newVideo {
        __typename
        id
        name
      }
    }
  }
}
    `;function i(e){let t={...o,...e};return n.D(l,t)}},95666:function(e,t,a){a.d(t,{W:function(){return l}});var r=a(26998),n=a(89536),o=a(73671);function l(){let e=!!(0,r.useCurrentUserSelector)(e=>e.persona?.persona_v1?.use_case_plan_persona,null);return(0,n.Mr)({flag:o.tF.EXPERIMENT_ROLE_QUESTION_MANDATORY,controlType:o.C2.STATSIG_EXPERIMENT,activationValues:["variant-1"],eligibilityPreCheckFunction:()=>e?{pass:!1,failReason:"Ineligible: user has a role defined already."}:{pass:!0}})}},73439:function(e,t,a){let r;a.d(t,{AI:function(){return S},SJ:function(){return I},Qq:function(){return k}});var n=a(72931),o=a(89895),l=a(81217),i=a(31744);let s=(0,i.P1)(e=>e?.header,e=>{let{downloading_video:t}=e;return t});var c=a(95831),d=a.n(c),u=a(14374),m=Object.defineProperty,p=(e,t,a)=>t in e?m(e,t,{enumerable:!0,configurable:!0,writable:!0,value:a}):e[t]=a,g=(e,t,a)=>p(e,"symbol"!=typeof t?t+"":t,a);let h=e=>{e.preventDefault();let t="Loom is still downloading. Are you sure you want to leave?";return e.returnValue=t,t};class v{constructor(e,t,a){g(this,"onProgressCallback"),g(this,"onCompletedCallback"),g(this,"onErrorCallback"),g(this,"time"),g(this,"downloadData"),g(this,"fileName"),g(this,"timerInterval"),g(this,"request"),g(this,"setTime",()=>{this.time=this.time||0,this.time++}),g(this,"onProgress",e=>{let t=100*e.loaded/e.total,a=Math.floor(t);this.onProgressCallback(a)}),g(this,"onLoad",e=>{let t=e.target;if(t&&t instanceof XMLHttpRequest){let e=t.getResponseHeader("Content-Type"),a=new Blob([t.response],{type:e??void 0});this.downloadData=a,clearInterval(this.timerInterval),window.removeEventListener("beforeunload",h),this.onCompletedCallback()}}),g(this,"onError",()=>{this.cleanup(),this.onErrorCallback()}),g(this,"fetch",(e="",t=null)=>{this.fileName=t||e.split("/").pop(),this.request&&this.request.abort(),this.request=new XMLHttpRequest,this.request.addEventListener("progress",this.onProgress),this.request.addEventListener("load",this.onLoad),this.request.addEventListener("error",this.onError),window.addEventListener("beforeunload",h),this.request.open("GET",e),this.request.responseType="blob",this.request.send(),clearInterval(this.timerInterval),this.time=0,this.timerInterval=setInterval(this.setTime,1e3)}),g(this,"abort",()=>{this.request&&this.request.abort(),this.cleanup()}),g(this,"cleanup",()=>{this.request=void 0,this.fileName=void 0,this.downloadData=void 0,clearInterval(this.timerInterval),window.removeEventListener("beforeunload",h)}),g(this,"save",()=>d()(this.downloadData,this.fileName)),this.onProgressCallback=e,this.onCompletedCallback=t,this.onErrorCallback=a,this.time=0}}var E=a(88371),f=a(39971),w=a(56906),b=a(58461),y=a(72924),_=a(2677);let C=e=>{if(!e)return null;try{return new URL(e).searchParams.get("Policy")}catch(e){return u.error(e,{message:"Failed to get policy from Url"},{team:b.SZ.CoreMedia}),null}},S=(e,t,a,o)=>{(function(e,t,{onProgress:a,onCompleted:n,onError:o}){(r=new v(a,n,o)).fetch(e,t)})(t,a,{onProgress:t=>{e((0,l.dg)(t))},onCompleted:()=>{e((0,l.mh)()),(0,w.J)(o.video_id),_.track(n.CWk,o),r&&(u.info("Saving download",{}),r.save())},onError:()=>{e((0,l.mh)())}}),e((0,l.Qj)(!0))};function k(){let e=(0,o.v9)(s),t=(0,o.I0)();return a=>{let{url:r,name:n,opts:o,password:l}=a;if(e)return;let i=C(r);i&&(0,E.O)(i)?f.H(o?.video_id,l??null,e=>{t((0,y.mV)(e)),S(t,e,n,o)}):S(t,r,n,o)}}function I(){let e=(0,o.I0)();return()=>{e((0,l.mh)()),r&&(u.info("Abort download",{}),r.abort())}}},33617:function(e,t,a){a.d(t,{A:function(){return l}});var r=a(66420),n=a(89895),o=a(80512);let l=(e,t,a)=>{let l=(0,n.I0)();(0,r.useEffect)(()=>{e&&t&&!a&&l((0,o.h7)({modalType:"ROLE_MANDATORY_MODAL"}))},[l,e,a,t])}},65238:function(e,t,a){a.d(t,{Bu:function(){return i},VO:function(){return s}});var r=a(66420);let n="asgModalDesktopSession",o="hideAsgDesktopModal",l="asgDesktopVisitCount";function i({meetsAsgDesktopPrecheck:e}){let[t,a]=(0,r.useState)(null),i=localStorage.getItem(l),s=!!sessionStorage.getItem(n);return(0,r.useEffect)(()=>{window.sessionStorage&&(s||sessionStorage.setItem(n,JSON.stringify(!0)))},[s]),(0,r.useEffect)(()=>{if(!e)return a(!1);if(i){s||function(){let e=Number(localStorage.getItem(l))+1;localStorage.setItem(l,JSON.stringify(e))}();let e=window.localStorage?!!localStorage.getItem(o):void 0;1!==Number(i)||e||a(!0)}i||localStorage.setItem(l,JSON.stringify(0))},[s,e,i]),t}function s(){localStorage.setItem(o,JSON.stringify(!0))}localStorage.getItem(l)},23653:function(e,t,a){a.d(t,{s:function(){return n}});var r,n=((r=n||{}).Comment="comment",r.Emoji="emoji",r)},51432:function(e,t,a){a.d(t,{VO:function(){return s},o3:function(){return i}});var r=a(66420);let n="asgModalMobileSession",o="hideAsgMobileModal",l="asgMobileVisitCount";function i({meetsAsgMobilePrecheck:e}){let[t,a]=(0,r.useState)(!1),i=localStorage.getItem(l),s=!!sessionStorage.getItem(n);return(0,r.useEffect)(()=>{window.sessionStorage&&(s||sessionStorage.setItem(n,JSON.stringify(!0)))},[s]),(0,r.useEffect)(()=>{if(!e)return a(!1);if(i){s||function(){let e=Number(localStorage.getItem(l))+1;localStorage.setItem(l,JSON.stringify(e))}();let e=window.localStorage?!!localStorage.getItem(o):void 0;1!==Number(i)||e||a(!0)}i||localStorage.setItem(l,JSON.stringify(0))},[e,s,i]),t}function s(){localStorage.setItem(o,JSON.stringify(!0))}localStorage.getItem(l)},96903:function(e,t,a){var r,n,o=a(17737),l=a(45731),i=a(3697),s=a(53422),c=a(72931),d=a(38749),u=a(80794),m=a(49003),p=a(81087),g=a(84889),h=a(82239),v=a(26998),E=a(90894),f=a(65655),w=a(79839),b=a(27462),y=a(94705),_=a(23555),C=a(20219),S=a(66420),k=a(89895),I=a(80512),T=a(14728);let A=()=>{let e=(0,k.I0)();return S.createElement(T.W20,{width:"100%",backgroundColor:"primary",padding:"small"},S.createElement(T.ggW,{gap:4,justifyContent:"center"},S.createElement(T.xvT,{alignment:"center",color:"white",fontWeight:"bold"},"Sign up to save this video as your own. You can only do this for the next 24hrs."),S.createElement(T.W20,{backgroundColor:"white",radius:"medium"},S.createElement(T.zxk,{size:"small",onClick:()=>{e((0,I.h7)({modalType:w.rE.ANON_CREATOR_SIGNUP_MODAL}))}},S.createElement(T.xvT,{fontWeight:"bold",color:"primary"},"Get Loom for Free")))))},P=S.createContext(null);P.displayName="HighlightCommentContext";var x=a(31332),L=a(60244),N=a(37296),R=a(22941),O=a(30328),D=a(2965),M=a(46858),W=a(37121),V=a(77848),U=a.n(V),$=a(3603),B=a(14374),F=a(58461),z=a(72924),H=a(29256),q=a(28668),J=a(54670);let j={},G=(0,q.Ps)`
    subscription IntelligenceAvailable($videoId: ID!) {
  intelligenceAvailable(videoId: $videoId) {
    autoTitleStatus
    title
    autoDescriptionStatus
    description
    autoChaptersStatus
    autoChaptersCount
    autoTasksStatus
    autoTasksCount
  }
}
    `;function Z(e){return e===H.Sz.User||e===H.Sz.Auto}var X=a(74608),Y=a(85504),K=a(28159),Q=a(19556),ee=a(97947),et=a(43119),ea=a(88589),er=a(30676),en=a(27307),eo=a(57539),el=a(56977),ei=a(20076);let es=(0,ei.r)(()=>a.e(7062).then(a.bind(a,27895)).then(e=>({default:e.MemberVideoThresholdBanner}))),ec=e=>S.createElement(S.Suspense,{fallback:null},S.createElement(es,{...e}));var ed=a(74598),eu=a(81923),em=a(2191),ep=a(11893),eg=a(73433),eh=a(85578),ev=a(81624),eE=a(4452);let ef=()=>{let e=(0,en._)(eg.X6),t=(0,k.v9)(e=>e.checklist.first_video_recording),{featureLoadedRef:a}=(0,em.kX)(),{video:{id:r}}=(0,_.dPl)(),n=(0,eo.A)({videoId:r}),o="Notification"in window,l=(0,el.Vg)(),i=(0,el.xK)(),s=l.nearLimit,c=n&&e&&t&&!i&&o&&Notification.permission!==ep.qZ,d=t&&o&&Notification.permission===ep.qZ,u=(0,k.v9)(eE.lP);return S.createElement(v.LoggedInOnly,null,S.createElement(T.W20,{marginTop:u?{small:"large"}:void 0,refHandler:e=>{a(e)}},s&&S.createElement(er.Z,{name:eh.BR.MEMBER_VIDEO_THRESHOLD_BANNER},S.createElement(ec,{memberVideoLimit:l})),c&&S.createElement(ea.L,{bannerLocation:ev.OS}),d?S.createElement(et.p,{onSharePage:!0}):null))},ew=()=>S.createElement(ed.$,{feature:F.L0.Banners,errorType:eu.s.SILENT},S.createElement(ef,null));var eb=a(46434);let ey=()=>S.createElement(T.W20,{position:"absolute",top:0,radius:"large",width:"100%",height:"100%",backgroundColor:"backdropDark",zIndex:2},S.createElement(eb.ZP,null));var e_=a(22947),eC=a(62050),eS=a(73990),ek=a(20600),eI=a(48699),eT=a(63863),eA=a(35303),eP=a(84348),ex=a(3550),eL=a(90128),eN=a(86689),eR=a(43086),eO=a(89536),eD=a(73439),eM=a(54086),eW=a(30869),eV=a(40581),eU=a(7910),e$=a(65721),eB=a(6621),eF=a(80686),ez=a(18807),eH=a(14269);let eq=({children:e,setHeaderPortalContext:t})=>((0,S.useEffect)(()=>(t({children:e}),()=>t({children:null})),[e,t]),null);function eJ({children:e}){return S.createElement(eH.V.Consumer,null,({setHeaderPortalContext:t})=>S.createElement(eq,{setHeaderPortalContext:t},e))}var ej=a(92027),eG=a(19267),eZ=a(99367),eX=a(72197),eY=a(89600),eK=a(10284),eQ=a(71770),e0=a(29790),e1=a(68340),e2=a(52211),e4=a(54673),e6=a.n(e4),e3=a(55783),e5=a(63861),e7=a(76625),e9=a(54525),e8=a(11005),te=a(25878),tt=a(14567),ta=a(23957),tr=a(34571),tn=a(65910),to=a(65666),tl=a(28218),ti=a(98134),ts=a(70800),tc=a(11552),td=a(3355),tu=a(53303),tm=a(56725),tp=a(12460),tg=a(30016),th=a(93323),tv=a(1273),tE=a(99950),tf=a(94149),tw=a(2677),tb=a(73738),ty=a(79258);let t_=({videoId:e,onComplete:t})=>{let a;let[r,n]=(0,S.useState)(null),o="number"==typeof r&&r<100;return(0,S.useEffect)(()=>((function r(){(a=new ty.Z(m.HB+tb.bj)).ready(()=>{a.send(JSON.stringify({type:tb.lB,subscription_data:{type:tb.wW,video_id:e}})),a.onMessage(({data:e})=>{let a={progress:0};try{a=JSON.parse(e)}catch(t){B.error(t,{message:"Error parsing trim progress websocket.onMessage data"},[{key:"data",value:e},{key:"team",value:F.SZ.CreatorX}])}let r=Math.floor(Number(a.progress));n(r),100===r&&t&&t()}),a.onError(()=>{window.setTimeout(()=>{r()},32e3)})})})(),function(){a&&a.close()}),[]),S.createElement(T.ua7,{content:eZ.mn,placement:"leftCenter",triggerOffset:38,maxWidth:32},S.createElement("span",null,eZ.Ln),o&&S.createElement("span",{style:{fontFeatureSettings:"tnum"}},` (${r}%)`))},{AnonDownloadVideoOnSharePage:tC}=eY.ASGSource,tS=e=>{switch(e){case eZ.Rq:return{key:eZ.Rq,icon:S.createElement(tc.w,null),title:eZ.Rq};case eZ.Dp:return{key:eZ.Dp,icon:S.createElement(th.X,null),title:eZ.Dp};case eZ.tP:return{key:eZ.tP,icon:S.createElement(ts.U,null),title:eZ.tP};case eZ.iJ:return{key:eZ.iJ,icon:S.createElement(to.P,null),title:eZ.iJ};case eZ.kY:return{key:eZ.kY,icon:S.createElement(tr.$,null),title:eZ.kY};case eZ.HN:return{key:eZ.HN,icon:S.createElement(tl.Q,null),title:eZ.HN};case eZ.PL:return{key:eZ.PL,icon:S.createElement(tp.e,null),title:eZ.PL};case eZ.yY:return{key:eZ.yY,icon:S.createElement(tg.z,null),title:eZ.yY};case eZ.YS:return{key:eZ.YS,icon:S.createElement(tu.x,null),title:eZ.YS};case eZ.BU:return{key:eZ.BU,icon:S.createElement(td.l,null),title:eZ.BU};case eZ.rw:return{key:eZ.rw,icon:S.createElement(ti.l,null),title:eZ.rw};case eZ.mo:return{key:eZ.mo,icon:S.createElement(tm.y,null),title:eZ.mo};case eZ.wn:return{key:eZ.wn,icon:S.createElement(e$.O,null),title:eZ.wn};case eZ.xJ:return{key:eZ.xJ,icon:S.createElement(tn.j,null),title:eZ.xJ};default:return{}}},tk=[eZ.Dp,eZ.mo,eZ.wn,eZ.tP,eZ.iJ,eZ.kY,eZ.HN,eZ.PL,eZ.yY,eZ.rw,eZ.xJ],tI=e=>e.every(e=>e),tT=({video:e,scopes:t,permissions:a,dispatch:r,completeTrigger:n,extras:o,fetchShareVideoDownloadUrl:l,onLargeTabletOrDesktop:i,currentPlanIsFreePlan:d,isDownloadGateExperiment:u,onSmallDesktop:p,isLoggedIn:g,hideSideNav:h,needsPassword:v,password:E,onLargeTablet:b,setVideo:y,startDownload:_,workspace:C})=>{let{showErrorBar:k}=(0,f.gV)(),[A]=(0,e5.l)({variables:{videoId:e.id,newName:(0,tt.hv)(e.title),spaceId:null},onCompleted:e=>{let{setShowConfirmationToast:t}=eX.x.getState();if(e?.duplicateVideo?.__typename==="DuplicateVideoPayload"&&e.duplicateVideo.newVideo){t(`${e.duplicateVideo.newVideo?.name||"Duplicated video"} successfully created`);let a=`https://${m.nL}/share/${e.duplicateVideo.newVideo.id}`;e6()(a,{format:"text/plain"}),window.open(a,"_blank")}else k({message:"Oops! Failed to duplicate video.",severity:s.W9.ERROR})},onError:()=>{k({message:"Oops! Failed to duplicate video.",severity:s.W9.ERROR})}}),[P]=(0,e3.j)({variables:{videoIds:[e.id],isArchived:!0},onCompleted:e=>{let{setShowConfirmationToast:t}=eX.x.getState();e?.result?.__typename==="ArchiveVideosPayload"?(t("Video archived"),window.location.href=`${m.OA}${m.wE}`):k({message:"Oops! Failed to archive video.",severity:s.W9.ERROR})},onError:()=>{k({message:"Oops! Failed to archive video.",severity:s.W9.ERROR})}}),{userIsOwner:x,userCanEdit:L,userInSameWorkspace:N,userIsLoomAdmin:R}=a,O=()=>{l()},D=a=>{switch(a){case eZ.Rq:return tI([!e.archived])&&i&&p&&g?{...tS(eZ.Rq),onClick:()=>{let[,t]=(0,eU.t1)({videoUrl:`https://${m.nL}/share/${e.id}`});tw.track(c.tRo,{video_id:e.id,source:"kebab_menu",share_id:t})}}:null;case eZ.Dp:return tI([!e.archived,t.hasAuthenticatedAccess])&&b&&d?{...tS(eZ.Dp),onClick:()=>{r((0,I.h7)({modalType:w.cc,options:{videoId:e.id,setVideo:y,source:eK.B.ChangePrivacy}}))}}:null;case eZ.mo:return b?{...tS(eZ.mo),onClick:()=>{r((0,I.h7)({modalType:w.tq,options:{useResponsive:!0}}))}}:null;case eZ.wn:return h&&b?{...tS(eZ.wn),onClick:()=>{window.open(`https://${m.nL}${m.kp}`,"_self","noopener")}}:null;case eZ.tP:return tI([L,!e.archived,t.hasVideoToolsAccessScope,t.hasAuthenticatedAccess])?{...tS(eZ.tP),disabled:e.isParentOfPersonalizedCopies,onClick:()=>{let t=e.folder??{},a={...e,folder:t},n=[];g&&n.push({type:tv.MU}),r((0,I.h7)({modalType:w.m$,options:{videos:[a],filters:n,navigateToDestinationFolderAfterMove:!1}})),tw.track(c.iMJ,{root_folder:e.folder_id,is_owner:e.isOwner})},title:e.isParentOfPersonalizedCopies?S.createElement(e2.X,{title:eZ.tP,content:"This video contains variables and must remain in its folder."}):eZ.tP}:null;case eZ.iJ:return tI([x||e.isTeamShared&&N,!e.archived,t.hasVideoToolsAccessScope,t.hasAuthenticatedAccess,e.personalizationType!==H.at.Audio])?{...tS(eZ.iJ),onClick:()=>{A(),tw.track(c.hOT,{click_source:"share-page",entity_id:e.id,entity_type:"video",workspace:"private"})}}:null;case eZ.kY:return tI([x||e.isTeamShared&&N,!e.archived,t.hasArchiveAccessScope,t.hasAuthenticatedAccess])?{...tS(eZ.kY),onClick:()=>{P()}}:null;case eZ.HN:{if(!tI([e.downloadable,!v,!e.archived,g]))return null;let a=!t.hasDownloadsScope&&u,l=o.downloadUrl,i=!e.isParentOfPersonalizedCopies&&e.personalizationType===H.at.Audio,s=i?S.createElement(e2.X,{title:eZ.HN,content:"This video contains variables and cannot be downloaded"}):u?S.createElement(e1.Z,{scope:eF.Vm,placement:"rightCenter",title:eZ.HN,feature:ta.lD.DOWNLOAD,highlightText:"Download your video"}):eZ.HN;return{...tS(eZ.HN),disabled:!l||i,icon:a?S.createElement(T.JO$,{color:"disabledContent",icon:S.createElement(tl.Q,null)}):S.createElement(tl.Q,null),onClick:()=>{let t={video_id:e.id,is_owner:e.isOwner};if(tw.track(c.SI4,t),a||null==l)return;let i=`${e.title||e.id}.mp4`,s={url:l,name:i,opts:t,password:E};if(o.shouldShowDownloadInfoModal)r((0,I.h7)({modalType:w.dK,options:s})),n(eg.yA);else{if(!g){r((0,I.h7)({modalType:(0,te.MG)(),options:{header:"Sign up to download this video",hideModeSwitcher:!0,gate:e9.K.HARD_GATE_DOWNLOAD,source:tC}}));return}_(s)}},title:!l&&e?.processingInformation?.trimId?S.createElement(t_,{videoId:e.id,onComplete:O}):s}}case eZ.PL:{if(!tI([e.downloadable,!v,!e.archived,g]))return null;let a=!t.hasDownloadsScope&&u,n=o.captionDownloadUrl,l=u?S.createElement(e1.Z,{scope:eF.Vm,placement:"rightCenter",title:eZ.PL,feature:ta.lD.DOWNLOAD_CAPTIONS,highlightText:"Download captions"}):eZ.PL;return{...tS(eZ.PL),disabled:!n,icon:a?S.createElement(T.JO$,{color:"disabledContent",icon:S.createElement(tp.e,null)}):S.createElement(tp.e,null),onClick:async()=>{if(tw.track(c.l$,{video_id:e.id,is_owner:e.isOwner,source:"kebab_menu",member_role:C.memberRole,current_plan:C.type}),!a){if(!g){r((0,I.h7)({modalType:(0,te.MG)(),options:{header:"Sign up to download these captions",hideModeSwitcher:!0,gate:e9.K.HARD_GATE_DOWNLOAD,source:tC}}));return}if(n)try{await (0,e8.hm)(n,`${e.title||e.id}.srt`),tw.track(c.hyR,{video_id:e.id,is_owner:e.isOwner,member_role:C.memberRole,current_plan:C.type})}catch(e){B.error("Unable to download captions",{error:e},{feature:F.L0.TranscriptExtraction})}}},title:l}}case eZ.yY:return tI([x||e.isTeamShared&&N,t.hasVideoToolsAccessScope,t.hasAuthenticatedAccess])?{...tS(eZ.yY),onClick:()=>{r((0,I.h7)({modalType:w.m5,options:{videos:[{...e,password:E}],redirectUrl:`https://${m.nL}${m.wE}`}}))}}:null;case eZ.rw:return R||W.r8?{...tS(eZ.rw),onClick:()=>{let t=`https://${m.nL}/admin/videos/video-dive/${e.id}`;window.open(t,"_blank")}}:null;case eZ.xJ:{let e=o.contactSalesButtonType;return"none"===e?null:{...tS(eZ.xJ),onClick:()=>{if("modal"===e)r((0,I.h7)({modalType:w.Hx}));else{let e=new URL("/connect/enterprise",window.location.origin);window.open(e.toString(),"_blank")}}}}default:return null}};return tk.map(e=>D(e)).filter(e=>e)},tA=({currentPlanIsFreePlan:e,isDownloadGateExperiment:t})=>{let a=(0,eM.gH)(eF.hx),r=(0,eM.gH)(eF.cM),n=(0,eM.gH)(eF.AS),{setVideo:o,video:i}=(0,_.dPl)(),{needsPassword:s,password:c}=(0,l.u)(),d={hasVideoSharePrivateScope:(0,eM.gH)(eF.w2),hasPersonalLibraryWriteScope:(0,eM.gH)(eF.xN),hasTeamLibraryWriteScope:a,hasVideoToolsAccessScope:r,hasArchiveAccessScope:n,hasAuthenticatedAccess:(0,eM.gH)(eF.ul),hasFavoritesScope:(0,eM.gH)(eF.I_),hasDownloadsScope:(0,eM.gH)(eF.Vm)},u=(0,el.p$)(i?.organizationId),m=(0,eQ.Q2)(),p=(0,v.useCurrentUserSelector)(e=>e.role===tE.GN,!1),g=(0,v.useIsCurrentUserLoggedIn)(),h=(0,k.v9)(tf.Nr),E={userIsOwner:!!i.isOwner,userCanEdit:!!i.currentUserCanEdit,userInSameWorkspace:u,userCanAccessTranscript:m,userIsLoomAdmin:p},[f]=(0,eN.x)(),w={shouldShowDownloadInfoModal:(0,en._)(eg.yA),transcriptStatus:(0,k.v9)(e=>e.share_video?.transcript_details?.transcription_status),captionDownloadUrl:(0,k.v9)(e=>e.video_player?.captionsDetails?.captionsSourceUrl),downloadUrl:(0,k.v9)(e=>e.share_video?.download_url),videoButtonsShowing:(0,eG.ag)(`(min-width: ${e_.wV}px)`),contactSalesButtonType:f?"link":"none"},b=(0,k.I0)(),y=(0,e7.j)(),{fetchShareVideoDownloadUrl:C}=(0,e0.g)(),S=(0,eG.MS)(),I=(0,eG.Bp)(),T=(0,eG.iG)(),A=(0,eI.o)(),P=(0,eD.Qq)();return tT({completeTrigger:y,currentPlanIsFreePlan:e,dispatch:b,extras:w,fetchShareVideoDownloadUrl:C,hideSideNav:A,isDownloadGateExperiment:t,isLoggedIn:g,needsPassword:s,onLargeTablet:I,onLargeTabletOrDesktop:S,onSmallDesktop:T,password:c,permissions:E,scopes:d,setVideo:o,startDownload:P,video:i,workspace:h})};var tP=a(89849),tx=a(2648);let tL=({currentPlanIsFreePlan:e=!1,isDownloadGateExperiment:t=!1})=>{let a=tA({currentPlanIsFreePlan:e,isDownloadGateExperiment:t}),{featureLoadedRef:r}=(0,em.kX)(),n=e=>({title:e.title||"",icon:e.icon||null,onClick:e.onClick||(()=>null),disabled:e.disabled||!1});if(1===a.length){let e=a[0];if(!e||e.title===eZ.Rq)return null;let{title:t,icon:r,onClick:o,disabled:l}=n(e);return S.createElement(T.hU,{altText:t,icon:r,onClick:o,isDisabled:l})}let o=a.filter(Boolean).map(e=>n(e));return S.createElement(tx.Z,null,S.createElement("div",{ref:r},S.createElement(T.Ltx,{options:o,trigger:S.createElement(T.ua7,{tabIndex:-1,content:"More actions",placement:"bottomCenter"},S.createElement(T.hU,{"data-testid":"toggleActions",id:"toggleActions",altText:"Toggle actions",icon:S.createElement(tP.s,null)})),menuPosition:"right",menuZIndex:1001})))},tN=e=>S.createElement(ed.$,{feature:F.L0.OverflowActionsMenu,errorType:eu.s.SILENT},S.createElement(tL,{...e}));var tR=a(76623);let tO=({videoId:e})=>{let t=(0,eG.Bp)(),{shouldShowLoomBranding:a}=(0,E.e)({videoId:e});return a?S.createElement(T.ggW,{gap:t?1:3},[{name:"Learn to Loom",path:m.rJ},{name:"How to Record",path:m.d4},{name:"Loom Blog",path:m.RM},{name:"Pricing",path:m.$r}].map((e,t)=>S.createElement(T.Avr,{htmlTag:"a",className:"weight:book",key:t,href:`https://loom.com${e.path}`,onClick:()=>tw.track(c.mix,{path:e.path}),target:"_blank"},e.name))):null},tD=({userIsMemberOfVideoWorkspace:e,onClick:t})=>{let a=(0,eG.MS)();return S.createElement("div",{className:"relative"},S.createElement(T.zxk,{"data-testid":"share-modal-button",variant:e?"primary":"neutral",icon:S.createElement(th.X,null),onClick:t,size:a?"medium":"small"},"Share"))},tM=({isLoggedIn:e,videoId:t,source:a})=>{let r=(0,k.I0)(),{setVideo:n,video:{organizationId:o}}=(0,_.dPl)(),l=(0,_.nn3)(t),i=(0,el.hP)(),s=null;return i?.id?s=Number(i.id)===o:e||(s=!1),null===s?null:S.createElement(T.ua7,{content:"Share video",placement:"bottomCenter"},S.createElement(tD,{userIsMemberOfVideoWorkspace:s,onClick:()=>{l?.pause(),r((0,I.h7)({modalType:w.cc,options:{source:eK.B.ShareButton,videoId:t,setVideo:n}})),tw.track(c.WT_,{video_id:t,source:a})}}))},tW=({isLoggedIn:e,videoId:t,videoTitle:a,showCopyLinkTutorial:r,viewerInMatchingWorkspace:n})=>S.createElement(T.ggW,{gap:n?"1px":"0"},S.createElement("div",{className:"split-share-copy-button_leftButton_2FZ"},S.createElement(tM,{isLoggedIn:e,videoId:t,source:"share_page"})),S.createElement("div",{className:"split-share-copy-button_rightButton_1wJ"},S.createElement(eP.V,{videoId:t,videoName:a,analyticsSource:"share_page",showTutorial:r,variant:n?"primary":"neutral"})));var tV={headerContentWrapper:"header-content_headerContentWrapper_1Rc",bubble:"header-content_bubble_2mU"};let tU=()=>S.createElement(T.LZC,{top:1,bottom:1},S.createElement(T.ggW,{gap:"medium"},S.createElement(T.W20,{height:4,width:4,backgroundColor:"disabledBackground",radius:"full"}),S.createElement(T.W20,{height:4,width:12,backgroundColor:"disabledBackground",radius:"full"}))),t$=({downloadUrl:e,isLoggedIn:t,fromRecorderParam:a,fromTutorialParam:r})=>{let n=(0,eD.Qq)(),o=(0,el.hP)(),l=(0,eG.K)(),i=(0,ej.q)("unseenNotifications"),s=(0,eR.T)(),{video:{downloadable:c,id:d,isOwner:u,title:p,organizationId:g}}=(0,_.dPl)(),h=(0,L.l)(d),{password:v}=(0,y.u)(),[E]=(0,eN.x)(),f=(0,eO.Mr)({flag:eB.tJe,activationValues:["variant-2"]}),w=(0,el.p$)(g),b=(0,eM.gH)(eF.Vm),C=`${p||d}.mp4`;(0,S.useEffect)(()=>{let a=(0,eU.jS)("start_download");if(b&&a&&t&&c){n({url:e,name:C,opts:{video_id:d,is_owner:u},password:v});let{pathname:t,search:a}=window.location,r=(0,eU.t9)(["start_download"],a);window.history.replaceState("","",`${t}${r}`)}},[b,C,e,c,t,u,d,v,n]);let{featureLoadedRef:k}=(0,em.kX)(),I=(0,eI.o)(),A=o.type===ez.UK,P=(0,eW.N)(),x=(0,M.UV)(),N=!t&&!l,R=!t&&l,O=P&&!l,D=!!(a&&r&&u),{show:W}=(0,eV.Q)(),V=(0,eG._T)();return x?S.createElement(S.Fragment,null):void 0===f?S.createElement(eJ,null,S.createElement("div",{ref:k},S.createElement(ek.z,{query:`(min-width: ${e_.aH}px)`},S.createElement(tU,null)))):N?S.createElement(eJ,null,S.createElement("div",{ref:k},S.createElement(tO,{videoId:d}))):R?S.createElement(eJ,null,S.createElement("div",{ref:k},S.createElement(eP.u,{videoId:d,videoName:p,analyticsSource:"share_page",showTutorial:D}))):S.createElement(eJ,null,S.createElement("div",{ref:k,className:tV.headerContentWrapper},S.createElement(T.ggW,{gap:"medium"},I?null:S.createElement(ek.z,{query:`(min-width: ${e_.aH}px)`},S.createElement(ex.default,null)),S.createElement(tR.l,{videoId:d}),W||!A||V?S.createElement(tW,{isLoggedIn:t,videoId:d,videoTitle:p,showCopyLinkTutorial:D,viewerInMatchingWorkspace:w}):S.createElement(eP.u,{videoId:d,videoName:p,analyticsSource:"share_page",showTutorial:D}),I?S.createElement(S.Fragment,null,O&&!W?S.createElement(ek.z,{query:`(min-width: ${e_.aH}px)`},S.createElement(eL.C,{minimal:!0,shouldShowIncentives:s})):null,S.createElement(eC.U,{LoomUI:E&&!l?S.createElement(eA.e,null):W?null:S.createElement(eT.e,null),AtlassianUI:W?null:S.createElement(eS.v,null)}),S.createElement(ek.z,{query:`(min-width: ${e_.Sx}px)`},S.createElement(ex.default,null),S.createElement(T.ua7,{content:"Notifications",placement:"bottomCenter"},S.createElement("div",null,i>0&&S.createElement("div",{className:tV.bubble},S.createElement(T.W20,{backgroundColor:"record",height:"small",width:"small"})),S.createElement(T.hU,{altText:"Notifications",icon:S.createElement(e$.O,null),onClick:e=>{e.metaKey||e.ctrlKey?window.open(`https://${m.nL}${m.kp}`,"_blank"):window.open(`https://${m.nL}${m.kp}`,"_self","noopener")}}))))):null,h?null:S.createElement(tN,{currentPlanIsFreePlan:A,isDownloadGateExperiment:f}))))},tB=e=>S.createElement(ed.$,{feature:F.L0.Header,errorType:eu.s.SILENT},S.createElement(t$,{...e}));var tF=a(66009),tz=a(44314),tH=a(40240),tq=a(75114),tJ=a(54136),tj=a(3273),tG=a(67184),tZ=a(65559);let tX=(0,q.Ps)`
    subscription FetchTranscriptStatusChanged($videoId: ID!) {
  transcriptStatus(videoId: $videoId) {
    status
  }
}
    `;var tY=a(14095);let tK={},tQ=(0,q.Ps)`
    query FetchTranscriptStatusForFetchTranscript($videoId: ID!, $password: String) {
  fetchVideoTranscript(videoId: $videoId, password: $password) {
    ... on VideoTranscriptDetails {
      id
      video_id
      transcription_status
    }
    ... on GenericError {
      message
    }
  }
}
    `,t0={},t1=(0,q.Ps)`
    query FetchVideoTranscriptForFetchTranscript($videoId: ID!, $password: String) {
  fetchVideoTranscript(videoId: $videoId, password: $password) {
    ... on VideoTranscriptDetails {
      id
      video_id
      s3_id
      version
      transcript_url
      captions_url
      processing_service
      transcription_status
      processing_start_time
      processing_end_time
      createdAt
      updatedAt
      source_url
      captions_source_url
      language
    }
    ... on GenericError {
      message
    }
  }
}
    `,t2=()=>{let e=(0,k.I0)(),{showErrorBar:t}=(0,f.gV)(),{video:{activeVideoTranscriptId:a,id:r}}=(0,_.dPl)(),{password:n}=(0,y.u)(),[o,l]=(0,S.useState)(!1),i=(0,k.v9)(tZ.Rr),c=(0,eQ.Q2)(),{password:d}=(0,y.u)(),u=(0,k.v9)(eE.NX),m=(0,k.v9)(tZ.$z),p=(0,tH.J$)(),g=(0,S.useRef)(null),h=(0,S.useRef)(null),[v,{error:E}]=function(e){let t={...t0,...e};return tY.t(t1,t)}({fetchPolicy:"no-cache",onCompleted:async a=>{let{fetchVideoTranscript:n}=a;if(n?.__typename==="GenericError"){let e=n?.message;t({message:"Oops! Failed to fetch transcript.",severity:s.W9.ERROR}),B.error(e,{message:`Error fetching transcript for video id ${r}: ${e}`,videoId:r},{team:F.SZ.CreatorX});return}let{captions_url:o,captions_source_url:l}=n,i={...n};["__typename","captions_url","captions_source_url"].forEach(e=>delete i[e]),e((0,z.BA)(i)),e((0,tG.FL)({captionsUrl:o,captionsSourceUrl:l}));let c=(0,tj.fz)(n.transcription_status);m===tq.m.STARTED&&c&&e((0,z.yX)(tq.m.FINISHED));let d=i?.source_url||null,u=i?.transcription_status||null;if(e((0,tG.Mb)(i.transcription_status)),!(u&&(0,tj.dN)(u)&&d)||!d)return;let p=await (0,tz.Z)(d);if(!p.ok){B.error("Failed to fetch transcript json",{message:"Failed to fetch transcript json",videoId:r},{team:F.SZ.CreatorX});return}let g=await p.json();if(g?.phrases){let e=g.phrases.filter(e=>e?.ts>=0);g.phrases=e}e((0,tF._W)(g))},onError:e=>{t({message:"Oops! Failed to fetch transcript.",severity:s.W9.ERROR}),B.error(e,{message:`Error fetching transcript for video id ${r}: ${e}`,videoId:r},{team:F.SZ.CreatorX})}}),w=(0,S.useCallback)(()=>{a&&v({variables:{videoId:r,password:d||null}})},[a,v,d,r]),[b]=function(e){let t={...tK,...e};return tY.t(tQ,t)}({fetchPolicy:"no-cache",onCompleted:e=>{let{fetchVideoTranscript:t}=e;if(t?.__typename!=="VideoTranscriptDetails"){let e=t?.message;B.error(`Failed to fetch VideoTranscriptDetails for video id ${r}: ${e}`,{videoId:r},{feature:F.L0.TranscriptPanel});return}let a=t?.transcription_status;C(a)},onError:e=>{B.error(e,{message:`Error while fetching transcript status for ${r}`,videoId:r},{team:F.SZ.CreatorX})}}),C=(0,S.useCallback)(t=>{tJ.f.includes(t)&&(e((0,z.IM)(t)),e((0,tG.Mb)(t))),!(!(0,tj.fz)(t)&&tJ.f.includes(t))&&(w(),g.current&&(g.current.unsubscribe(),g.current=null),h.current&&(clearInterval(h.current),h.current=null))},[e,w]);return(0,S.useEffect)(()=>{a&&c&&!o&&(w(),l(!0))},[a,o,e,w,c,n]),(0,S.useEffect)(()=>{if(!(!a||!c||!o||!(!i||u!==tJ.MR)||E))try{if((0,tj.fz)(u)||g.current)return;g.current=p.subscribe({variables:{videoId:r},query:tX}).subscribe(e=>{let{data:{transcriptStatus:{status:t}}}=e;C(t)}),w(),h.current=setInterval(()=>{b({variables:{videoId:r,password:n||null}})},3e4)}catch(e){B.error(e,{message:`Error subscribing to transcript status for video id ${r}: ${e}`,videoId:r},{feature:F.L0.TranscriptInsights})}},[a,o,e,i,c,E,r,n,d,u,w,b,C,p]),(0,S.useEffect)(()=>()=>{g.current&&(g.current.unsubscribe(),g.current=null),h.current&&(clearInterval(h.current),h.current=null)},[]),null};var t4=a(41245),t6=a(95666),t3=a(33617),t5=a(58437);let t7=(0,ei.r)(()=>a.e(3852).then(a.bind(a,53852)).then(e=>({default:e.AnonymousShareHeader}))),t9=()=>S.createElement(S.Suspense,{fallback:null},S.createElement(t7,null)),t8=(0,ei.r)(()=>a.e(6209).then(a.bind(a,11449)).then(e=>({default:e.CelebrationLayer}))),ae=e=>S.createElement(S.Suspense,{fallback:null},S.createElement(t8,{...e}));var at=a(61435),aa=a(52069);let ar=()=>{let e=(0,k.I0)(),t=(0,_.n_$)(),a=(0,k.v9)(eE._R),r=(0,k.v9)(eE.lP),n=(0,k.v9)(at.r7),o=S.useCallback(()=>{let t=!document.querySelector(".theaterMode");e((0,tG.zn)(t)),e((0,z.Eu)(t)),(0,aa.Ly)("theaterMode",t),t&&a&&e((0,tG.Fz)(!1)),(0,tw.track)(c.IQs,{on:t})},[a,e]);return S.useEffect(()=>{a&&(e((0,z.Eu)(n||r)),e((0,tG.zn)(!1)))},[a,e]),S.useEffect(()=>{if(!t)return;let a=()=>{e((0,tG.bN)())};return t.on([_.pHy.ready],a),t.on([_.zwB.toggleTheaterMode],o),()=>{t.off([_.pHy.ready],a),t.off([_.zwB.toggleTheaterMode],o)}},[t,e,o]),null},an=(0,ei.r)(()=>a.e(4964).then(a.bind(a,24964)).then(e=>({default:e.EngagementBar}))),ao=()=>S.createElement(S.Suspense,{fallback:null},S.createElement(an,null));var al=a(73845),ai=a(7727),as=a(34007),ac=a(70836),ad=a(84515);let au={},am=(0,q.Ps)`
    query GetSuggestedWorkspaceBanner {
  result: getSuggestedWorkspaceForCurrentUser {
    __typename
    ... on JoinableWorkspace {
      ...SuggestedWorkspaceFragment
    }
  }
}
    ${ac.t}`;var ap=a(34017);let ag={},ah=(0,q.Ps)`
    mutation RequestToJoinWorkspaceMutation($workspaceId: ID!) {
  result: requestToJoinWorkspace(workspaceId: $workspaceId) {
    __typename
    ... on RequestToJoinWorkspacePayload {
      status
      message
      workspace {
        id
        autoJoin
        requestStatus
      }
    }
  }
}
    `;var av=a(55347),aE=a(81895),af=a(70978),aw=a.n(af),ab=a(68066);let ay=({memberCount:e,suggestedWorkspace:t,requestPending:a,autoJoin:r,avatars:n=[],handleSetDismissed:o,onRequestClick:l})=>S.createElement(S.Fragment,null,S.createElement(ek.z,{query:`(min-width: ${e_.U2}px)`},S.createElement(T.W20,{paddingX:"large"},S.createElement(T.W20,{backgroundColor:"blurpleLight",paddingX:"large",paddingY:"medium",width:"100%",radius:"large",marginTop:"large",marginBottom:"xlarge"},S.createElement(T.ggW,{autoFlow:"column",justifyContent:"space-between"},S.createElement(T.ggW,{autoFlow:"column",gap:"small"},S.createElement(av.Z,{userData:n,maxImages:4,alignment:"left",avatarSize:4}),S.createElement(T.xvT,{htmlTag:"p"},S.createElement("span",{className:"mr:xsmall",role:"img","aria-label":"megaphone"},"\uD83D\uDCE3"),S.createElement(T.xvT,{htmlTag:"span",isInline:!0,fontWeight:"bold"},"Your team is on Loom!"," "),"Join"," ",S.createElement(T.xvT,{isInline:!0,fontWeight:"bold"},e," "),aw()("other",e)," in"," ",S.createElement(T.xvT,{isInline:!0,fontWeight:"bold"},t.name," "),"and gain access to your teamâ€™s content!")),S.createElement("div",null,S.createElement(T.Avr,{className:"c:blurpleDark mr:small",disabled:a,onClick:()=>{l(t.id)}},a?"Requested":r?"Join":"Request"),a?null:S.createElement(T.Avr,{onClick:o},"Dismiss")))))),S.createElement(ek.z,{query:`(max-width: ${e_.aH}px)`},S.createElement(T.W20,{backgroundColor:"blurpleLight",paddingRight:"xsmall",paddingLeft:"large",paddingY:"medium",marginTop:"large",marginBottom:"xlarge",width:"100%"},S.createElement(T.ggW,{autoFlow:"column",justifyContent:"space-between"},S.createElement(T.ggW,{gap:"medium"},S.createElement(aE.Z,{workspace:t,size:5}),S.createElement(T.ggW,{autoFlow:"row"},S.createElement(T.xvT,{fontWeight:"bold"},"Join your team on Loom"),S.createElement(T.xvT,{color:"bodyDimmed",size:"body-sm"},t.name," - members"))),S.createElement(T.W20,null,S.createElement(T.zxk,{disabled:a,onClick:()=>{l(t.id)},variant:"primary"},a?"Pending":"Join"),S.createElement(T.hU,{className:"ml:small",altText:"Dismiss",icon:S.createElement(ab.G,null),onClick:o})))))),a_=({organizationId:e})=>{let[t,a]=(0,S.useState)(!1),{data:r,loading:n}=function(e){let t={...au,...e};return ad.a(am,t)}({skip:!e,fetchPolicy:"cache-first"}),[o]=function(e){let t={...ag};return ap.D(ah,t)}();if(!r?.result||r?.result?.__typename!=="JoinableWorkspace")return null;let l=function(e){let{requestStatus:t,hasPendingInvitation:a,autoJoin:r,workspace:n,isCurrentUserMember:o}=e,l=n?.counts?.users.total_active_workspace_users??0,i=n?.members?.nodes?.map((e,t)=>({id:t,name:e?e.user.first_name:null,avatarSrc:e?al.B(e.user.avatars):void 0}));return{workspace:{id:n?.id??"",name:n?.name??"",workspaceLogoPath:n?.workspaceLogoPath??void 0},memberCount:l??void 0,hasPendingInvitation:a,autoJoin:r??null,avatars:i??[],requestStatus:t,isCurrentUserMember:o??null}}(r.result),i=Number(l.workspace.id)===Number(e),s=l.requestStatus===as.i.PENDING,d=!l.isCurrentUserMember&&!t&&!n&&!l.hasPendingInvitation&&!s&&i;return d?S.createElement(ay,{memberCount:l.memberCount,suggestedWorkspace:l.workspace,requestPending:s,autoJoin:l.autoJoin,avatars:l.avatars,handleSetDismissed:()=>{a(!0)},onRequestClick:function(e){o({variables:{workspaceId:e},onCompleted:t=>{t.result?.__typename==="RequestToJoinWorkspacePayload"&&t.result.status&&(tw.track(c.U$H,{source:"share-page-banner",status:t.result.status,suggestedWorkspaceId:e}),t.result.status===ai.CA&&(window.location.href="/"))}})}}):null};var aC=a(33439),aS=a(5309),ak=a(24861);let aI=(0,ei.r)(()=>Promise.resolve().then(a.bind(a,25320)).then(e=>({default:e.RecordButton}))),aT=()=>{let{isSDKSupported:e}=(0,aS.a)();return!(0,eG.K)()&&e?S.createElement(T.W20,{position:"fixed",bottom:2.5,zIndex:10},S.createElement(S.Suspense,{fallback:null},S.createElement(aI,{priorityList:[ak.Bq]},S.createElement(Q.w,{isCollapsed:!1})))):S.createElement("div",{className:"share-video-loom-badge-section"},S.createElement(aC.H,{href:m.OA,title:"Loom homepage"}))};var aA=a(96577),aP=a(74137),ax=a(69807),aL=a(51527),aN=a(34282);let aR={[aN.HS]:"This file is currently unsupported on Loom",[aN.n7]:"Suspicious content found in file. This file will be removed from your library.",[aN.Wn]:"There was an issue processing your video.",[aN.yZ]:`The Frames Per Second of your video is above the allowed limit: ${aN.eS}fps.`,[aN.aY]:"The resolution of your video is above the allowed limit: (4k)",[aN.TR]:`The video length is longer than the allowed limit: ${aN.q} hours`},aO=`${m.wE}?upload=1`,aD=()=>{window.location.href=m.wE},aM=()=>{window.location.href=aO},aW=()=>{let{video:{processingInformation:e,videoProperties:{recordingVersion:t}}}=(0,_.dPl)(),{featureLoadedRef:a}=(0,em.kX)(),{videoUploadMessage:r,videoUploadValid:n}=e??{};return S.createElement("div",{ref:a},S.createElement(T.u_l,{isOpen:t===aL.V4&&!1===n,mainButton:S.createElement(T.zxk,{href:aO,htmlTag:"a",variant:"primary",onClick:aM},"Upload New File"),secondaryButton:S.createElement(T.zxk,{href:m.wE,htmlTag:"a",onClick:aD},"Go to Personal Library")},S.createElement(T.xvT,{fontWeight:"bold",size:"body-lg"},r&&aR[r]||"The file could not be processed")))};var aV=()=>S.createElement(ed.$,{feature:F.L0.VideoUpload,errorType:eu.s.DEFAULT},S.createElement(aW,null)),aU=a(42145),a$=a(72357);let aB=(0,ei.r)(()=>a.e(8705).then(a.bind(a,8705)).then(e=>({default:e.AnonymousShareGateDesktopModal}))),aF=({showModal:e=!0,gate:t=e9.K.ASG})=>S.createElement(S.Suspense,{fallback:null},S.createElement(aB,{showModal:e,gate:t}));var az=a(65238);let aH=(0,ei.r)(()=>a.e(6102).then(a.bind(a,16102)).then(e=>({default:e.AnonymousShareGateMobileModal}))),aq=({showModal:e=!0})=>S.createElement(S.Suspense,{fallback:null},S.createElement(aH,{showModal:e}));var aJ=a(51432),aj=a(98768),aG=a(3891),aZ=a(30144),aX=a(94713),aY=a(35549),aK=a(91320);let aQ=({isOpen:e,onClose:t,url:a,videoId:r})=>{let{featureLoadedRef:n}=(0,em.kX)(),o=(0,v.useCurrentUserSelector)(e=>e.email,void 0),{anonUserName:l}=(0,b.P)(),i=l&&aX.EMAIL_REGEX_CHECK.test(l)?l:"";return(0,S.useEffect)(()=>{tw.track(c.xh5,{videoId:r})},[r]),(0,aZ.pv)({onProfilePageViewed:()=>{tw.track(c.ynt,{videoId:r})},onDateAndTimeSelected:()=>{tw.track(c.Vdt,{videoId:r})},onEventTypeViewed:()=>{tw.track(c.LeQ,{videoId:r})},onEventScheduled:()=>{tw.track(c.vef,{videoId:r})}}),S.createElement("div",{ref:n},S.createElement(aZ.pd,{url:a,open:e,onModalClose:t,rootElement:document.body,prefill:{email:o||i}}))},a0=()=>{let{video:e}=(0,_.dPl)(),{status:t}=(0,aj.yQ)(e.id),{didRequestCalendlyModal:a,setDidRequestCalendlyModal:r}=(0,aK.V)(),n=(0,eU.Ew)(String(e?.cta?.url)),o=aX.wG.test(n),l="ended"===t,i=(0,aG.D)(l),s=(0,aG.D)(a),[c,d]=(0,S.useState)(!1),{isOwnerInCalendlySegment:u,loading:m,error:p}=(0,aY.e)(e.id,o);return(0,S.useEffect)(()=>{!o||!u||(l&&l!==i||a&&a!==s)&&d(!0)},[o,u,l,a,i,s]),m||p?null:c?S.createElement(ed.$,{feature:F.L0.Calendly,errorType:eu.s.SILENT},S.createElement(aQ,{isOpen:c,onClose:()=>{d(!1),r(!1)},url:n,videoId:e.id})):null};var a1=a(42584),a2=a(34698),a4=a(15878),a6=a(62189),a3=a(31744);let a5=(0,a3.P1)([e=>e.workspace.workspaces,(e,t)=>t],(e,t)=>e.find(e=>e.id===t)?.memberLimits),a7=(e,t=null)=>{let a=(0,el.hP)(),r=t||a.id,n=(0,k.v9)(e=>a5(e,r));return e?n?.[e]:n};var a9=a(63295),a8=a(21507);let re={},rt=(0,q.Ps)`
    mutation UpdateUserReachedRecordingLimitChecklistItem($userId: ID!) {
  successful: updateUserReachedRecordingLimitChecklistItem(userId: $userId)
}
    `,ra=({videoDurationLimitToString:e,showToast:t})=>{let a=(0,el.nw)()!==a6.Xx?"send a request to your admin to upgrade":"upgrade";return S.createElement(T.FNi,{isOpen:t},S.createElement(T.Pag,{gap:"medium"},S.createElement(T.I7m,{basis:35},S.createElement(T.xvT,{fontWeight:"bold"},"You've hit the ",e," recording limit."),S.createElement(T.xvT,{size:"body-sm"},"Create videos with unlimited recording time on the"," ",S.createElement("strong",null,"Business plan")," or above. Click to ",a,".")),S.createElement(T.I7m,{grow:1},S.createElement(a1.Z,{analyticsEvent:c.ChR,hideTooltip:!0}))))},rr=({videoDurationLimitToString:e,showModal:t})=>{let[a,r]=(0,S.useState)(t),n=()=>{(0,tw.track)(c.pi$),r(!1)};return S.createElement(T.u_l,{isOpen:t,onCloseClick:n,onBackgroundClick:n,maxWidth:55},S.createElement(T.ggW,{gap:2,autoFlow:"row",justifyItems:"center"},S.createElement("img",{alt:"Person standing in arched doorway with speech bubbles, illustrated",src:a8,height:"88",width:"77"}),S.createElement(T.xvT,{htmlTag:"h1",variant:"mainTitle",alignment:"center"},"You've got a lot to say!"),S.createElement(T.xvT,{alignment:"center",color:"bodyDimmed"},"You've hit the ",e," recording limit. If you have more to add, upgrade for unlimited recording time."),S.createElement(a1.Z,{analyticsEvent:c.sZK,defaultButtonText:"Upgrade for unlimited recordings",hideTooltip:!0}),S.createElement(T.Avr,{onClick:n},"Go to my video")))},rn=({fromRecorderParam:e,recordingLimitParam:t})=>{let[a,r]=(0,S.useState)(!1),[n,o]=(0,S.useState)(!1),l=(0,a9.Z)(a4.co),i=a7(a4.co),s=l||i,d=s?s<60?`${s} second`:`${s/60} minute`:"",u=(0,v.useCurrentUserSelector)(e=>e.id,NaN),m=(0,k.v9)(e=>{(0,a2.R5)(e,[eF.kJ,eF.FC])})&&s&&t&&e,[p,{loading:g}]=function(e){let t={...re,...e};return ap.D(rt,t)}({variables:{userId:u},onCompleted:e=>{m&&(e.successful?(r(!1),o(!0)):(r(!0),(0,tw.track)(c.Eo8)))},onError:e=>{B.warning(e,{userId:u})}});return(0,S.useEffect)(()=>{p({variables:{userId:u}})},[m]),!m||g?null:S.createElement(S.Fragment,null,S.createElement(ra,{videoDurationLimitToString:d,showToast:n}),S.createElement(rr,{videoDurationLimitToString:d,showModal:a}))};var ro=a(60398),rl=a(6180),ri=a(27584),rs=a(45218),rc=a(20537);let rd={},ru=(0,q.Ps)`
    query GetIsFirstRecording($fromRecorder: Boolean!, $videoId: String!) {
  getCurrentUser {
    __typename
    ... on GetCurrentUserPayload {
      user {
        id
        isFirstRecording(fromRecorder: $fromRecorder, videoId: $videoId)
      }
    }
  }
}
    `,rm=({fromRecorderParam:e,recordingLimitParam:t})=>{let{video:{hasLoomBranding:a=!0,videoWorkspacePlan:r,id:n}}=(0,_.dPl)(),o=(0,eo.A)({videoId:n}),l=(0,eO.Mr)({flag:eB.vL2,activationValues:[!0]}),i=(0,eO.Mr)({flag:eB.wQD,activationValues:[!0]}),s=(0,eO.Mr)({flag:eB.EjA,activationValues:aP.y}),{loading:c,data:d}=function(e){let t={...rd,...e};return ad.a(ru,t)}({variables:{fromRecorder:e,videoId:n}}),u=(!c&&d?.getCurrentUser?.__typename==="GetCurrentUserPayload"&&d?.getCurrentUser?.user?.isFirstRecording)??!1,{value:m,loading:p}=(0,a$.B)(eh.BR.SEASONAL_LAUNCH_MODAL),{value:g,loading:h}=(0,a$.B)(eh.BR.SEASONAL_LAUNCH_TOUR),{selectedWorkspace:E,isFetching:f}=(0,el.mf)(),w=(0,v.useIsCurrentUserLoggedIn)(),b=E?.type===ez.Fs,y=E?.type===ez.UK||E?.type===ez.q1,C=(0,eU.ke)("resume-anon-signup"),k=(0,eM.gH)(eF.Ce),I=w&&o&&!c&&!u&&!C&&!f&&!b&&!k&&y&&void 0!==E,T=!s&&I&&l&&!m&&!p,A=!s&&I&&i&&!g&&!h,P=!!(0,eO.W9)(eB.EI5),x=(0,v.useCurrentUserSelector)(e=>e.memberships?.[0]?.organization.is_pure_trial??!1,!1),{data:L}=(0,aU.rj)({variables:{workspaceId:E?.id},skip:!E?.id}),N=L?.customer?.__typename==="LoomCustomer"?L.customer:null,R=(0,ro.yO)(N),{loading:O,value:D}=(0,rc.h)(rs.aM.ALLOWS_AI),M=(0,ri.df)(E),W=E?.type===ez.q1&&x&&!R,{value:V,loading:U}=(0,a$.B)(eh.BR.SEASONAL_LAUNCH_MODAL_VARIANTS),$=w&&o&&!c&&!u&&!C&&!f&&!b&&void 0!==E&&P&&!M&&!W&&!O&&!!D&&s&&!V&&!U,B=r===ez.UK||r===ez.Fs||r===ez.q1,F=rl.tq&&!w&&B&&a,z=!rl.tq&&!w&&B&&a,H=(0,aJ.o3)({meetsAsgMobilePrecheck:F}),q=(0,az.Bu)({meetsAsgDesktopPrecheck:z});return S.createElement(S.Fragment,null,S.createElement(a0,null),S.createElement(aV,null),o?S.createElement(rn,{fromRecorderParam:e,recordingLimitParam:t}):null,H?S.createElement(aq,{showModal:!0}):null,q?S.createElement(aF,{showModal:!0,gate:e9.K.ASG}):null,T||A?S.createElement(v.LoggedInOnly,null,S.createElement(ax.X,{currentUserIsOwner:o,workspace:E,skipModal:!T&&A})):null,$?S.createElement(v.LoggedInOnly,null,S.createElement(aA.X,{workspace:E,skipModal:!$&&!1})):null)};var rp=a(91564),rg=a(44249),rh=a(17838),rv=a(37713),rE=a(21844),rf=a(84435),rw=a(84888),rb=a(60176),ry=a(10768);let r_={},rC=(0,q.Ps)`
    query GetAiTrialData($workspaceId: ID!) {
  customer: getCustomer(workspaceId: $workspaceId) {
    __typename
    ... on LoomCustomer {
      metadata {
        fall24_trial
      }
    }
  }
  billing: getWorkspaceBillingDetails(workspaceId: $workspaceId) {
    billing_details {
      plan {
        pure_trial
      }
      add_ons {
        id
        price {
          id
          nickname
          product
          unit_amount
          recurring {
            interval
            interval_count
          }
        }
      }
    }
  }
}
    `,rS=({variant:e="ai-limit",isOpen:t,purchaseType:a})=>{let[r,n]=(0,S.useState)(t),o=(0,rE.st)(),l=(0,rw.hP)();(0,S.useEffect)(()=>{tw.track("loom_ai_trial_ended_popup_impression",{purchase_type:a,workspace_type:l?.type})},[a,l]);let i="ai-limit"===e?S.createElement(S.Fragment,null,S.createElement(T.xvT,{size:"heading-md",fontWeight:"bold",alignment:"center",color:"body",noWrap:!0},"Your Loom AI"),S.createElement(T.W20,{htmlTag:"span",position:"relative",top:"-5px"},S.createElement(T.TRl,{brand:"ai",maxWidth:2,variant:"symbol"})),S.createElement(T.LZC,{left:"small"}),S.createElement(T.xvT,{size:"heading-md",fontWeight:"bold",alignment:"center",color:"body",noWrap:!0},"trial is ending")):S.createElement(T.xvT,{size:"heading-md",fontWeight:"bold",alignment:"center",color:"body",noWrap:!0},"Your Loom trial has ended");return S.createElement(T.W20,{position:"relative",zIndex:1e3},S.createElement(er.Z,{name:eh.BR.LOOM_AI_TRIAL_ENDED_FTUX},S.createElement(T.u_l,{isOpen:r,onCloseClick:()=>{n(!1),o(eh.BR.LOOM_AI_TRIAL_ENDED_FTUX),tw.track("loom_ai_trial_ended_dismiss_click")},maxWidth:86,noPadding:!0,"data-lens-theme":"dark"},S.createElement(rk,null,S.createElement(T.xMy,{alignment:"center"},S.createElement(T.ggW,{gap:"medium",rows:["1fr","1fr","1fr"],justifyContent:"center"},S.createElement("div",{className:"flex flexDirection:row"},i),S.createElement(T.xvT,{alignment:"center",color:"body"},"ai-limit"===e?"Enjoy AI features for one more time on this video. Upgrade to get unlimited access to Loom AI.":"Upgrade to get unlimited access to editing and AI."),S.createElement("div",null,S.createElement(T.xMy,{alignment:"center"},S.createElement(rg.F,{cta:"fall-24-trial"===e?"Upgrade":void 0,purchaseType:a,buttonVariant:"primary",onCloseClick:async()=>{await o(eh.BR.LOOM_AI_TRIAL_ENDED_FTUX);let e=new URL("/upgrade-plan",window.location.origin);e.searchParams.append("addon",H.e9.Ai),e.searchParams.append("type","annually"),window.location.href=e.toString()},source:rp.y.AI_TRIAL_ENDED_MODAL})))))))))},rk=({children:e})=>S.createElement(T.W20,{backgroundColor:"#2B1C50",padding:"xlarge",minHeight:"375px",position:"relative",overflow:"hidden"},S.createElement(T.W20,{position:"absolute",top:"0",left:"0",right:"0",bottom:"0"},S.createElement(rh.R,{size:20,position:[-100,100]}),S.createElement(rh.R,{size:18,position:[-6,-152]}),S.createElement(rh.R,{size:6,position:[92,-20]}),S.createElement(rh.R,{size:2.5,position:[72,68]})),S.createElement(T.W20,{position:"relative",height:"100%",maxWidth:"410px",marginX:"auto",paddingTop:"medium"},e)),rI=()=>{let e=(0,rf.q)(),t=(0,k.v9)(at.Pw),a=(0,rw.hP)(),r=(0,v.useCurrentUserSelector)(e=>e.id,NaN),{data:n,loading:o}=function(e){let t={...r_,...e};return ad.a(rC,t)}({variables:{workspaceId:a?.id},skip:!a?.id}),l=n?.billing?.billing_details,i=(n?.customer?.__typename==="LoomCustomer"?n.customer:null)?.metadata.fall24_trial==="completed",{data:s,loading:c}=(0,rv.qL)({variables:{userId:r,workspaceId:a?.id},fetchPolicy:"no-cache",skip:!a?.id}),d=a?.type,u=!!l?.plan?.pure_trial,m=a?.organization_properties?.salesSupportType===ry.$v||d===ez.zF,p=l?.add_ons??[],g=p?p.find(e=>(0,rb.Sp)(e.price.product).addon===H.e9.Ai):void 0,h=g&&a?.memberRole===a6.N,E=!g&&a?.memberRole!==a6.Xx,f=h||E?"request-ai":g?"has-ai-addon":m?"sales-led":d===ez.UK||u?"with-base-plan":"add-on-only",w=+(1===(a?.memberLimits??{})[a4.AI]),b=t&&e&&!g&&w||i||!1;return a&&!o&&s&&!c&&b?S.createElement(rS,{variant:i?"fall-24-trial":"ai-limit",isOpen:b,purchaseType:f}):null};var rT=a(25653),rA=a(62989);let rP=({children:e,useAnonymousNavigation:t,videoId:a})=>S.createElement(S.Fragment,null,S.createElement("div",null,S.createElement(rT.A,{useAnonymousNavigation:t,mainContentHasFullWidth:!0,isShareVideo:!0,videoId:a},S.createElement(X.Gm,{name:rA.j8.ShareVideoIndexSharedErrorBoundary,feature:F.L0.SharePage},e)))),rx=()=>(rR(),rN(),rL(),null),rL=()=>{let{setChapters:e}=(0,_.dPl)(),t=(0,k.v9)(at.QN);S.useEffect(()=>{void 0!==t&&e(t)},[t,e])},rN=()=>{let{setCta:e}=(0,_.dPl)(),t=(0,k.v9)(at.c3),a=(0,k.v9)(at.tV);S.useEffect(()=>{a?e((0,x.BO)({url:t.ctaUrl,text:t.ctaText,mods:t.ctaMods,enabled:a})):e()},[t,a,e])},rR=()=>{let{setCaptionsUrl:e}=(0,_.dPl)(),t=(0,k.v9)(eE.jl);return S.useEffect(()=>{e&&e(t)},[t,e]),null};var rO=a(22286),rD=a.n(rO),rM=a.p+"img/icons/new/add-white-4d66bcb0e24cd02e4fec.svg",rW=a.p+"img/icons/new/minus-white-853ebc18dc70f9f38e23.svg",rV=a.p+"img/illustrations/drag-to-reposition-a58753a67014b4cfc40d.svg",rU=a(93563),r$=a(78940),rB=a.n(r$),rF=a(99921);let rz=(e,t,a,r,n)=>{let o=e=>{t.current?.focus();let{x:o}=(0,rF.K1)(t.current,e);n(a+o*(r-a))},l=e=>{document.removeEventListener("mousemove",o,!0),document.removeEventListener("touchmove",o,!0),document.removeEventListener("mouseup",l,!0),document.removeEventListener("touchend",l,!0),t.current?.blur()};document.addEventListener("mousemove",o,!0),document.addEventListener("mouseup",l,!0),document.addEventListener("touchmove",o,!0),document.addEventListener("touchend",l,!0),o(e)},rH=({scale:e,setScale:t,minZoom:a,maxZoom:r})=>{let[n,o]=(0,S.useState)(0),l=(0,S.useRef)(null),i=(e-a)/(r-a);(!rB()(i)||i<0)&&(i=0);let s=Math.floor(100*i),c=l.current?.clientWidth||0;return(0,S.useEffect)(()=>{n!==c&&o(c)},[n,c]),S.createElement("div",{tabIndex:0,ref:l,className:"slider",onMouseDown:e=>rz(e,l,a,r,t),onTouchStart:e=>rz(e,l,a,r,t),onClick:e=>e.preventDefault(),"aria-label":"Zoom slider","aria-valuenow":s,"aria-valuemin":0,"aria-valuemax":100},S.createElement("div",{className:"relative height:100 bgc:white",style:{width:`${s}%`}},S.createElement("span",{className:"zoom"})))};var rq={container:"thumbnail-positioner_container_3Vn",line:"thumbnail-positioner_line_2Pe",window:"thumbnail-positioner_window_3GH",editing:"thumbnail-positioner_editing_3lF",loadingSpinner:"thumbnail-positioner_loadingSpinner_3AJ",zoomPill:"thumbnail-positioner_zoomPill_1zi",scale:"thumbnail-positioner_scale_2x7",drag:"thumbnail-positioner_drag_1ps"},rJ=a(62259),rj=a(69705);let rG=({initiateSave:e,currentlyUploading:t,cropperRef:a,thumbnailLocalUrl:r,options:n})=>{let o=(0,k.I0)(),{showErrorBar:l}=(0,f.gV)(),{setShowConfirmationToast:i}=(0,eX.x)(),{video:{id:d},setVideo:u}=(0,_.dPl)(),m=(0,tH.J$)();if(!e||t||!a.current)return;let{x:p,y:g,width:h,height:v}=a.current.getCroppingRect();o((0,rJ.f5)());let E=rZ(r);if(E.size>1e6*4){l({message:"Selected file too big. Max 4 MB. Please try again.",severity:s.W9.ERROR}),o((0,rJ.f5)());return}let w=new FormData;w.append("thumbnail",E),w.append("dims",JSON.stringify({...n,x:p,y:g,width:h,height:v})),(0,tz.Z)(`/v1/videos/${d}`,{method:"PATCH",credentials:"include",body:w}).then(e=>{if(e.status>=400)throw Error(`got a bad response status: ${e.status}`);return o((0,rJ.f5)()),i("New thumbnail saved"),o((0,rJ.oU)()),tw.track(c.rtr,{video_id:d}),e.json()}).then(e=>{u((0,x.TW)(e)),m.cache.modify({id:m.cache.identify({id:d,__typename:"RegularUserVideo"}),fields:{thumbnails:t=>{let a=(0,rj.r)(e.thumbnails);return{...t,...a}},defaultThumbnails:t=>({...t,default:e.defaultThumbnails.default,static:e.defaultThumbnails.static})}})}).catch(e=>{l({message:"Oops! Failed to update video thumbnail.",severity:s.W9.ERROR}),B.warning(e,{message:"Error in PATCH to /v1/videos/thumbnail"}),o((0,rJ.f5)()),o((0,rJ.oU)())})},rZ=e=>{let t=e.split(","),a=t[0].match(/:(.*?);/)[1],r=atob(t[1]),n=r.length,o=new Uint8Array(n);for(;n--;)o[n]=r.charCodeAt(n);return new Blob([o],{type:a})},rX=()=>{let{video:{thumbnails:{og_thumbnail_crop_dims:e}}}=(0,_.dPl)(),t=(0,k.v9)(rU.k7),a=(0,k.v9)(rU.CX),r=(0,k.v9)(rU.wp),n=(0,k.v9)(rU.tX),{width:o,height:l}=t??{width:0,height:0},i=e?.position_info??{position:{x:0,y:0},scale:1},[s,c]=(0,S.useState)(i.scale),[d,u]=(0,S.useState)(i.position),[m,p]=(0,S.useState)({height:0,width:0}),[g,h]=(0,S.useState)(!1),v=(0,S.useRef)(null),E=(0,S.useRef)(null),f=()=>{if(v.current){let{width:e,height:t}=v.current.getBoundingClientRect();p({width:e,height:t})}};(0,S.useEffect)(()=>(window.addEventListener("resize",f),()=>{window.removeEventListener("resize",f)}),[]),rG({initiateSave:n,currentlyUploading:r,cropperRef:E,thumbnailLocalUrl:a,options:{full_width:o,full_height:l,position_info:{scale:s,position:d}}}),(0,S.useEffect)(()=>{if(e){let{position_info:{position:t,scale:a}}=e;u(t),c(a)}},[e]),(0,S.useEffect)(()=>{a&&f()},[a]);let w=a||r,b=a&&!r,y=!g&&b;return S.createElement("div",{ref:v,className:U()(rq.window,w?rq.editing:"")},a?S.createElement(rD(),{position:d,ref:E,image:a,width:m?.width,height:m?.height,scale:s,style:{cursor:"move"},onMouseMove:()=>{g||h(!0)},onMouseUp:()=>{h(!1)},onPositionChange:u,border:0}):null,y?S.createElement("img",{alt:"drag to reposition",width:"175px",height:"42px",src:rV,className:rq.drag}):null,r?S.createElement("div",{className:rq.loadingSpinner},S.createElement(T.aNw,{size:"large"})):null,b?S.createElement(S.Fragment,null,S.createElement(rY,{height:m.height,width:m.width}),S.createElement("div",{className:rq.zoomPill},S.createElement("img",{alt:"zoom out",width:"12",height:"2",src:rW,className:rq.scale,onClick:()=>{c(e=>Math.max(e-.1,1))}}),S.createElement(rH,{maxZoom:4,minZoom:1,scale:s,setScale:c}),S.createElement("img",{alt:"zoom in",width:"12",height:"12",src:rM,className:rq.scale,onClick:()=>{c(e=>Math.min(e+.1,4))}}))):null)},rY=({height:e,width:t})=>S.createElement("div",{className:rq.container,style:{width:t,height:e}},S.createElement("div",{className:rq.line,style:{top:e/3,width:t}}),S.createElement("div",{className:rq.line,style:{top:2*e/3,width:t}}),S.createElement("div",{className:U()(rq.line,rq.horizontal),style:{left:t/3,height:e}}),S.createElement("div",{className:U()(rq.line,rq.horizontal),style:{left:2*t/3,height:e}}));var rK=a(22562),rQ=a(41233),r0=a(25320),r1={stepAnimation:"progress-bar_stepAnimation_Li0",tutorialComplete:"progress-bar_tutorialComplete_2bD"};let r2=({tutorialComplete:e})=>S.createElement(T.W20,{backgroundColor:"grey6",height:"6px",overflow:"hidden",position:"relative",radius:"full",width:"212px",zIndex:1},S.createElement("div",{className:U()(r1.stepAnimation,e&&r1.tutorialComplete)}),S.createElement("svg",{width:"212",height:"6",viewBox:"0 0 212 6",xmlns:"http://www.w3.org/2000/svg",className:"absolute"},S.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M212 0H0V3.00175V6H2.8967C1.28768 5.94555 0 4.62403 0 3.00175C0 1.34489 1.34315 0.00174546 3 0.00174546H29C30.6569 0.00174546 32 1.34489 32 3.00175C32 4.62403 30.7123 5.94555 29.1033 6H38.8967C37.2877 5.94555 36 4.62403 36 3.00175C36 1.34489 37.3431 0.00174546 39 0.00174546H65C66.6569 0.00174546 68 1.34489 68 3.00175C68 4.62403 66.7123 5.94555 65.1033 6H74.8967C73.2877 5.94555 72 4.62403 72 3.00175C72 1.34489 73.3431 0.00174546 75 0.00174546H101C102.657 0.00174546 104 1.34489 104 3.00175C104 4.62403 102.712 5.94555 101.103 6H110.897C109.288 5.94555 108 4.62403 108 3.00175C108 1.34489 109.343 0.00174546 111 0.00174546H137C138.657 0.00174546 140 1.34489 140 3.00175C140 4.62403 138.712 5.94555 137.103 6H146.897C145.288 5.94555 144 4.62403 144 3.00175C144 1.34489 145.343 0.00174546 147 0.00174546H173C174.657 0.00174546 176 1.34489 176 3.00175C176 4.62403 174.712 5.94555 173.103 6H182.897C181.288 5.94555 180 4.62403 180 3.00175C180 1.34489 181.343 0.00174546 183 0.00174546H209C210.657 0.00174546 212 1.34489 212 3.00175C212 4.62403 210.712 5.94555 209.103 6H212V3.00175V0Z",fill:"#2B1C50"})));var r4={tutorialWrapper:"card_tutorialWrapper_DPx",orangeBlur:"card_orangeBlur_3ek",pinkBlur:"card_pinkBlur_2Yr",purpleBlur:"card_purpleBlur_jKg"};let r6=({heading:e,subheading:t,cta:a,closeTutorial:r,tutorialStep:n,tutorialComplete:o})=>((0,S.useEffect)(()=>{void 0!==n&&tw.track(c.El2,{tutorialStep:n})},[n]),S.createElement("div",{className:r4.tutorialWrapper},o&&S.createElement(S.Fragment,null,S.createElement("span",{className:r4.purpleBlur}),S.createElement("span",{className:r4.pinkBlur}),S.createElement("span",{className:r4.orangeBlur})),S.createElement(T.W20,{"data-lens-theme":"dark",width:"38.25rem",height:"18.625rem",padding:7},S.createElement(r2,{tutorialComplete:o}),S.createElement(T.W20,{position:"relative",zIndex:2},S.createElement(T.LZC,{y:"large"},S.createElement(T.xvT,{fontWeight:"bold",size:"heading-md",color:"body"},e)),S.createElement(T.xvT,{size:"body-lg",color:"body"},t),S.createElement(T.LZC,{top:"xlarge"}),S.createElement(T.ggW,{gap:"xlarge"},a&&S.createElement(T.W20,{backgroundColor:"white",radius:"full","data-lens-theme":"light"},a),r&&S.createElement(T.Avr,{onClick:r,offsetSide:"left"},"Close tutorial"))))));var r3=((r=r3||{}).copyAndShare="copyAndShare",r.recordAnotherLoom="recordAnotherLoom",r);let r5=()=>{let[e,t]=(0,S.useState)(!0),[a,r]=(0,rQ.Z)(rK.GA),n=()=>{t(!1),r(!1)},o="",l="",i,s;return a?(o="Copy the link to share",l="Fun factâ€”when you finish the recording, the link is auto-copied.",s=r3.copyAndShare):(o="Hey there, new Loom pro \uD83E\uDD29",l="First Loom, done. Youâ€™re now ready to make your own.",i=S.createElement(r0.RecordButton,{source:"Extension tutorial complete record another Loom clicked",priorityList:[ak.fl]},S.createElement(T.zxk,{onClick:n},"Record another Loom video")),s=!1===a?r3.recordAnotherLoom:void 0),(0,S.useEffect)(()=>{r(!0)},[]),e?S.createElement(S.Fragment,null,a&&S.createElement(T.W20,{position:"fixed",top:0,right:0,bottom:0,left:0,backgroundColor:"rgba(75, 66, 173, .8)",zIndex:2}),S.createElement(r6,{heading:o,subheading:l,cta:i,closeTutorial:()=>{tw.track(c.RE9,{tutorialStep:s}),n()},tutorialStep:s,tutorialComplete:!a})):null};var r7=a(91803),r9=a(23653),r8=a(20389);let{SignedOutEndOfVideoNudges:ne,SignedOutEndOfVideoNudgesEmojiReactions:nt,AnonWebPlayerPauseModal:na}=eY.ASGSource,nr=({shouldOpenInsights:e,fromRecorderParam:t,openSharePermissionsParam:a})=>{let r=(0,k.I0)(),{setVideo:n,video:{id:o="",owner:l}={}}=(0,_.dPl)(),{setShowConfirmationToast:i}=(0,eX.x)(),s=(0,_.nn3)(o),c=(0,v.useIsCurrentUserLoggedIn)(),d=(0,k.v9)(e=>e.welcome?.complete),u=(0,eU.ke)("replyVideoId"),p=(0,eU.jS)("t"),g=(0,eU.jS)("videoCurrentTime"),[h,E]=S.useState(!1);S.useEffect(()=>{if(s){if(u&&g){let e=Number(g);Number.isNaN(e)||(s.currentTime=Number(g));return}if(p){let e=Number(p);Number.isNaN(e)||(s.currentTime=Number(p))}}},[u,s,p,g]),S.useEffect(()=>{if((u&&!d||W.r8&&(0,eU.jS)("anon-reply-creator"))&&r((0,I.h7)({modalType:w.Hk})),(0,eU.ke)("resume-signup")&&r((0,I.h7)({modalType:w.rE.ANON_CREATOR_SIGNUP_MODAL})),(0,eU.ke)("resume-anon-signup")&&r((0,I.h7)({modalType:(0,te.MG)()})),W.r8&&(0,eU.ke)("hardgate_comment")){let e=(0,eU.jS)("hardgate_comment");r((0,I.h7)({modalType:w.rE.HARD_GATE_COMMENT_EMOJI_MODAL,options:{interactionType:r9.s.Comment,comment:e}}))}if(W.r8&&(0,eU.ke)("hardgate_view")&&r((0,I.h7)({modalType:w.rE.HARD_GATE_VIEWS_MODAL,options:{videoOwnerName:"",source:eY.ASGSource.SignedOutHardGatingViews,signupParams:{signup_source:eY.ASGSource.SignedOutHardGatingViews},gate:e9.K.HARD_GATE_VIEWS}})),(0,eU.ke)("start-embed-anon-signup")&&!c){let e=`Sign up to tell ${l?.displayName||"your teammate"} you watched this!`;r((0,I.h7)({modalType:(0,te.MG)(),options:{header:e,subheader:"Share ideas. Skip meetings.",hideModeSwitcher:!0,source:na}}))}if((0,eU.ke)("asg_comment")&&(0,eU.ke)("comment")&&!c){let e=(0,eU.jS)("comment"),t=(0,eU.jS)("video_time_stamp"),a=(0,eU.jS)("anon_name");r((0,I.h7)({modalType:(0,te.MG)(),options:{gate:e9.K.REACTION,comment:e,commentVideoId:o,anonName:a,videoId:o,header:"Add your name to this comment",subheader:"Sign up and cut down on live meetings.",tertiaryButtonText:"Post comment anonymously",tertiaryButtonIcon:te.YO.Comment,hideModeSwitcher:!0,source:ne,signupParams:{anonComment:e,anonCommentVideoId:o,anonCommentTimestamp:t,signup_source:ne}}}))}if((0,eU.ke)("asg_reaction")&&(0,eU.ke)("reaction")&&!c){let e=(0,eU.jS)("reaction"),t=(0,eU.jS)("video_time_stamp");r((0,I.h7)({modalType:(0,te.MG)(),options:{gate:e9.K.REACTION,emojiReaction:e,emojiReactVideoId:o,header:"Add your name to this reaction",subheader:"Sign up and cut down on live meetings.",tertiaryButtonText:"Post reaction anonymously",tertiaryButtonIcon:te.YO.React,hideModeSwitcher:!0,source:nt,signupParams:{anonReaction:e,anonReactionVideoId:o,anonReactionTimestamp:t,signup_source:nt}}}))}e&&r((0,r8.Z)())},[r,t,u,c,l?.displayName,e,o,d]),S.useEffect(()=>{a&&!h&&(E(!0),r((0,I.h7)({modalType:w.cc,options:{source:eK.B.ShareButton,videoId:o,setVideo:n}})))},[r,a,o,n,h]),S.useEffect(()=>{t&&r7.zp(`${m.OA}/share/${o}`)&&i("Link copied to clipboard!")},[t,o,i])};var nn=a(55612);let no=(0,ei.r)(()=>Promise.all([a.e(0),a.e(9298)]).then(a.bind(a,30617)).then(e=>({default:e.VideoMetadata}))),nl=()=>S.createElement(S.Suspense,{fallback:null},S.createElement(no,null)),ni=(0,ei.r)(()=>a.e(5869).then(a.bind(a,45869)).then(e=>({default:e.VideoMetadataMobile}))),ns=e=>S.createElement(S.Suspense,{fallback:null},S.createElement(ni,{...e})),nc=e=>{let{featureLoadedRef:t}=(0,em.kX)();return(0,M.UV)()?null:S.createElement("div",{ref:t,className:"metadataContainer"},S.createElement(T.ggW,{gap:"medium",autoFlow:"column",alignItems:"start",justifyContent:"stretch",columns:["100%"]},S.createElement(ek.z,{query:`(max-width: ${e_.I0}px)`},S.createElement(ns,{anonCreatorMode:e.anonCreatorMode,focusTitle:e.focusTitle})),S.createElement(ek.z,{query:`(min-width: ${e_.Sx}px)`},S.createElement(nl,null))))},nd=e=>S.createElement(ed.$,{feature:F.L0.VideoMetadata,errorType:eu.s.SILENT},S.createElement(nc,{...e})),nu=()=>{let{video:{complete:e}}=(0,_.dPl)(),{fetchShareVideoDownloadUrl:t}=(0,e0.g)();return S.useEffect(()=>{e&&t()},[e,t]),null};var nm=a(42720),np=a(83037),ng=a(24614),nh=a(13292),nv=a(17563),nE=((n=nE||{}).DISPLAY="display",n.SKIPPED="skipped",n.DISMISSED="dismissed",n),nf=a(23217),nw=a(15596),nb=a(28729),ny=a(73671);function n_(){let[e,t]=(0,S.useState)(!1),[a,r]=(0,S.useState)(!1),n=(0,eU.PE)(window.location.pathname)[0],o=(0,eO.Mr)({flag:ny.tF.EXP_ROLLOUT_FEDCM_FOR_ONE_TAP,controlType:ny.C2.STATSIG_EXPERIMENT,activationValues:[!0]});return(0,S.useEffect)(()=>{void 0!==o&&(window?.google?.accounts?.id?.initialize?.({client_id:nv.MM,use_fedcm_for_prompt:o,callback(e){e?.credential&&nf.fi(nb.d0,{id_token:e.credential,authURL:window.location.href,fromWebSignup:!0}),nw.v3("google_one_tap.accepted",{source:n})}}),r(!0))},[n,e,a,o]),(0,S.useLayoutEffect)(()=>{!e&&a&&(window?.google?.accounts?.id?.prompt(e=>{if(e.isDisplayed())nw.v3("google_one_tap.displayed",{source:n});else switch(e.getMomentType()){case nE.DISPLAY:nw.v3("google_one_tap.not_displayed",{reason:e.getNotDisplayedReason(),source:n});break;case nE.SKIPPED:nw.v3("google_one_tap.skipped",{reason:e.getSkippedReason(),source:n});break;case nE.DISMISSED:nw.v3("google_one_tap.dismissed",{reason:e.getDismissedReason(),source:n})}}),t(!0))},[e,a,n,t]),null}let nC=({flag:e,activationValues:t,extraProperties:a})=>{let{featureLoadedRef:r}=(0,em.kX)();return S.createElement(nh.Z,{flag:e,activationValues:t,extraProperties:a},S.createElement("div",{ref:r},S.createElement(n_,null)))},nS=({flag:e,activationValues:t,extraProperties:a})=>S.createElement(ed.$,{feature:F.L0.GoogleOneTap,errorType:eu.s.SILENT},S.createElement(nC,{flag:e,activationValues:t,extraProperties:a}));var nk=a(97958),nI=a(67203),nT=a(96367);let nA=({isLoggedIn:e,currentUserIsOwner:t})=>{(0,nI.U)(),(0,nk.uE)(),(0,eO.Mr)({flag:eB.YU,activationValues:nT.Q8,eligibilityPreCheckFunction:()=>e&&t?{pass:!0}:{pass:!1,failReason:"ineligible: not part of experiment exposure criteria"}}),(0,eO.Mr)({flag:eB._Vl,activationValues:nT.Q8,eligibilityPreCheckFunction:()=>e&&t?{pass:!0}:{pass:!1,failReason:"ineligible: not part of experiment exposure criteria"}})},nP=(0,ei.r)(()=>Promise.resolve().then(a.bind(a,25320)).then(e=>({default:e.RecordButton}))),nx=(0,k.$j)(e=>{let{current_user_is_owner:t,download_url:a}=e.share_video,{selectedWorkspace:r}=e.workspace,{theater_mode:n,transcriptVisible:o,needs_password:l}=e.video_player,{complete:i}=e.welcome,s=(0,ng.F)(e),c=(0,a2.MU)(e,eF.Qb);return{currentUserIsOwner:t,downloadUrl:a,hasSuggestedWorkspaceBanner:c,isPasswordProtected:l,isViewerInsightsActive:s,selectedWorkspace:r,theaterMode:n,transcriptVisible:o,welcomeComplete:i}},null)(({children:e,focusTitle:t,fromRecorderParam:a,fromTutorialParam:r,recordingLimitParam:n,...o})=>{let{video:l}=(0,_.dPl)(),{description:i,id:s,organizationId:c}=l,d=(0,eG.T2)(),u=(0,k.v9)(rU.DD),m=o.downloadable?o.downloadUrl:null,{hasCustomLogo:p,shouldShowLoomBranding:g}=(0,E.e)({videoId:s}),h=(0,L.l)(s),w=(0,v.useIsCurrentUserLoggedIn)(),b=(0,v.useCurrentUserSelector)(e=>!!(e.accountType&&nm.Up.includes(e.accountType)),!1),y=(0,eM.gH)(eF.ul),C=!w||!y||!b,{currentUserIsOwner:I,theaterMode:A,hasSuggestedWorkspaceBanner:P}=o,{errorBar:{showing:x}}=(0,f.gV)();nA({isLoggedIn:w,currentUserIsOwner:I});let N=(0,S.useRef)(null),R=(0,S.useRef)(null),O=(0,S.useRef)(null),D=(0,nn.V)();(0,S.useEffect)(()=>{N.current?.style?.setProperty("--aspectRatio",String(D))},[D]),(0,S.useEffect)(()=>{u&&(window.scrollTo({top:0,behavior:"smooth"}),R.current?.scrollTo({top:0,behavior:"smooth"}))},[u]);let V=(0,eG.MS)(),q=!(0,M.UV)()&&!r,et=(0,k.v9)(rU.DD),ea=U()("sharePageWrapper",{"current-user-is-owner":I,"error-bar-shown":x,theaterMode:A,hideSideNav:V,hasDescription:!!i,hideBlackBarsInVideo:V,inThumbnailFlow:et});!function(){let{video:{id:e}}=(0,_.dPl)(),t=(0,$.v)({videoId:e}),a=(0,v.useCurrentUserSelector)(e=>e.aiAccess,null),r=Object.values(a||{}).some(e=>e),[n,o]=(0,S.useState)(!1),l=(0,k.I0)();!function(e){let t={...j,...e};J.m(G,t)}({variables:{videoId:e},skip:!t||n||!r,onData:({data:e})=>{let t=e?.data;if(t&&!e?.loading&&t.intelligenceAvailable?.__typename==="IntelligenceStatusResponse"){var a,r;let{autoTitleStatus:e,title:n,autoDescriptionStatus:i,description:s,autoTasksStatus:c,autoTasksCount:d,autoChaptersStatus:u,autoChaptersCount:m}=t.intelligenceAvailable;l((0,z.IB)({autoTitleStatus:e,title:n,autoSummaryStatus:i,summary:s,autoTasksStatus:c,autoTasksCount:d,autoChaptersStatus:u,autoChaptersCount:m})),(a=t.intelligenceAvailable)&&Z(a.autoTitleStatus)&&Z(a.autoDescriptionStatus)&&Z(a.autoTasksStatus)&&((r=a.autoChaptersStatus)===H.CK.Success||r===H.CK.Failure)&&o(!0)}},onError:t=>{let a=`Error subscribing to AI updates for video ${e}: ${t.message}`;B.error(t,{message:a,videoId:e},{feature:F.L0.VideoIntelligence})}})}();let er=!w&&!rl.tq,en=(0,np.cR)()===np.MT.GET_STARTED_CHECKLIST_CALLOUT,eo=!w&&!d,el=g&&p,ei=V&&!en&&!el,es=(0,v.useIsCurrentUserLoggedIn)(),ec=!!(0,v.useCurrentUserSelector)(e=>e.persona?.persona_v1?.use_case_plan_persona,null),ed=(0,t6.W)();return(0,t3.A)(ed,es,ec),S.createElement(rP,{useAnonymousNavigation:C,videoId:s},S.createElement(K.C,null),S.createElement("div",{ref:N,className:ea},w&&P?S.createElement(a_,{organizationId:c}):null,S.createElement("div",{className:"sharePageContainer"},S.createElement("div",{ref:R,id:"videoAndMetadataWrapper",className:"videoAndMetadataWrapper"},eo?S.createElement(t9,null):null,S.createElement("div",{className:"videoContainer"},S.createElement(ew,null),e,S.createElement(ao,null),ei?S.createElement(X.Ho,{feature:F.L0.SDKRecorder},S.createElement(S.Suspense,{fallback:null},S.createElement(T.W20,{position:"fixed",left:"xlarge",bottom:"large",zIndex:1},S.createElement(nP,{priorityList:w?[ak.fl,ak.q5,ak.Bq]:[ak.Bq],location:r0.SHARE_PAGE},S.createElement(Q.w,{isCollapsed:!0,hideSideNav:!0,isOnSharePage:!0}))))):null),S.createElement(nd,{anonCreatorMode:h,focusTitle:t,fromRecorderParam:a})),q?S.createElement(ee.XH,{useDefaultWidth:u,ref:O}):null,I?S.createElement(rI,null):null,S.createElement(v.LoggedInOnly,null,S.createElement(Y.l,{inVideoWrapper:!0,rightPanelRef:O})))),S.createElement("div",{id:"gmail-integration-share-page-placeholder"}),el?S.createElement(aT,null):null,S.createElement(t2,null),S.createElement(tB,{isLoggedIn:w,downloadUrl:m,fromRecorderParam:a,fromTutorialParam:r}),S.createElement(rm,{fromRecorderParam:a,recordingLimitParam:n}),er&&!W.cm?S.createElement(nS,{flag:eB.YmC,activationValues:[eB.c7r],extraProperties:{isMobile:rl.tq}}):null)}),nL=e=>{let t=(0,k.v9)(rU.wu),a=(0,k.v9)(rU.DD),{video:r}=(0,_.dPl)(),{currentUserCanEdit:n,downloadable:o}=r;nr({shouldOpenInsights:e.shouldOpenInsights,fromRecorderParam:e.fromRecorderParam,openSharePermissionsParam:e.openSharePermissionsParam}),(0,t5.jv)(r.id);let l=(0,eo.A)({videoId:r.id}),i=e.fromTutorialParam&&e.fromRecorderParam&&l;return S.createElement(nx,{...e,downloadable:o,userCanEdit:n},i?S.createElement(r5,null):null,S.createElement(t4.dR,null,S.createElement(ae,{fromRecorderParam:e.fromRecorderParam,isFromTutorial:e.fromTutorialParam}),S.createElement(ee.VR,null),S.createElement(ar,null),S.createElement(nu,null),S.createElement(rx,null),t&&l?S.createElement(ey,null):null,a?S.createElement(rX,null):null))};var nN=a(34150),nR=a(96168),nO=a(63240),nD=a(32197),nM=a(9905);let nW=({data:e,focusTitleParam:t,mutedParam:a,timeParam:r,shouldOpenInsights:n,fromRecorderParam:o,fromTutorialParam:l,recordingLimitParam:i,activeTabParam:I,oauthError:T,anonEmailParam:W,openSharePermissionsParam:V})=>{let U=(0,k.I0)(),{showErrorBar:$}=(0,f.gV)(),[B,F]=(0,S.useState)(!1),{initPasswordStore:H}=(0,y.u)(),q=(0,nD.getVideoIdFromPageUrl)(window.location.href),J=(0,v.useIsCurrentUserLoggedIn)(),{updateVideo:j}=(0,C.G)(),{setAnonUserName:G}=(0,b.P)(),{videoModel:Z,loading:X}=(0,M.BI)({videoId:q}),{injectCustomBrandColors:Y}=(0,E.e)({videoId:q}),K=(0,L.l)(q),Q=(0,N.T)();if((0,S.useLayoutEffect)(()=>{X||Z||B||(window.location.href=m.Hi)},[B,X,Z]),(0,S.useLayoutEffect)(()=>{X||!Z||B||(T&&$({message:decodeURIComponent(T),severity:s.W9.ERROR}),H({isProtected:Z.is_protected,needsPassword:Z.needs_password}),U((0,tG.Xh)(!0)),Q(),U((0,z.jE)(Z)),j(Z),(0,nM.Dk)(Z.name),U((0,z.gw)(o)),I&&U((0,z.Yi)(I)),U((0,z.XU)(o)),Y(),!o&&(0,aa.bM)("theaterMode")&&U((0,tG.zn)(!0)),F(!0))},[I,U,o,H,Y,B,Q,X,T,$,j,Z]),(0,S.useEffect)(()=>{if(!X&&W&&!J){G(W);let e=Z?Z.id:null;tw.track(c.UAv,{videoId:e})}},[W,J,X,Z,G]),(0,S.useEffect)(()=>{let e=document.referrer,t=nR.Z[nR.x.smartChip].includes(e),a=nR.Z[nR.x.googleChat].includes(e);(t||a)&&(0,nw.v3)(d.Cv,{type:t?nR.Z[nR.x.smartChip]:nR.Z[nR.x.googleChat]})},[]),X||!Z||!B)return null;let ee=Z.current_user_is_owner,et={...x.x_,uid:Z.id};return S.createElement(_.NPM,{video:(0,x.TW)(Z),userContext:et},S.createElement(g.M,{pageName:h.s.SHARE},S.createElement(nN.TV,null,S.createElement(p.NJ,{pageName:u.o,props:{is_owner:ee,fresh:!0,isCommunityLoom:Z.isCommunityLoom}},S.createElement(R.ZF,null,S.createElement(D.W,null,K&&S.createElement(A,null),S.createElement(P.Provider,{value:e[nO.cD]},S.createElement(O.m$.Provider,{value:e[nO.$m]},S.createElement(O.x7,null,S.createElement(nL,{focusTitle:t,mutedParam:a,timeParam:r,shouldOpenInsights:n,fromRecorderParam:o,fromTutorialParam:l,recordingLimitParam:i,openSharePermissionsParam:V})))),S.createElement(w.F0,null)))))))};var nV=a(7844),nU=a(83380),n$=a.n(nU);let nB=()=>{window.loomResetFtux=async e=>{let t=(0,tH.J$)();try{return await t.mutate({mutation:n$(),variables:{name:e,value:!1}}),`FTUX "${e}" reset! You should refresh the page now.`}catch(t){return`Error resetting FTUX "${e}": ${t}`}}};var nF=a(77665),nz=a(25030),nH=a(5902),nq=a(68034),nJ=a(62238),nj=a(68213);let{reactor:nG}=ep.NOTIFICATION_URL_PARAMS,nZ="1"===(0,eU.jS)(nH.nX),nX="1"===(0,eU.jS)(nH.s1),nY="loom-video-first-view-updated"===(0,eU.jS)(nH.bR),nK=(0,nJ.k)(nG),nQ=""!==nK,n0="1"===(0,eU.jS)(nH.mU),n1="1"===(0,eU.jS)(nH.xt),n2="1"===(0,eU.jS)(nH.ED),n4=(0,eU.jS)(nH._G),n6="1"===(0,eU.jS)(nH.oR),n3=(0,eU.jS)(nH._S),n5=(0,eU.jS)(nH.oO),n7=(0,eU.jS)(nH._F)?(0,nj.FL)(atob((0,eU.jS)(nH._F)),{}):{},n9=(0,eU.jS)(nH.XD);try{!function(){nF.v.onReady(()=>{nF.v.startView("/share/:videoId")});try{(0,nz.XC)()}catch{}let{pathname:e,search:t}=window.location,a=(0,eU.t9)([nH._G,nH.nX,nH.s1,nH.bR,nH.mU,nH.ED,nH.oO,nH.bC,nH.Im,nH._F,nH.xt,nH.XD,nH.oR],t);window.history.replaceState("","",`${e}${a}`),n7&&n7?.referrer==="push"&&(0,nq.gC)(n7);let r=document.getElementById("container");nB(),(0,nV.render)(S.createElement(o.KA,null,S.createElement(i.t,{feature:F.L0.SharePage,pageName:F.T3.Share},S.createElement(l.b,null,S.createElement(nW,{data:n7,focusTitleParam:nZ,mutedParam:nX,timeParam:n3,shouldOpenInsights:nY||nQ,fromRecorderParam:n0,fromTutorialParam:n1,recordingLimitParam:n2,activeTabParam:n4,oauthError:n5,anonEmailParam:n9,openSharePermissionsParam:n6})))),r)}()}catch(e){["SecurityError"].includes(e.name)||B.error(e,{message:"[Fresh Page] Errored",hasVideo:!0},{feature:F.L0.SharePage})}},14567:function(e,t,a){a.d(t,{Qs:function(){return o},hv:function(){return n},zB:function(){return r}});let r=e=>/\s/g.test(e),n=e=>`Copy of ${e}`;function o(e){return e.charAt(0).toUpperCase()+e.slice(1)}},21507:function(e,t,a){e.exports=a.p+"img/video-player/outage-ae512bb9e4a90e444101.png"}},function(e){var t=function(t){return e(e.s=t)};e.O(0,[8264,9742,8287,5034,9584,8256,4840,4082,8717,1977,5796,7109,7169,7698,8566,9819,2290,9524,6651,9256,2051,2973,4495,8341,7125,7299,7789,9324,6300,5672,3841,7735],function(){return t(47872),t(96903),t(23721)}),e.O()}]);
//# sourceMappingURL=https://www.loom.com/admin/sourcemaps/js/share-video-483ead4516dd6e461218.js.map